<!DOCTYPE html>
<html>

<head>
    <title>查看编辑逻辑图</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../../../lib/bootstrap/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../../../../lib/bootstrap/css/bootstrap.css" rel="stylesheet">
    <!--向导插件-->
    <!--<link rel="stylesheet" href="../../../../lib/bootstro/bootstro.css">-->

    <link href="../../../css/common/common.css" rel="stylesheet">
    <link href="../../../css/segment/segment.css" rel="stylesheet">
    <link href="../../../css/theme/default/skin.css" rel="stylesheet" class="theme">
    <script src="js/raphael1.js"></script>
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="../../../../lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../../../lib/bootstrap/js/bootstrap-table.min.js"></script>
    <!--向导插件-->
    <!--<script src="../../../../lib/bootstro/bootstro.js"></script>-->

    <script src="../../../../lib/layer/layer.js"></script>
    <script src="../../../../lib/scroll/mCustomScrollbar/jquery.mCustomScrollbar.js"></script>
    <script src="../../../js/common/privilege.js"></script>
    <script src="../../../js/common/html5-storage.js"></script>
    <script src="../../../js/common/common.js"></script>
    <script src="../../../js/common/zhuge.js"></script>
    <script src="../../../js/common/layer-custom.js"></script>
    <!--<script src="../../../js/segment/view_chart.js"></script>-->
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        body {
            font-size: 12px;
            font-family: '微软雅黑';
            color: #333333;
            
            /*如果画布超出视口，添加滚动条*/
            overflow: auto;  
        }

        .toolsTable {
            border: 2px solid #ddd;
            border-spacing: 2px;
        }

        .toolsTable td {
            width: 45px;
            height: 35px;
            text-align: center;
            vertical-align: middle;
            border: 1px solid #ddd;
            font-size: 8px;
        }

        .attributeTable {
            border: 1px solid #ddd;
            border-spacing: 1px;
            position: fixed;
            width: 200px;
            background-color: #FFFFFF;
        }

        .attributeTable td {
            height: 30px;
            text-align: right;
            vertical-align: middle;
            padding-right: 10px;
        }

        table .fa-lg {
            vertical-align: 0% !important;
            padding: 2px;
        }

        table img {
            cursor: pointer;
        }
    </style>
</head>

<body ondragstart="return false;">

    <!--画图的面板：table的一个单元格-->
    <table id="viewpanel" style="position: absolute; left: 113px; top: 37px;" cellpadding="0" cellspacing="0">
        <tr>
            <td style="background-color: #edf1f2; padding: 15px;">
                <div id="holder" style="border: solid 1px #ddd; background:url(image/canvas.png) repeat; background-color: #FFFFFF"></div>
                <td>
        </tr>
    </table>

    <!--画图的工具栏-->
    <table class="for-operation" style="position: fixed; top: 0px; left: 0px; width: 100%; border: 0px;" cellpadding="0" cellspacing="0"
        ondragstart="return false;">
        <tr>
            <td style="height: 40px; background-color: #FFFFFF; vertical-align: middle;">
                <table style="padding-left: 10px;">
                    <tr>
                        <td id="save" style="padding: 0px;display: none;"><img class="CP-i18n" key="save" src="icon/save_01.png" title="保存草稿" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);clicksave();"></td>
                        <td id="extract" style="display: none;"><img class="CP-i18n" key="Extract" src="icon/chouqu_01.png" title="抽取" onclick="extractSegment()"></td>
                        <td id="publish" style="display: none;"><img class="CP-i18n" key="Publish"  src="icon/fabu_01.png" title="发布" onclick="publishChart()"></td>
                        <td id="edit" style="display: none;"><img class="CP-i18n" key="Edit"  src="icon/bianji_01.png" title="编辑" onclick="changeToEdit()"></td>
                        <!--<td style="padding: 0px;"><img src="icon/history_01.png" title="历史" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);" onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);"></td>-->
                        <td style="padding: 0px;"><img class="CP-i18n" key="Download"  src="icon/download_01.png" title="下载" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);saveAsImage();"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 0px;" class="previous"><img class="CP-i18n" key="Undo"  src="icon/previous_01.png" title="撤销" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);previousView();"></td>
                        <td class="unprevious" style="display:none;"><img class="CP-i18n" key="Undo"  src="icon/previous_04.png" title="撤销"></td>
                        <td style="padding: 0px;" class="next"><img class="CP-i18n" key="Redo"  src="icon/next_01.png" title="恢复" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);nextView();"></td>
                        <td class="unnext" style="display:none;"><img class="CP-i18n" key="Redo"  src="icon/next_04.png" title="恢复"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 0px;">
                            <select id="alltextsize" style="width: 44px; height: 22px; font-size: 8px;" onchange="setAllTextStyle(1);">
							<option value="8">8px</option>
							<option value="9">9px</option>
							<option value="10">10px</option>
							<option value="11">11px</option>
							<option value="12">12px</option>
							<option value="13">13px</option>
							<option value="14">14px</option>
							<option value="15">15px</option>
							<option value="16">16px</option>
							<option value="17">17px</option>
							<option value="18">18px</option>
							<option value="19">19px</option>
							<option value="20">20px</option>
							<option value="21">21px</option>
							<option value="22">22px</option>
							<option value="23">23px</option>
							<option value="24">24px</option>
							<option value="25">25px</option>
							<option value="26">26px</option>
							<option value="27">27px</option>
							<option value="28">28px</option>
							<option value="29">29px</option>
							<option value="30">30px</option>
						</select>
                        </td>
                        <td style="padding: 0px 0px 0px 4px;"><img class="CP-i18n" key="Bold"  src="icon/thick_01.png" title="加粗" onmouseover="imageStateMouseOver(this);" onmouseout="imageStateMouseOut(this);"
                                onclick="thickMouseDown(this);"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Italic"  src="icon/italic_01.png" title="斜体" onmouseover="imageStateMouseOver(this);" onmouseout="imageStateMouseOut(this);"
                                onclick="italicMouseDown(this);"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Align-Center"  src="icon/horizontalmiddle_01.png" title="水平居中" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);alignShape('middle');"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Align-Bottom"  src="icon/horizontalbottom_01.png" title="水平居下" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);alignShape('bottom');"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Align-Top"  src="icon/horizontaltop_01.png" title="水平居上" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);alignShape('top');"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Align-Left"  src="icon/verticalleft_01.png" title="垂直居左" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);alignShape('left');"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Align-Middle"  src="icon/verticalmiddle_01.png" title="垂直居中" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);alignShape('center');"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Align-Right"  src="icon/verticalright_01.png" title="垂直居右" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);alignShape('right');"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Flip-0"  src="icon/0_01.png" title="旋转0度" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);rotateShape(0);"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Flip-Vertically"  src="icon/90_01.png" title="旋转90度" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);rotateShape(90);"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Flip-Horizontally"  src="icon/180_01.png" title="旋转180度" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);rotateShape(180);"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Flip-270"  src="icon/270_01.png" title="旋转270度" onmouseover="imageMouseOver(this);" onmouseout="imageMouseOut(this);"
                                onmousedown="imageMouseDown(this);" onmouseup="imageMouseUp(this);rotateShape(270);"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 0px;"><img class="CP-i18n" key="Add-a-connection"  src="icon/addpoint_01.png" title="增加管点" onmouseover="imageStateMouseOver(this);" onmouseout="imageStateMouseOut(this);"
                                onclick="addMiddlePointMouseDown(this);"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 2px;"><input id="canvasWidth" type="text" style="width: 40px; height: 20px;"></td>
                        <td style="padding: 2px;">X</td>
                        <td style="padding: 2px;"><input id="canvasHeight" type="text" style="width: 40px; height: 20px;"></td>
                        <td style="padding: 2px;"><input class="CP-i18n" key="Reset" type="button" style="height: 26px;" value="重置画布" onclick="resizeCanvas()"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td style="padding: 2px;"><img class="CP-i18n" key="Property" src="icon/shuxing_01.png" title="属性" class="attr-show" onclick="isAttrShow()"></td>
                        <td class="whitespace"></td>
                        <td class="tool-divider"></td>
                        <td class="whitespace"></td>
                        <td>
                            <img class="CP-i18n" key="Copy" src="icon/copy_01.png" title="复制" class="copy-segment" onclick="copyShape()">
                        </td>
                        <td>
                            <img class="CP-i18n" key="Paste" src="icon/paste_01.png" title="粘贴" class="paste-segment" onclick="pasteShape()">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <!--底部分割线-->
        <tr>
            <td style="height: 2px; background-color: #CCCCCC;"></td>
        </tr>
    </table>

    <!--左侧工具栏-->
    <div id="shapepanel" style="position: fixed; top: 42px; left: 0;">
        <table cellspacing="0" cellpadding="0">
            <tr>
                <td style="width: 103px;">
                    <div style="width: 103px; overflow: hidden; text-overflow: ellipsis;">
                        <div id="shapebar" style="width: 120px; overflow-y: scroll; overflow-x: hidden;">
                            <table class="toolsTable" style="background-color: #FFFFFF;" ondragstart="return false;" cellpadding="0" cellspacing="0">
                                <!--<table class="toolsTable" style="background-color: #FFFFFF;" ondragstart="return false;" cellpadding="0" cellspacing="0">-->
                                <tr>
                                    <td class="CP-i18n" key="Station" id="td01" title="站场" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_STATION, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image01" style="width: 42px; height: 29px;" src=""></td>
                                    <td class="CP-i18n" key="Valve-Station" id="td02" title="阀室" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_VALVE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image02" style="width: 42px; height: 29px;" src=""></td>
                                </tr>
                                <tr>
                                    <td class="CP-i18n" key="3LPE-Pipeline" id="td03" title="3PE管道" onmousedown="drawMouseDown(42, 29, ShapeConfig.LINE_3PE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image03" style="width: 42px; height: 29px;" src=""></td>
                                    <td class="CP-i18n" key="Non-3LPE-Pipeline" id="td04" title="非3PE管道" onmousedown="drawMouseDown(42, 29, ShapeConfig.LINE_N3PE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image04" style="width: 42px; height: 29px;" src=""></td>
                                </tr>
                                <tr>
                                    <td class="CP-i18n" key="Above-ground-PLs" id="td05" title="架空线" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_ABOVEGROUNDPL, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image05" style="width: 42px; height: 29px;" src=""></td>
                                    <!--<td id="td06" title="三通" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_TEE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image06" style="width: 42px; height: 29px;" src=""></td>-->
                                    <td class="CP-i18n" key="Tee" id="td06" title="三通" onmousedown="drawMouseDown(26, 25, ShapeConfig.FACILITY_TEE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image06" style="width: 26px; height: 25px;" src=""></td>
                                </tr>
                                <tr>
                                    <!--<td id="td07" title="大小头" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_REDUCER, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image07" style="width: 42px; height: 29px;" src=""></td>-->
                                    <td class="CP-i18n" key="Reducer" id="td07" title="大小头" onmousedown="drawMouseDown(26, 23, ShapeConfig.FACILITY_REDUCER, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image07" src="" style="width:26x; height: 23px;"></td>
                                    <td class="CP-i18n" key="Rectifier" id="td08" title="恒电位仪" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_RECTIFIER, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image08" style="width: 42px; height: 29px;" src=""></td>
                                </tr>
                                <tr>
                                    <td class="CP-i18n" key="Shallow-Groundbed" id="td09" title="浅埋阳极地床" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_SHALLOWANODEBED, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image09" style="width: 42px; height: 29px;" src=""></td>
                                    <td class="CP-i18n" key="Deep-Groundbed" id="td10" title="深井阳极地床" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_DEEPANODEBED, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image10" style="width: 42px; height: 29px;" src=""></td>
                                </tr>
                                <tr>
                                    <td class="CP-i18n" key="Anode-Cable" id="td11" title="阳极电缆" onmousedown="drawMouseDown(42, 29, ShapeConfig.LINE_ANODECABLE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image11" style="width: 42px; height: 29px;" src=""></td>
                                    <td class="CP-i18n" key="Cathode-Cable" id="td12" title="阴极电缆" onmousedown="drawMouseDown(42, 29, ShapeConfig.LINE_CATHODECABLE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image12" style="width: 42px; height: 29px;" src=""></td>
                                </tr>
                                <tr>
                                    <td class="CP-i18n" key="Bonding-Cable" id="td13" title="跨接电缆" onmousedown="drawMouseDown(42, 29, ShapeConfig.LINE_WIRE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image13" style="width: 42px; height: 29px;" src=""></td>
                                    <td class="CP-i18n" key="Connection-Cable" id="td19" title="连接线" onmousedown="drawMouseDown(42, 29, ShapeConfig.LINE_CONNECTIONLINE, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image19" style="width: 42px; height: 29px;" src=""></td>
                                </tr>
                                <tr>
                                    <!--<td id="td14" title="无保护装置绝缘接头" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_SPD, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image14" style="width: 42px; height: 29px;" src=""></td>
                                    <td id="td15" title="有保护装置绝缘接头" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_PROTECTION, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image15" style="width: 42px; height: 29px;" src=""></td>-->
                                    <td class="CP-i18n" key="Insulation-Joint" id="td14" title="无保护装置绝缘接头" onmousedown="drawMouseDown(23, 29, ShapeConfig.FACILITY_SPD, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image14" src="" style="width: 23px; height: 29px;"></td>
                                    <td class="CP-i18n" key="Insulation-Joint-with-arrester" id="td15" title="有保护装置绝缘接头" onmousedown="drawMouseDown(23, 29, ShapeConfig.FACILITY_PROTECTION, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image15" src="" style="width: 23px; height: 29px;"></td>
                                </tr>
                                <tr>
                                    <!--<td id="td16" title="无保护装置绝缘法兰" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_FIKWITHOUTSPD, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image16" style="width: 42px; height: 29px;" src=""></td>
                                    <td id="td17" title="有保护装置绝缘法兰" onmousedown="drawMouseDown(42, 29, ShapeConfig.FACILITY_FIKWITHSPD, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image17" style="width: 42px; height: 29px;" src=""></td>-->
                                    <td class="CP-i18n" key="FIK" id="td16" title="无保护装置绝缘法兰" onmousedown="drawMouseDown(19, 29, ShapeConfig.FACILITY_FIKWITHOUTSPD, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image16" src="" style="width: 19px; height: 29px;"></td>
                                    <td class="CP-i18n" key="FIK-with-arrester" id="td17" title="有保护装置绝缘法兰" onmousedown="drawMouseDown(19, 29, ShapeConfig.FACILITY_FIKWITHSPD, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image17" src="" style="width: 19px; height: 29px;"></td>
                                </tr>
                                <tr>
                                    <td class="CP-i18n" key="Connecting-Point" id="td18" title="连接点" onmousedown="drawMouseDown(14, 14, ShapeConfig.FACILITY_CABLECONNECTION, $(this).attr('url'), $(this).attr('warningurl'));"><img id="image18" style="width: 14px; height: 14px;" src=""></td>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
                <td style="width: 10px; background-color: #A8A8A8; cursor: pointer;" onclick="visitPanel();" onmouseover="this.style.backgroundColor='#CCCCCC';"
                    onmouseout="this.style.backgroundColor='#A8A8A8';"></td>
            </tr>
        </table>
    </div>

    <!--属性悬浮框-->
    <table id="attributepanel" class="attributeTable table">
        <tr>
            <td class="CP-i18n" key="Property" id="attributeheader" style="height: 30px; background-color: #A8A8A8; text-align: left; padding-left: 10px; font-weight: bold; cursor: pointer;">属性</td>
        </tr>
        <tr id="attributeview" style="display: none;">
            <td>
                <table id="attributeTable" cellpadding="0" cellspacing="0">

                </table>
            </td>
        </tr>
    </table>

    <!--管线设备列表-->
    <table id="equipmentlist" class="equipmenttable">
        <thead>
            <!--<td id="equipmentheader">管段设备列表</td>-->
            <td id="equipmentheader"></td>
        </thead>
        <tbody id="equipmentview">
            <tr>
                <td>
                    <div class="table-responsive" style="max-height: 250px;overflow-y:auto">
                        <table class="table table-condensed table-bordered" id="realEquipmentTable">
                            <tbody></tbody>
                        </table>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <!--debug输入框textarea -->
    <textarea id="textarea" style="position: fixed; display: none; bottom: 0px; width: 300px; height : 200px;"></textarea>

    <div id="movingPanel" style="top: 0px; left: 0px; backgroundcolor: #ff0000;"></div>
    <img id="selectpanel" style="position: absolute; top: -100px; left: -100px; cursor: default; z-Index: 999;">
    <img id="exportImage" style="position: absolute; left: -100000px; top: -100000px;">
    <canvas id="exportCanvas" style="position: absolute; left: -100000px; top: -100000px;"></canvas>

    <!--向导按钮-->
    <!--<div class="guide-box"></div>-->
    <script src="../../../../src/i18n/js/i18n.js "></script>
    <script src="../../../js/segment/view_chart.js"></script>
    <script type="text/javascript">
        var _Property = getLanguageValue("Property");                         //站场
        var _Station = getLanguageValue("Station");                         //站场
        var _ValveStation = getLanguageValue("Valve-Station");              //阀室
        var _3LPEPipeline = getLanguageValue("3LPE-Pipeline");              //3PE管道
        var _Non3LPEPipeline = getLanguageValue("Non-3LPE-Pipeline");       //非3PE管道
        var _AbovegroundPLs = getLanguageValue("Above-ground-PLs");         //架空线
        var _Tee = getLanguageValue("Tee");                                 //三通
        var _Reducer = getLanguageValue("Reducer");                         //大小头
        var _Rectifier = getLanguageValue("Rectifier");                     //恒电位仪
        var _ShallowGroundbed = getLanguageValue("Shallow-Groundbed");      //浅埋阳极地床
        var _DeepGroundbed = getLanguageValue("Deep-Groundbed");            //深井阳极地床
        var _AnodeCable = getLanguageValue("Anode-Cable");                  //阳极电缆
        var _CathodeCable = getLanguageValue("Cathode-Cable");              //阴极电缆
        var _BondingCable = getLanguageValue("Bonding-Cable");              //跨接电缆
        var _ConnectionCable = getLanguageValue("Connection-Cable");        //连接线
        var _InsulationJoint = getLanguageValue("Insulation-Joint");        //无保护装置绝缘接头
        var _InsulationJointwitharrester = getLanguageValue("Insulation-Joint-with-arrester");  //有保护装置绝缘接头
        var _FIK = getLanguageValue("FIK");                                 //无保护装置绝缘法兰
        var _FIKwitharrester = getLanguageValue("FIK-with-arrester");       //有保护装置绝缘法兰
        var _ConnectingPoint = getLanguageValue("Connecting-Point");        //连接点
        // var _Reducer = getLanguageValue("Reducer");                      //管道连接点






        var tempList1 = getChartStr(); // 画板逻辑图对象

        // 初始化配置画图面板
        var pageMeta = {
            container: 'holder',
            canvasSize: {
                width: 1000,
                height: 800
            },
            bodyWidth: 0,
            bodyHeight: 0,
            canvasExtent: {
                minx: 0,
                maxx: 0,
                miny: 0,
                maxy: 0
            },
            canvasPageExtent: {
                minx: 0,
                maxx: 0,
                miny: 0,
                maxy: 0
            },
            canvas: null,
            canvasDiv: null,
            extent: null,
            panel: null,
            collection: null,
            'mouse_x': 0,
            'mouse_y': 0,
            'start_x': 0,
            'start_y': 0,
            'panel_x': 0,
            'panel_y': 0,
            movePanel: false,
            drawExtent: false,
            selectedShapeList: [],
            selectedShapeLocatList: [],
            facilityType: '',
            url: '',
            warningurl: '',
            writeHistory: true,
            maxHistoryLength: 50,
            historyList: [],
            historyIndex: -1,
            keyState: true,
            editable: true,
            textInput: ChartConfig.textInputList,
            selectedBean: null,
            thickState: false,
            italicState: false,
            addPointState: false,
            panelVisible: true,
            attributemove: false,
            attributeclick: false,
            attributetable: null,
            'attr_mouse_x': 0,
            'attr_mouse_y': 0,
            'attr_start_x': 0,
            'attr_start_y': 0
        };

        // 左侧画图工具栏菜单对象
        var imageMeta = {
            '01': {
                url: 'image/shape_01.png',
                warningurl: 'image/warning_01.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAzhJREFUeNrsmtGRKUEUhlH3nQx48YwI8K4KGRABIkAEiIAMUAJABMiAd1WIwP1qT90pNaw1Y/rM7NX9sNtbu0v//c3pOf9vYjE7Pm3E5dtgMMjn8x+iuVwu8/WP/IDsUqn0UcwTH3u1W+VWuVVulf8bs9lsu91GXMz5fGad+/3ew/8sl8vr92Oz2ciftVqta1THdDpNJpMsstvtPv9LD8zZS5mMRiPu/FGDz/JqtVq9Xr9cLkbqPJ1Os6m73a5QKPR6vYjIXq1WmUxmPp8zz+VyRpTzBpRQtVpl3u/3Q4cP6na7TSsKaqhQsJA3dbanUimOEKmocOGDmq2n+uT0gYHX7tvPXY2tdcH3dpwGhPpwOAjq4XAIEqX7ucDH4Ql8xPP2CrJh+ybqYDoZ9p73LhaLVFqn02ERRuFTWdQXqNlu36gD6+E49ig5gb9erw3BF9RUFnOqjP1931MH070ahS+oqSk2l8OVKnsHdfB9uwOfucBniYGj9nTfUnUswKfVpaMAPk0VC3X6P6+DqjGB2qBXkw6H5pk5rRXXglf4UsZUDXMqiFcLELVxl0px+oMPavaOegE1tSPN6S/z5/fwkfEKajZLUFM7vziZEPg0W+ih8ULMQ/hqqFUzGYFPy+X43Fv44jEFNdVhGrV2GsWxDFUaL+DThDnwOfwcj0ldINs06nByOMr4Fn42m5U4AdRUhLLt004ggc+1LbHR8Xh0zJ/+Z1uqyl1ZwmKxCDHn0FN+nyVUKpUQc46EJuqHWYIr5zBtdfWUS3jwPEu4zTnMWV1V5S6D+TxLUM45EuZQ+zCYOjmHQeVvZgn38H1bXT3lQWUJAl/cDvB9WF1V5VyZ8BHU4/H4/SzBt9XVU35vMBuNRkRyDoPKFQymCfiJYFGbM5gu+C6rq6p8MpkoZwkC/97q6imXLKHZbIrBRLNOlvDQ6vqG71n5fZagbzC/yzn8vNbzp0X4bezrc3nxFTLnyAn9CZHT6STwY18PNsjyXnxaxINyZ/z40mE9IfPi8vxc7aHERj+OW58b8NXORcXrcl0xuUZ4AJ+b63MtDvO4o/xznnWOx+Mx+wykVW6VW+VWuR12/A/jrwADAONq9RyxWPdxAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5VJREFUeNrsmztMU1EYx/uSxsqjCIzCKolNjIzCjLEsMgIzESeJCw9HeWw4gWEWEmOCixhdBd10wURXYTGRVwGLEB7+8Etq0wLpvT3n68XekyacEHLb//2d757v/z8lWNPzI1CWIxQo1xGRH2PdVYmmSJlo7hjd+Kcc2a3NFf5q95X7yn3lvvKyUj7/aW/p+4HHxaTSx3zO5dVDY8rR3P10s+3x2sDzbc/KRnOi/yefc/b9rjHlqfSRTJ69S7cOr3kNPqi7JjbRvJU+tlLn1+rD1bHgl+UD4I/P7XhE9uLXfVC/+bzH/EZjxIryxvrw0kTD3VtR5uOvfpUcPqipPlpRUEPl9VBtR0vU1rO9Jhac7Y/PPIyXHD6oufVUH/P77bHFkTqn3bebXS3ZEs2BX+Dj1CzqldVDQT3eUwUSpf1c4OPwBD7ip96mFWRTX0WiNtPJ9N05ee/b1yuotMGZ7eTIhlX4VBb1BWput2vUxno4Hnvzw7UC/8O3fUvwBTWVxZwqo9aK99Rmuler8AU1NcXN5eFKlRWD2nzfnoHPXODTVBlHnXSyb6k6FuAvPKmjowA+TRWtVcpJX5U9qBobqC16tURThJU/cO8Kc1orGiyn8KkU6oWqYU4FcTWDqK271IHOSnfwQc0Kp15ATe1QQdTRBfPn+fBpvApBzc0S1NTOBU4mBD7NFnpovGi/ToWvhlo1kxH4tFwZn5sNXzymoKY6bKPWTqN4LNNy0XgBnyYsA1/iBPGY1AWybaPODNVzFRovtI3N7UCe18uPv9e2j8RXT/XWKB/yaCeQwMdFV//dmUU2g9/on22pKs/JEl48ipcw59BTnp8ltN+MljDnCGmiPjVLyMk5bFtdPeWs4eTI+vlZQnbOYc/qqirPMZjnZwnKOUfIHmoXBlMn57CovMgsIR++a6urp9xUliDwxe0A34XVVVXOykyOrgvqyd7q4rME11ZXT3m+wexqu+yRnMOicgWDaQN+yCxqewYzB36O1VVVPruwq5wlCPx8q6unXLKEB9NbkiXMD13VyRKyre5ZOYdF5flZgr7BPCvnsJVMpNJHoM6c0etnCefnHCdInHxzwMGfslHzEtTUW8ADQ+C3NVf0TaeAv+Kkz3e22kHN7uIR2ZmR7XMNM080XeK6jQ3hwc5Ks0c8BuHTMrLgJ2kuCjtmjRR+3YDnB/ALtwn+dyB95b5yX7mv/P8bQf//1cpu/BFgAJO/5JbUo6KwAAAAAElFTkSuQmCC'
            },
            '02': {
                url: 'image/shape_02.png',
                warningurl: 'image/warning_02.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA6FJREFUeNrsm7GyMTEUx+93G2a2YLQKemboFXRKCj1v4BEUGp1H4A2Y8QB4AvTM8gR4gu/7zz0z+WLtRjY5O5PlnsLksiK//HOSk5zcr69f+zT7I0qe5w0Gg16v966ox+NxMpmcTqeHd2u1GhWazabv+3/fzkajEQHmcrlKpfKffL1eT6dTvEufLRaLt2He7XZC106nc71eoe4DeehDaceGnEJqIWcI+fPASK/48FlBiIKsYiT5G4gvey7KgU9V5AHxS6VS6APuSx06W78mh+F9YNMzw+HQcfHhmwqp45HDQAtmx8VHI+GVYoWGtyoe1iUPFd9NqWHw0JfPxyOnfu33+5r96qDU5uRmHRw6CeHnZrPZ6MdQNutEeRjGaokhuXFP4zG4iWhrwNCbqBPdodkAm6nHnPxZfMVESswPP/az3oATQsF9UBb1EIma3365sSWnvn+5eIqgAAbOqKAQvYMnRRcEoi5hLKsMA7k6YJKdAgWdLSC+IsfOsh/JYSV60CayYCOPipxEQzW99xlSwPNuJTjJn8Vvt9vPusXyI4IvFovVapV3B8FPHhiTMBt9AClmMt5dYyLk1GLP84xX+0A/UvNWqxVj/JMUOfkk5GKsDW1NATkN0bizmmIE0dzBGCwT+Tfv+eZ+v79cLmjrYDBgqTCfz3e7XRTm8zlvU5nJl8slXqmtXEa1bTYbp8mpfa1Wi538cDg4TU5WLpd5K6S5g1d2ZvLtdovXer3ueFcmpTmmJfeTTd9JDEvM8B9HTsPyfD6770TM5NQ43qmIRhBiBF4nYian9YxWdd4YgXelTIocYRyj7BS98UZHicTtdDLNtcdA/E9DPQU7Ft/37Tfnge2K/YY38R0LuWUmk0EBm5bb7WZTFWq43+80yVlWlexol49iC4UCncYbnx+JfI44luEamMyjPXD8ju00/Ql4g4s3Aht+zp7PZSOPSrkIeLzqH1TIJ3niW7z5XB5ydZoNasu3rtRzHpiF1KFHjlzi25Lrp1bl5AkK+BYlEsngGoF8myItwZLPtSKPm06n5ElUOlFOP+m0xDKfa0hu6XJQCSJTIpGMUouAiTV6zfK55uSuXZsxEz82uZu3ZXTyuebk7l+PU1+AMyRPy5VInZtwuuRpvAmpc2/5BXnoXdlU2EvBIsn1h43LpnDScPJYU0VKxQ+Sv4fUCvHFYvxAPh6PNa94pdECAVij0QiGzY7c6Uwo4BGRWDab/f3XrY+0fwIMAMV3eUbyCzwlAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,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'
            },
            '03': {
                url: 'image/shape_03.png',
                warningurl: 'image/warning_03.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIJJREFUeNrs2sEJwDAMBMEouPB0ptLOLkKf4FlQAwM2eqiSPJrpRQATJkzBhAlTMGHChCmYMGEKJkyYMAUTJkzBhAnz4tYZVwhDFUzPHCZMwYT599WouylMrUZJPgxzmBT8mTBhCiZMmIIJEyZMwYQJUzBhwoQpmDBhCiZMmLe2BRgAsCYOJ+tdkYIAAAAASUVORK5CYII=',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNrs2kENgDAQRUFKEIBBvOCtHvBQCT19ELEX0nnJGphkNz20JdlU044AJkyYggkTpmDChAlTMGHCFEyYMGEKJkyYggkT5sId3/iFUIV5XoOCNYcJUzBh/rnWn+lpVIWZ5MZQh0nBzYQJUzBhwhRMmDBhCiZMmIIJEyZMwYQJUzBhwly1V4ABANboD9IgGkYaAAAAAElFTkSuQmCC'
            },
            '04': {
                url: 'image/shape_04.png',
                warningurl: 'image/warning_04.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIpJREFUeNrs2rEJgDAQhlEjdi7tbE6S3gECaX4d4hrJ++AWeHBHirQkm2raEcCECVMwYcIUTJgwYQomTJiCCRMmTMGECVMwYcJcuOMbvxCqMM+nU7DmMGEKJsw/1+45PI2qMJNcGOowKbiZMGEKJkyYggkTJkzBhAlTMGHChCmYMGEKJkyYq/YKMAADQxBz1md9NAAAAABJRU5ErkJggg==',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNrs2kENgDAQRUFKEIBBvOCtHvBQCT19ELEX0nnJGphkNz20JdlU044AJkyYggkTpmDChAlTMGHCFEyYMGEKJkyYggkT5sId3/iFUIV5XoOCNYcJUzBh/rnWn+lpVIWZ5MZQh0nBzYQJUzBhwhRMmDBhCiZMmIIJEyZMwYQJUzBhwly1V4ABANboD9IgGkYaAAAAAElFTkSuQmCC'
            },
            '05': {
                url: 'image/shape_05.png',
                warningurl: 'image/warning_05.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAi5JREFUeNrsm0GKwjAUhtOhgoKiuHKlO7cKgu7EWRUE8QgeQd250xvoDdQTeAS9gOjGhSs9gKCgCxdCpq/QULUdZmwCKfw/lFQebf58eYmJrQbnnEFy9AUE8mTaB1JTp8w0DCPyx2g0wjDHnAmYEGACZnSXRspkWRYbDAZaNbjVarHb7RY9mLlcjjUaDb2yxzQxzDFnAiYEmIAJmBBgAiZgAiYEmIAJmBBgAmZ0xVUdlmVx3WSaprL2IjMxzAETMCFNYGazWe0anEgklN3bXC6X0m86m83YfD5n+XxeO5jFYpGt12s2Ho9ZuVyWC1PFo9jVauWU8XhcO5jJZNIpCaTstmPOlJmZn154uVzYdrv1jR2PR1G6Wfoq1S8nBNVLvklB3kN5+2QXYc+zPBaLhdot1Go1JTuczWbDU6lUKG/1ev2z3dV/4U8mE9bv953zTCbDSqWSiNE7PPv9XrzLU6lUxBz1eDzYbrcTmdFsNpV88fV6PXa9Xt+83e93p/4gb+T7dDo5n6vVqvrM7HQ6ovfo/Hw+P2VrOp12YlRShrg6HA68UCiI2HQ6lZ6R3W5XeGu320/eyIvXG3n1erOhi2vDePsXTLdCe1nxFhsOh06MjHkbQiKDFCOgXsgy5XojH795I3heLRYL3wRQDpN6NKhCMuntcb/YK2SZ+os3v/plejM4/lWFdSZgAiYEmIAJmBBgAiZgAiYEmIAJmBBgKhQ9tvgGBjky8HOmPP0IMAAdXX9ZiEw8vwAAAABJRU5ErkJggg==',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqJJREFUeNrsmk9oE0EUxt8mu2lNbPPHQj1oKuqhQoOiPRU9iCDSIqgXMepV6c3eYnvxUq0H0ZMVz208ejGi0JteBaFCBS82KlKUtGlMmpqk23277EDaDeo6Cxv9PliyZJjdb3773pv9M4qu6wTJUQAI5Ek1NoSmRJh/rdjVpbYHkTkfocyFnUhz1EzAhAATMP/T2byVTqVCNHY24qsBX7y3QuV1vf1g9sYCdPxQyF/RE0Sao2YCJgSYgAmYEGACJmACJgSYgAmYEGACZptK9fIz7VJxw3cDLledXwxPPS2bGyITaQ6YEGD+AzDjEf9dq86Q4t1s/mw8Lv2g2VdrxlalPbv8B/PgbpXefqzRnctdlOqT+3FW9eJT7OuFn1YUaIrvYEY6LU8MUvbYUTNlRqbbjsWKTvOLNce2/PeG+LWjdKu8XpzQ6rzFivUgMb9Yb9nXrTdFd7GonY2eu7tM9Yb7wQ4e0GjuVkI6RIY0PFmg0pr7JTBD/SF6PhH3PjKnX1To5mzJ3I+GFRpIak2Pah++1sVaniP7NFGjGPz7LzUzolmnD3d4MvFlZkomyK3e1ms6LXxu7Y19F35YUXtsv+Z9mo8+XqUnhmHWpRM7aOpKl2najtb0A2tRVLfxX248IWZLTveRyWUTJLdxv7TRX6YY4qOXFXN/+GgHTV+PCm8crSO3C8Jb9kZMpDJ7S99fESAfXut27e2PYNog+bZi9Ex4W+qvGrAGkirlJhJiIHbbJ8P03p6gORDZtyQsG6TT2vTcm6rwlh2LUbIn2FQW3uXr2wLA85rJUKLhgOMJ+QrnvzUci7fdlurTmiDLnnB+5c3p/DK9uZqAINxnAiZgAiYEmIAJmBBgAiZgAiYEmIAJmNDvil/+nQQGOVLwOlOeNgUYAA1HABP4BxcMAAAAAElFTkSuQmCC'
            },
            '06': {
                url: 'image/shape_06.png',
                warningurl: 'image/warning_06.png',
                // 原图
                // html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZdJREFUeNrsmk2yRDAUhXn1BmYMzWQHDM30EuzAFliBLViCHWBmhhVgB3bADvSt15MuuvoRlfSPc4YqqdzPjdyThDrPsyJX6Z/unziOkySJ5DB+FekahqFpGuXV+lHOKpCDHOQg/14Jr2rTNHVdt6hq6zZ1Xd8/MQyDirzYyGaRqqpK13W+wIIgEBqbKtTD+b5fFIVlWYyxXR1vVqdtW4GZF/pePc+jISjz0jpuF9Z2kIMc5CAH+endK/nNPM/XPnR9/HIkuDRNF672oVnidDt8NsC27e1DcDuZjcqyjAOBJ+eUh77vyZCHYfi8ZVmWmqbR9mPvEJRGmlau65qm+aQZ7YXIHdPUoMzLyDnlkDpSWuZX60gkWNtBfqKqpqrqpzNQ7eSgwGwHOchB/sVr+80G7RJ5xiiK3oeBHO7iQn4T+eVy+fTs0daAgwLfOU4mdjmnf48NROtQABz7u3EcuW/LRCiOY3n3anmey/+b6aEYYxQJx+GHKv+vsDcRyEEOcpCDHOQgBznIQQ5ykIMc5CAHOcjl6yrAAJdmPm5CAWbVAAAAAElFTkSuQmCC',
                // 边缘裁剪图
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAyCAIAAACCil8SAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVJJREFUeNrsmMGNhDAMRYfVFsCRW+gAOoAS6IDtAKgA6IAO4MgtogOoADoAOqCDrLWnWS/DzESzDEjfBx+iyHlxLPuDoZS6nMc+Lqeyk+F+vjac7/tspSgK13VfFd/Qrt1pmrIsI3+92HUd2+Y4jmma1ytfP6bJq3RNCKGdpLIs9Q7VL4Z5nslLKVnyto1qo2ka9ib71W4QBE/tb9uWcNHIgAtc4EIz/G6NVVVpd/JHjOLTKXflRxzHfAaxKTeO47/O8DRNHw8ehuGdIUz3Ju95HsmX7Vh1XVuWpSfZKGfbMm0YhiRJVl5g9fbk1bttFQ+dAbjruFTaeZ4fio99TaEYgAvc/XFpMNKYPhQffTnfxKVRbtv2oXCZtEDt7o+7LMt7sW4CMIUmpTxOLkl2c1X5V2hGUXQEViFE3/eMzcDPfuACF7jABS5wgQtc4D5j3wIMACOc/T8yHX+1AAAAAElFTkSuQmCC',
                // 原图
                // warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAelJREFUeNrs2b9PwkAUB/BWWtFGASPGSViMCQMTDg4yO+DEJtHVwckRncWw6aR/AawuYhycQEccwERXymRoBDT8KFDqKYuoAXuktcD3DQzkjt4nr+17d7CqqjLGRjxViyXrX7/xurno9qzBy+AYw0MsKHdPDea/Y4IZ14AccsghH93QvaqVq2o21+yqapLyY0z79rGrztmFCVLkdV0Yq2snQzyh09JrleYSW/7p813bsMpDJ6Wre3nJaXE5LZomdlqd1NG8fpnn9L7VySdJ3bpnUtPEQKRI8OQpwBsOcsghhxxyyHWr56RQJ9J1saD0HpaXlEEWF0/VvnW1v1R+3xRdt0MpD0ReHsSWfgmRm+qnvN53ZPSiEtt3BHxWI+QkD4RtE9i9DaH3yJtMo9X+2H5ovcTqMl+R1bUVftHea24m1yLdcSxZM0jeCa+LDwdneo8JByl//I9HsSQHRF6m2hHh3Q75GFU1x87zsBtESaFQ4G6HHHLIR/jdfnk4p3VONtc6iL2Zx0A6XIrzaU7rqagJw8qzFAo85ziZ0NQ59T020DsGWQCN3OvmyeY8Lymbx0UzZM/v4SlmUf6vlkjLZ9dVM7BdCxaymbcLrEHyEQjIIYcccsghhxxyyCGHHHLIIYcccsiNj3cBBgDjwt0idnAuKgAAAABJRU5ErkJggg=='
                // 边缘裁剪图
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAyCAIAAACCil8SAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZFJREFUeNpi/P//P8PQAUwMQwoMMeeyUNc479b3aCIdMby68lSzhZHstPvozd/2dV8fvf6LLHj0xi80ZTpyLPxcKHEYbccRZctJ79AFBuTjN38JKrvy6A+aCMRL5LmYfOdC3Lq0QICfi5F4XdN2fNt27idanNAv7Xobs5Ok/sj1X0DnjhZko84dde6oc0fbDKhF49LDP8guyYkBQPMPX/+NX42tJmumBzdaHcSC2RLwaXtP60AC1ogEK3BgXf3wzb/paXz4nLvs0Hcgaa3BVhnEjd+4ZYe/y4kwk+pQG022gt8M4vxM+Jtplx/+qVz6GRjPRFXCwIgAmkvQYjLCFaiLGI1ANUDnYsbAaMkw6lzszgUm7Y71XweV+9B6U6OJYdS5o86lv3N15VmjbDkGlfs6YnhxOhfY/CGjGUBTgNa0GE279Hfuh28DPOj7EYcDWDDSCiuQnLHzGxANeFgCm90EQtfbmD3DnWswxLusCDNascBAyYDpaFYbde6oc0edO+rcUeeOOnfUuaPOHZHOBQgwAFlygD7BKGRUAAAAAElFTkSuQmCC'
            },
            '07': {
                url: 'image/shape_07.png',
                warningurl: 'image/warning_07.png',
                // 原图
                // html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdxJREFUeNrsm+1tgzAURaHyf9ggbEBGYAQyQTJCBsgPsklGgAmADWCDZINkAtLryiitSlva14DNPZJllE/p6PmD54ffdZ1HZHihAsqkTMoklEmZlEkM6rVV1CCD3wnu2quq0g2s12sviiLdLykyRcjz3NtsNp++F8dxL9ZlyWKRmSSJV9e1Fofrpml0u91ug99xTbK4zLIs9bXher1qqefzWTdMA+gvl8uPJKNHe/xN54f5EGEYDoowYj9KbttWt6Io3n1+tVr1YucoWU3552Mlm4YRMEfJao7DxVbJyrMIacmYk/f7vb62YgGakkfJZhHEXPxIEAT6dczti4pMqUg2Yne7nd66QXqaprw3/w0Y3pAHmUYuEx0C2zZmjWYKZVImZVImGSHT931PoiE7ZCvH41HEASOTw5wyKZNQ5iQopMwkOBwO1krYbrd90uNPMqVyj0rZm82TysBzmHPOpEzKJJRJmc8EiRkUmwGp4wu1BHHfHflKnEw6J3OoGGEIFCNkWSZWhKCWIu0ZZTKK0hyTaZu0WcgcK822oldxmafTSfdm1VxSObZYFRxWRRxMfYXrDwqIRSbqHLERRmSaIen60xX/FpnkLTJ9auC9OWVSJqFMyqRMQpnC3AUYABwKgIe+QnxRAAAAAElFTkSuQmCC',
                // 边缘裁剪图
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAuCAYAAAB5/AqlAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAbdJREFUeNrsmu2NgzAMhsOJ/2UD2KDdALoBIzACIzACG9BOAmxAN4ANYIKUN7pUqJfQD10pCX4lK5FKEY8DdhLH4ZyzLcjZEijfNGjTNCzLMtb3PfM8jx0OB2FBEIjWClDAAWgYBu0f9/v9DdoEByhBq6pix+OR7XY7djqdWNu2wjDKMBMdMAsahqHoq0ZcQqOPa+CIrutmHYBPIIoiAQ9Df9Wgc5LQsGcc4Pv+DfqTDnD/+4a6h9Q5QFpd1x91gLvUq/NtB7jfDhLPOgCx4HK5aB2AwBnHMcvzXMSC1YG+6gAEwGkGQB8OQCY4n8/iGmSKP+IKlWWJAMXHYMRNUVEU4pnHkVX+/mPLFC9JEtHqcrw1oI9EoARKoIaBygm7yVLOz3U51LQ8+rs4uZm1eZS+UQIlUMtAsTwaI6/RUKodXHp1CZRACZRACfRFYbUl94yw7amSaxKQ3N+93+qcSgIbAfpu/QYb2Gmarg90yYKUaxvQIqBrLRm+BXofDGT7qAg8rYLLgvCSmgVFxUoe2DC5rA9pD2vgAXWjZNpBDS0ohNcRtUa0ph+9kaDVFqaADp0FtExXAQYAqFZEOU3atqYAAAAASUVORK5CYII=',
                // 原图
                // warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAh5JREFUeNrs2z1PwkAYB/BDiijEoAmM1plEXXSUnYTNEfUD4CdQV2PCprO7Lia6oLMJOuJgTXClTkYTwYjKW2rvKKYSUYEH7Mv/n1xoQnKBX+6u7fWpR9M0htBkBATABCYwEWACE5hIK5LezsFAE49GeNV+ka+KxjM342Ny2Kt/Sq4amSQ5zVXYyl7x2+9mZUnAzuuwTkYmG5mJnSd2eVsVcEvRUaYU6kxRa+z5tXP3TkMm/+Xp1QmB2UpJx1QKNaY+Npj60GDZfPP4Tm83al20s6tKR2Q54hXH5j5dg9meUMDzBWKjbY3tBnk63ISNRX2WRP7XOdUtcqvx5cSKyJZcoOyKbKvVnhqZn+zW4wFx7DrMfpCv9asL1ViPzciH2Tem7EbE2g7MPyKboxiwqf2SuHTj6IkFP+7Newmf3hwvGRs3cGvY6Og3kwRTG5gDCjCBCUxgIl1cZ06u3ZN0xHd67Jr0SVk0jExMc2AiwASmPc/mma0pko62j8q2RUjGxj43PfrCpNp5lrz2xaTagcc0x5oJTGAiwATmMMPLdjK5ZsVIKEDD4Ip6v06PfFtJLPqB+ROauRihU3gxwuZy0N1FCL2gDaNMRgKawzDthmYJzG7R7Fb0So55kH0Xn7yep6BDuakcm6ymPX388utDKae/KED2T1LxICvqo4+X6MnGmub0tysGNjKR5sj0gAH35sAEJgJMYAITASZxPgQYAJHnhQiH7FR6AAAAAElFTkSuQmCC'
                // 边缘裁剪图
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAuCAYAAAB5/AqlAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAiBJREFUeNrsmr9PwkAUx1+hiJIIMcE4CTOJuLDCboJ/gXEm0c3NH7vyF0DiatSNSY1uJuiog5jgSh3RCEiqUrD2HTSp0BMk/OjRe8mlHZrmPt/37t7dvRNUVQU7mANsYqLWVLuAmlquUIeDTBXKsgo+jwDLQRHCQRcE/E7tKTIHKqgmgxThwltFqMh0Zy8FRALNigCmoDf5Gqzuv4FX82Q64QOp2IDCS4N4OScpTArwZw/CARfEI24w83iuoBDwsvwN2bwCkibEs9YepTppF/dfHQL4PA6IhTT4eScRIBqasgYozXDMYif1jm63RQNCYxS0C4B2+1T79a9FfxN62AIMPKaMnexFAL0NW4CRDZ5xCzD2WaJXAXAuwPCnCYATZzwyDcn1WTK0LAf6XwFwApRIBlDgofWOAmAmOM1+kG/SCS87oNRMQNKW2JENTjTIzcMKnN99on8nd627FpshT1qOt82inoNyUA7KGGhzwV5nGgoXG11BMRHvHL8zDYpbTB66HJSDclA2QHF7dLY7xzRU6WiBe5SDclAOykHHauIkQOBuK3Ulk3evyVEnc6C4/dLrPsajTqPph2RMgNJO72mmn96vRtywseKxHmi/QP3UY8RJAxoJqBWABgZqLALrVfBuQO1VcL2+apn0ghWrZKYKpdaBGatlfTTqZY3o3ivVS6xd1KCComE4pi5lMt5Yv3qjg17bYQko8LuAE2Y/AgwAGemVeyx0wlUAAAAASUVORK5CYII='
            },
            '08': {
                url: 'image/shape_08.png',
                warningurl: 'image/warning_08.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA6hJREFUeNrsW71u6jAUNhV72icI6gsUqQ9QKrHDwkw31m6MtFs7sdCBCViRUDtWaqXCTtXyArQPUPXnCXLz+d4Tmdw4cYK5BN3zSVaCjwnH3zn2sY9DwfM8wbCDPaaAyWQymUwGk8lkMpkMQtEvU6bBDgqepVX76+uruLu720kSzs/Pxf7+/voP8izg6+vLcxwHRtnJcnJyYoMGr2jLK39+foTruuLs7GynvPLy8lLMZjM7D7NhkaenJ6sW/pcg77QBjua8NGIymUwGk8lkMpkMJjOXZL6/v4v7+/vgfjgcymveQboSrOiddbX/9vYmdzy6/W6tVpNt8oZN6p0pa4TsEPbg2I8DvnKiUqnI++l0Gux1HceRn8vlci68ETkE6LkxvdOy//LyEmSIYGGyIuqxRyfrHx0dyTZoC9m2odM77LXr6J2aTBoiGA5R9VF14QTIeDwOhtXBwUFQP5/PvWq1GsgODw+9z8/PWJn6LCrtdlurt0kyJk3bzGTCUmQ15DCTyISlqYOqlaPIfHh4iJzDQGKcLIpMlKurKyO9k/KzabxzL+1cCdTrdaPMdKlUEs1mc+W7QKPRkAXo9/vy2mq15NX3KvHHyMInJFFGIBnVPz8/Z9YbbdA2rHcSijQBm2CxWMgrvoMJ+vT09K82hUIhuPfnUDmJj0aj2GXH4+OjWC6Xwh/GKySBoDgZAJlJ4CG91asO6BvaQO+bmxv52YjMLFlmeJwpyBO+v7+1bfxhJa/Hx8epZCqur69lUb2fQL9Nupj0mdp+fHwYZ+KL8B5T9Ho9MZlMpKUuLi6EuqqCJfGj4ZUWDquAuGWGP29qvSxOpnsWPFglk3SDh2L4mvSZvBHTlPFRTJoANBgM5KTsuq42AoaBtqi/vb1dqfc7K+sRQAAEonDgQFRGkImTUQCKiuAmeuug09taNFejXLfbTSSz0+lEdiIqmoMoXcSOk5mQCZDe0CkJpDe+s9F1JkikzqiEqov2cLuwdXXrTJCG9SPJsK6kdaZOZkomdIjSO65/abwyE5mAP4+snDljGIFIFNzTLgIFbfOCJL3VPXsWvTMnOmDBuBcPIIvzgG1hk3qvdWCMORQ/TJ7oLyfkNhN1JjuNbYH0Vj0R9+vqzS8h8EsIfGzBZDKYTCaTyWQwmUzm/0RmXAI4j7Ctr5V32inzjmMN9dhiV4B38XPjmSBzMBjIw/tdJNLWX26s/Q+I8XuYF5gGjuZMJpPJYDKZTCaTwWRaxi8BBgCs/Ms4WFozugAAAABJRU5ErkJggg==',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABG5JREFUeNrsW01ME0EUnkKhpUD5iegJ0JvEQIwkeFAIRyIc0IsRJDEeIL3hDTAxxETkJokJVQ5eFIgXMQYSEzwQ0IuGhCAGb/x4UghSfspPgbrfbGezFLq7LVNtzfuSSYedme3Xb97Me/N2sQWDQUaQgxSSgMQkMUlMAolJYpKYBAG7UsZIBjmwBSVF7V8X9tjI5HZSiuCpyWQ5LltiiOnzB1npvSW25k/O09SV8+ls5H6elGUuwSoDXMjCU6mssdKZVEJ2D22yT993pe2Z0lCkiNl2IyvpxCRvTqERiUkgMUlMEpNAYpKY/7WYi8v77MP0rlYfmNjin4kOwVVABu+Yz+b4Ys/ztYhHsWuXHKy7KZufihJNxHjxjknMkckd5unzaYkNJAoqS9J4fWI2oBF1u2xspCOflRbbE0JIZLZqu1bixjtqMfWEQMbb4uaziOs+/wG7WpLOZ7/hySqbWdxLGEEj8Q632pPwjlrM2ke/+QxiOQzcyz1yffXlmSPXwlNcbz9vsztPfbyem5nC5p8V8PrUXIB1vt5gY99UCzl7OpWNPcznfSK14W9xL4HWukzWeTPrWN5W0m3R9I3ZAWF28SWYNW9Ljml/zD6AMRhrBIhS/WBFEwuY/7XPi1HbcegZ3uTlON56A4gE9EFfK7xjFlNk0mvLnZYy01hGtyozDo0F6iucvPAffjdbtaYXa5pVwbpRhHUZtemtUX99am4vZt7og77hvM1gh0lbxcxigH9i0/44u8vquo6OzW36qdWHO/JYWZGdDSr1heUDQ6uElVVfSD8kEgQyauMWumQezkyHrAu8EQL1jxsL1Fjl5H0Hlb59o1vcOVkSM5YsczRhQ06magm+zchirobaLp5Li6rNaGnXX3ZodV/Ie+e4UtiwEomY/eaiglRWV66OX9k4sJyJt8N6rKJv1M/efdnhVomM+nHORn8NaHu1zj/LDLwiHIzYB6Npi3QvWLDYRoRFqvtfgHmb3aaPVhCRCN4NSt+G0FZlKiYGRhPwQsz+iW3LjycQkwKlxZEtC0sYIsDL9wzbtSUM711f4TBsM/LgeksDBG8rv1nwxt5pVaOoHBBuDC/3QxHV+95v2r/7zQbviwdtteWOQ6ERiupc1kNiuDSRsO+iiGVr1GYFsCzBG5ys8nZzR+SIjzeHl2u/rs5+e//6IUG7b2cz/ZaBNvGwCm1mEJaF+FFvsfjbqM0qvM1qKAdORoag5y3GxPU46elb455OHMng/YRTwlbQqxDCKQJAaIR9KhFgxhteXjibWHjHnOjADD4e2oj44oE7ZMWeGldCJTriyftEb3Qg5BgYV+I2ZbZhidgG1ORBOmuoypDyykk8IHjrwyTwRjh0Et5SXo8RAbys10z+JsQhIzyk+yfJYQKJSWKSmCQmgcQkMUlMQrzFxNPJZIJP8jv4Up6/inwhjpT6xxbJgkJJL0pIsUxkXnqb3TxJkIxCDrTmSrmXtP8DIqjL3EYykDcnMUlMAolJYpKYBBJTMv4IMAABYJcZkQKAwAAAAABJRU5ErkJggg=='
            },
            '09': {
                url: 'image/shape_09.png',
                warningurl: 'image/warning_09.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NJREFUeNrsmU2uKUEUx+u+mDMzJLkLILGAa2zCDpjdgYGhobcDdwfsALkLwAIEK8AKMDOQ9PPv5PQ7SlXr9gzelf9JTvRHfZ1f/eujy1sQBIb2HPtFBIRJmIRJI0zCJEwaYRImYRImjTAJkzBphEmYhEmYNML8Pyxz8SoxPMfegjv/qK1WKzObzczhcAjvy+WyqVarJpfLvTQYxAwXQ8zwWAs8Np1Og4+PD4B2erPZDPb7ffBq1u/3g2w264y5UCiE733mhDkYDK4KqdfrQa/XC71UKkXPUelyuXwZkBCIBod7xIxf3GshJYI5Go2uIIr6oFQBh2uBCqAuhSIN8rt6GHnQoM1mc5MPZeFdnDoQoMtQnq9OONqM+OJAol5RH9qCOKSdWrUuoMYOxJcYzzDsdVoBaqe1le1zW9m49kF0gdGWJq/dGQAm73BtP9fpfWlvYAoE9P4NdQumXbBWcJKAtNLE9BSSBooWQVLXIETNPsj2c9zLyPXClEJdk6wLpgYgwydumPkcnZi2E0TZaUaCvQ7o2OD2tOODiXSS54oRAIlftjtRryUJDmk+Pz8jhaGMTCaTOjDk1RN8Gkdn5vP51PnQTrS3UqlcjRBRnc9FUNJe5Bd+mfl8/k/7sdPpFP7udrvQH7FH88HW6/VD+c7ns9Gxp903Iz3avVgs/j4UFeoVGsMm6TCv1Wrhu3a7HZbx/v6eWiXI2+12H1Lm9/f31ZYmqaOd9gi0dyW+YY50enRG5bgmVhc013NdqKzK94aJyzEHPbKISHv0HJbU9bogQ9YWkQ+mzNH2jsL4JlZ7P+aCKYuNb8uUdpuSZiEBeL1gpOlEGwLAuvbMLpi60+2F+mbT3ul0ooI1UL1pt78W7P0WKoz7FJXyXZtv1HlPoYDh+vKK+xS89xksAsCvdJK9acevTmeb86Cj0WiYyWQSXl+gmFarZYrFYnTw8fX1FS0aFzWF75MckoihLNQRN+nbBw0y6eOwAYctPkNdyIe67TqRV+JwtRXvj8ejuXRIGBPaKDYej81wOIzeo46bdvi+U0WhccryfZr9VIPy7o0ovHd9BnuVKbbdbsPe0AqBOtBj95T104/fEDfi18qGWuOO4QDzN491n3c4TAr8D4gwCZNGmIRJmDTCJEzCJEwaYRImYdIIkzAJkzBphEmYr2V/BBgALqky1gEecwQAAAAASUVORK5CYII=',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABRFJREFUeNrsmUtIXFcYx7956Iwz1tE0plCIthBCW2r6Li2pIQtDQpwSkkBLte2qVQwN1K5MunHRJFIKCRScWgpdNDFkEwloaUpXMYEEk9LW0pTSl7qqEeMYnThOdHr+Z+Zc771zn+Iike8PF0fnPH/nf77znWsgn88Ta20UZAQMk2EyTBbDZJgMk8UwGSbDZJgshskwGSaLYTJMhskwWQzz/lBYPDsZw9ookHf5j9ro2D26fHOR0pll+XtDfRm99mQ5JWKBdQ0Gc8ajhDnjWRVMNHTi/Dxd+X3RsuJbjRXU8/ZD6w5q6rsMnRiYo9lMKZbNG0N0aHeMOvbEvMPsH75Lh76c1X7f+3yEttWH5efBG1n6dfye/FwlQA4d3SDcGl4XIDvEnM+KuStwcGL9xiCNTS1Lc01MLWlGSrVVucMcErBaT81oEFPtCek+NJaIBSU4fO46fUdCBdDRk7UlDkWZXrHK3/6YLekUdZpfiNKRA3GqE4PWKy0cgbaHbizYuqO1MUpdBypLvhsXk+365o5ln9DTdWHRZ6XoO2ILEmM7sr9Sug9jGR3LUV1tSI5T71oroAaYqNzQecuycPU7/9H2J8pp6OMarWzzsWkJ1FzW7Gw7mZ2N+Nx8fNoSohWYy8ceNsR2r3W79scNi4GFTx6/Xdh5R2u02Kj+ri9vV7YkNVJuwOpb2VgvOBExE8KKpouTQGdeQELoq6W4CwruSHuCAWERe87PrSysR5BQz8C84XDBDlKQ3Q4ZfI9y+nqWMAevF7YHgqwXoWE4REG06sBNiENwMuqrWOxVvRczBhP4qqsbpwoLLTsqPNVV5czhJLD3k+n8ymrn5CrDvpCys51QrvvcHF3/KyfdjLhy9Y9FWlr2F/g3F+OmCvB+hMWcTC/Lx49CwkavbC2n+YU8/fRvjjZUBunvVK10O5xrJxXqGjqn5HiffayM4tHCeRG2S328arwIAA2vBsZqIeq3+2qEBdfPPeAzw0OYmxA/sRBaG8O/ZTVnqhO6V8TLlkaj5c0HkNIbn83Q9z9n6f2mGO17OUKHv5qlfyb9wUFdrO6pwXnfUM59VE0XRhZEqFjwVe/xTSH6/L0qww4c69tkyEqsDiAVo+vbJ7XdqcVMldnjSRZThjOXvA0MjQIk9O7OCtnGm9ujvoEcbo5R5+txebr7ERZ393MRyzTJTW27Ytq8VZhB7PUiVQ4hRs8vaBVYYX/km65Jbl9am5RKbzr2xLVDyYuw6oi1+uzAiwA+1V5wFuqrE9ZrnNXfYtSBi52ZdjnIVB4MtZp2b6hbaCUOBGlGFMaB8sMvWdr6aFg+6uROikT7keqgluQOXCusENIoJLZQtCxAB1+toJE/c46xEDA6k8btg3s/HvSdzTnD6P+wRhubGh/GPyLG7lQXOfHXH1TLcSq9tKVM3uwmxE0HfTc9E5FtJeJBatomXPdUoW2cDwc/vS3LYQy40LheJ1tOzmjHPlzXuiOq3VSQHCMlUaCs4qvdSxIlgMcNyOleb37RoBYb0Jyur3AO6uHmYu4Tdc03LqukHwuNOSV1NyXARgqnvre6Rtu+6ICVv7iYcd5mbQnLq9mDKjivo2+WnDIcmAvhxWpRHF/BofH+S3dp+GbOkBIkX4y4OutBf/12RmQH47eWDM7GOwGnGxJgdvNr3bV7OcwU1kj8PyCGyTAZJothMkyGyWKYDJNhMkwWw2SYDJPFMBkmw2SYLIZ5n+h/AQYAvYyANS4R/koAAAAASUVORK5CYII='
            },
            '10': {
                url: 'image/shape_10.png',
                warningurl: 'image/warning_10.png',
                html: 'data:image/png;base64,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',
                warninghtml: 'data:image/png;base64,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'
            },
            '11': {
                url: 'image/shape_11.png',
                warningurl: 'image/warning_11.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4lJREFUeNrsm++xMTEUxsPc73RAB3RAB3SACuiADugAFdABKsB3M/jgMyrYd5+d9+xEbrJ/48rY88zs3LmyQn77nJyTzSp5nidYdlRmBAyTYTJMFsNkmAyTRfrxjy1jsKOS52jV/ng8xHq9FpfLJXytWq2Kdrstms2mmzQ9x3Q+n71er4cLbDwajYa3Wq1c++qeU86EE/v9vng+n8H/PjTR7XbD9sPhILbbbdjuQxeLxYKdqQpOk5232Wy0593vd288HofnwsWuSLgS2pVKJRWc+XweAgVchvlfNEfCkargULS1Wq1fbdPpNGjDhYBjCw8TriSH7ff7VDAhvI52gP20Pl60I6FQsslS8iBhUfJyoWj/SA2JzCzDpKyNulLO0FRn4u9kMglfR71JB7Tb7cK+IFwY1KVflc0RxghBzIuYE021IxKKHNZxh5x0os7DNDAcDoP+3z2vvsWZcNFsNgtC73q9as/xBxn8PZ1O4na7hQ6s1+vCB/XS13K5FLVaLQxpcqapTzj/eDyGjsUBDQaDYDoZjUZBJFh3rs0rA1dRQqADmbbT6QTuRLvqDqoZTSVRXAJC0kK7D1tbk+L9+Aw1KvC98JmIHKeyuQ4iACZZ8hEsDC4LTIRw0voUcBHuKlj0YWMKyAUTX0BeRwMIXJD2asNVpvImCiY+n4p904opqQHQT971vsjjRhoIOSPr1aXVDPpTa00KVV0NSg4zuTbpOGSnIqKyjiMTTHltHLWOTiNyCYDG9YfByufrQOcZEyIlS5+pYcphnceNOkCyQ9C3GnaYPjBoighbIOVkRlNOlr5FVpBUF9oUgFJCiTsA3iZI3UVNC1S4AlJ1IKCSS9Qy692fnxWoSDufvHsgrkgFmmQ6i4Up37QtCkgdUN3twVQw5TrOpTvafymEODGIuwkdCRPzU9Kr8s2S7+pHLUhE3DLPdNO2aKK6NmqBIOKWeMiqrNcdAdOiQkQlHVf2VlwRlYcmd4ooS7uy6+eiO3Vzp0j7BnZnzzj9lXVPVUB+Jg/uerNeRXtV2g08022tohXoaUR1p1rllNVdQ9o7kZ/xYb2K9p/k3dBfD7vS9is2nf58m/TbYFKjs88/OiLiQ+bTwkSY03YrK96Z6ja2Nsx1e9Is89Mp/AOBnEJeUUOdYWaULkEzTItimBbl7E9X2JkFFx4pLDEGdibDZJgshskwGSaLYVrWPwEGAFsC8ys9JF5sAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABLRJREFUeNrsmz9ME2EYxj+g8qdIiwRGYdVEHNTN1lVjWWSj1VUsk2ORGWHDiQqz1g0Xa3Azgps4gIlupjUxIaLQIkWQUr/net/x3XH9c9crXuj7JBfIUa693z3v+73v+0FToVBgJGfUTAgIJsEkmCSCSTAJJknIw4+3hMEZNRVcWrVncgWWXPnD0j/y2jm/t5kFLraywQGPa53pKqU38mxqYYe9WNot+ZpL/R42PnyWha62kTNLKbmyx6LzGZbNFTRoQxKw1dQBW/6yr/18JNjB4vd95EwzkJEnWxrE6btdSkibhX98cYdNvzxyr1uAusKZCO3AxE/FcdW6LcFBjs1nle9jdzpZjIc9lUZcyJEACUcaQS5/3mfd99ZZaHJTdz7MoU9FupTvZ9/kFMc2PEy48ihc/ZZ+N3rLy65faFUeROLdLsGE80SetFPyRG60K19f8ZzbkAsQQnIt9VcHU6zacKrsstTGoXZ+euG3dh6Lkzig93yVF9eCBgfO8Lq06XTBBITkhz22mj5QAH7iX83U39dSfD0v0rFSG/VtQ38+pgLt723Rzg093jz2e0gDcPxlfoSuttcVsKdeAGcXc0q5Awhmwk1CX9fz7PtmXut0ABWrs+xM5NTzHFok2K5zZqlrZnKH2kODY3EUlVXSyRjPtfUA63E6/2FlPvrwjPn4Bw7wmwyqbaAx/BC6cJwIZzhNLnNwTcA0nhdaSxWhAXZy4pxpOsE1kFMBGAdKKp93WwE6Ptypc/d/h2kG8faVNr44dFRs+RSHcZjowzl6y+/9XK0EzJyKhybyKh6E6PcRNYCKh4TjwU2v0p7W6tSaYOLDxZ5ta6UNXDjGP1iYQ6z2aeNG4Sqkgzi/SZQ7Vt4/ob63nAJKCbBQn+KQDfCU16m4DkqzWvp92x0QPkyYt39yn4wW0M7TFd0MHkbyUY+uRBKhiomRsXRC1wSHIVcaQ9zKfcAQIsciouKjflv3YQumyHOV+mgrQocDlwBo4mF32esBcHhmS3u98QHYkXxPiBR8BqvXtAwzyh0kwroWN5oBCk3+0hyCa6P2lMNO1KBoHxERToGUFzNEG1KOnWtbgimDnOU9NHKP08X8FHcIclglFft4v+ODYvmhWgVaNcx6g6ymThVl1tC1trq+v12gVcGU80m9QbpFRqBrM30V01nFQQfc0WggRRmVnOhR0klWBVvT1AhPB9sIYkFoFJAyUORlOBMOlQctlmFG5zIlh7aNIuRKVCxKuuMRmi4xaygLE8Xs64/FGaHVoe1pEyJSDFGic1nrMKPq/gr6VrfuU5+k4qM+bQolz00rwhQlCXLFuAs2qtwgzBpG1DUDPX3VMFHjQRhanPS02s3CuE640yx3NpsVzGKUhukPydydwnBlYWKLQUxPnBqaniaJvaqkyQbeMZhi2IqWjXRcGLxgLcGaIqb8pjBRpIupDUb6JHMF1DLJuKrrYIrtVxTptPCUVlCdtS6VgylIY9OLVL4rUsyXLhPmW+oWxEAv/XV22TBXnWncxjaE+YHuxaTKkv9gjCxoU1hX5HWGYNYg7JZWPeggWRfBdFCu/dcVcmaDC0sStTrkTIJJMEkEk2ASTBLBdFr/BBgA7MiZd8f2u8YAAAAASUVORK5CYII='
            },
            '12': {
                url: 'image/shape_12.png',
                warningurl: 'image/warning_12.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA19JREFUeNrsW//V8TAYDcf/bMAGbMAGbIAJ2MAImIANMAEmwASYgA369fZ8T09EmzZp+sr7eu45PX5Um/TmPr+SqARBIBhuUGUKmEwmk8lkMJlMJpPJINTC48A0uEEl8DRrP5/P4nA4iOfzGX/X6XREr9cTjUbDTzYDz7DZbIJms4kBTj2Gw2HweDx863rgjTKhwNFoJHa7XfS5Xq+LwWAgWq1WfB5KvVwu8Xl8hlpZmQra7XasvNlslqq8/X4f/zYkNDidTt4o0wsyJ5OJETkgutvtxtf4YvIfJ/N6vcaKhL/MCxBICoUPZTIlVUJppoDJ+6TOj5NJkdtElS6vd4naJ4Le7XaLDuB+v0eviNzAer2Oz+mAyI9Ij+uWy6XYbrcv+Sei/I/no2WPFgLKfD6P/JocsdWDQIEl64CJA4j8ut/hfnAlq9WqdFdQK0t5i8UiUgspTwZyRMoPj8fjm+JQ5WSB8k9CaO4v39F98Urvx+OxCAdUTKfTSNHOletyZKAWVVkIDv1+P1InqenFaf//HaK6DXBvXI/7J0V8tAn1qlaBfsFabNstLQAlkYiO5gkKRAYe2BQgi9rLm5/C3FVi4QZcuIBCZKIDRAaNtq56SQIezja9IX8JcooKAO0XzQisyUTD6ICL0aX0BgNj0r5Nsq8rT6kPts9hRaYcQdGRovUxrjd5GFKzy+rHxTMZk4nOy2p0BZkgchdycADBUKBsmq7LSBBIVmIziSJsicTDl5GT6nJR+bAJWKY1vymhwpRINFAGkapKYe6yTybzgzW4TGdcEpqLTJqM8KUG/gmohOYJSplkylGzbEX6TGieWS2RNddIpuYy2PwmwMSJgyw/rSWTIqdNUvyXgFI1T9kr8pi3T+ssnwIJS2fuIqsqKSsF+W2Ql1eSJmxSySxSL/9lUHqYpk6hkzSrMl2dSb5T6OpkVuU7aJYsKbt52wWHNRggvMjfPT0fBFYCAKwiZM60U5L6LZWODSjvVLOcqrrfh/by5FmH+VYQN9jrlLrZlU5i0YlNvCCZ2BPJqswGrayq6/tVdYk2aRmVkUwmuUQtmV7tefQQaS6Q/yBgCWykkF0jk+nA1OU990ymQzCZDuHtX1dYmV8ObCmsMA2sTCaTyWQwmUwmk8lgMh3jnwADAIUMMdSSc+IFAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABJdJREFUeNrsmzlQE2EYhn9CuCFhOEqTVmbEQkuOVkZsoOOwBUIlHUcrA5VYgVALVmIDjnYOYKcW4IyWEhuPqCQIcsn6v//uv2xCNtndbGQ13zuT4UiWJM9+x/t9G4oURWEkd+QjBASTYBJMEsEkmASTJOXntxeEwR0VKR517VvbJ2zj3RGL75/qv2sOl7DWplIWrCzybGR6SquvD9now132Mfbb9DE9bRVsur/Gc1A9E5nxfYVF5uPs6ZtD8XOAg+q8Xs7CDWpZ3+H3I1LfRk/0+1fH63i0+glmqlonvumgRruqWKSjKm3kASgiF4/1GlBPwAScB8/3LcNBFPfO7LCX74/EMVszjZ5I+Qu3RlFeGwESmhsIWooygFsaqWVXQn6W4GBxMshncs0+U0G2XC7lNbLM8nEAiiakNq0DEa0FDxPdGxruqLRfZ7lNutRQLKITtbQgrRFSO/pVtT7SAsmoXFr/pd+XSb3tFSzEQeI4lAlEp7FuwpP+7Tqad5jSfG/y7ru1fax3bDMtrh2IxmIlKgGzVgO2tH4gbqlC+UAdvspvsFr5BOzPV+ShFiKF05lvdODmUIn4PhVcX3s5a2sqyfococbi5J85WKS8lPy7+Hr2HAnRtFBS8gHWVWuECJxa3ksCBHCtPDramtQIQUQZVXv7s/i6OdMggNgVLBKM/lRfDfemlecsFLIBr2uFn1hjVsihYKy7ytHz5g1mOogY+W7xepatQ0sYMOqj3dW2p6bw4Bfx/frdekv+FLUVWWMEO3SjkkOtzjlSc4KZbgQc5i/MbHpJJzSc4YWEI/M9vfyTTT/ZE6m7MVmfUwDg+eFz7dgz12CiHkYW4sKW5Hp2m0diorbevFYmzLjV5++7v6M2rTu1jiEYx1MIr2FuMOgsShUHmnq8qwT7P4lby3hM2fxwrOQiHC//Xs+9H8rO3mnGxy+u7euPH5qPK27IjfdkOzIjPCUf8dSU0SinkFwl091YLqSXlCUFUYR6J1MTdXluIOCqjevl0Y4scbJEsQXTCHKWv4le/mbc9qQoHdm8qNws2W1YVvtA5+R3R1spyzAlyIA2E7sNMjVKV14dsg0egQnDzI1GA2sFn+iWnXETqCWYckWWa7H/l5QK1IrTyLroQNeUIJHahQBSbqVWJ+r0NR/8cE5bI4yFqGGy2eQztb0KFN4TkYmmB1/rGGZkPiHOCs6OW137XxNq5ViX2ugwIEQzXOjzZUpvaUFwdgpZmPmxfZIBZhumvBQAC+KlK4AXpbnBgL6FMltE+8ysiTSumLNJ6oqvR+sZmOktw8SCFsIU4tVPT1yEsK6T0ZmudvrSTSGyVlJUno9OLEKETdQuBGaEuaiNiziIovK8+tor9AadFaYsrvIgUrIwtKCXoKcgi01hYoSSS4bUywukM7VqNim1q/vSRSVMOqW4udq0QFvPBBMXnygqrU1Fctw2hbkdUz9YGs7jeuv/gKleik7duybBlJ+koIkn+wLE9qKDZK6ABtTY0Qmm01TXPpFi/Mw9wXRRBNNFefZfVygyC1zwQDTqUGQSTIJJIpgEk2CSCKbb+iPAAGxlfp3JoK34AAAAAElFTkSuQmCC'
            },
            '13': {
                url: 'image/shape_13.png',
                warningurl: 'image/warning_13.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAn5JREFUeNrsmv2xwUAUxdeb9z8d0AEd0AEd0AEdKEEJqIAOUAEqQAWoYF9OZq5JSLL52ETycs5MRhhk93fP3bvJbkNrrSg7+iECwiRMwqQIkzAJkyJMwiy3fp1jTwx21NBfuJ/c7/e+V5vq9Xqq1Wq9Xot2Zq56PB4uNDnO53NhnWu32y7UwWCgRqOR6nQ61XQmwK1WK7VerwM7iY7JYfu6CGBQ0LrdrprNZi7YXFyrLWu5XGoHFgL0OvB+Op3q3W6n7/e7LkrH41EvFgvd7/d97Wk2m3o+n1tvizWYAOVE3tfg8XjsdqgMAjiA9QYabcRnpYGJRsJ1eUc9z+yBCWwEXWVNI2+j4MQyQ3wXXIngS/uzulRlia53TESaV1EI/nA49BmiUJiIoFwcDamSG+P0CWmfpk+JYSJyNqJYRiG7JO3TAFVpUxvn/1GoA2mBKoKMBpok+1Sef171lE9a5Y0wYXOZjONOok7yZmOceagRpkzI4cz/ULWTSqZNmP5lgoloSGQ2m42uo2AgGeJwZ5capjwgQHTqLBhJsvNyuSSHKQOw6Q/qIjFWVAFWph+brF0Xeat7mLmUaaysY9ExGQxFOTZMuWWsy5wyqTsx9MWGKdWrLA92yyR55Bg0u/lYN99ut+r5fL4Woyi/sH4knIybEORL8iPKr8lkEh+mrGUTZvi6PLIW2Xs6ncJhXq9Xdbvd3HOsNVPBEjbvmyg+YELOFIDEDO6EIp0ppFl44sEU8wXCxE4IqOg9OlWFeTgcwmGKbTleRivMbNyfaWFjGmFmlBRpbxEiTIsiTMIsp76yDZvOpIzCnvYGMdCZhEmYFGESJmFShEmYhFkL/QkwAHVdo9zDRc+EAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZJREFUeNrsmj9sElEcxx+UFqVSSFNHYdVEHKybdraRLrrZ6loDk26iuzA6gXa2uNWlGN2M6IiDNalrcdSYQltabBXf98E7Dzw44O7g4H7f5HLXhLbvfd739+e9w1Wr1RjJHLkJAcEkmASTRDAJJsEkEUyCaW95+PWOMJgjV20I+8kP27+a7mYqEp5kAZ9LuQ/amZaqVKkJaHl+4f6leDKwyZ2bm2CRkIctXJhi0SteFuI/j6QzAW49f8Re5g81J4mJhc5OsPCcuWk7v33MF/CP5qJd5GDjiz4WnT9liWtNh5nl8JIbB+zbj99N8KLzXrbEr0GG39bOiVjUzUKVffz6L6XM8P8fv+5jscVpU8diGkwM+uGLPcURGDAcgEFHwh42bCHdZN8fsvTbirLQGGPi5hkO1WcPmBhkcmOfPeODtHLVrYwehH9mNWB40Q3BRBgtP91VBnV74TRL3fHbFmKrMm8qLPlqn5UrdQTJFb8hl/YNE6sbXysrOTGzOsOu8ao5akJkxZ6X2OtPVcUQmMvAYGJFE+t74vnGZS/L3AuMjBu7mRPCPvd4tuc59Qwzxt0o2x0jq2hHoYgibSHs+wHaE0x1aKc5xGUOc9yEOhB98rMvoG4C2bod5QAfzYquBG0e2j1TT42wWvKPIrTHFaQaaPZ+UDwjpSGfmgJTVLu1krD91fNTY5UjOwmdSboxVxQmGMowTDTksDtsn30QZE4SIhDdinjmhckQTKyG3NlghzDq7U9fLRNv+2AkbExS3Fh9w5R5EquDgwonCgaCkUTh5cYqqg5wuoaJngsnLViV1F0/c7JgJNSLsjiHOOgdpvwlHFpYfag6Ckrcmlaqezt3utvlSnn+h9MfUr26w50i3Nu0Spow042ig57SiUVHz51ZjbcHbWHmCkdKiJOa3YkTMuTOXKGqDxMfwofFyygbnJDbsRhBm93AlB9yaiukp5XGVlpGb0eY8l32EsFsu2+Xod66xWyCiZIvX0GM4qn5IHOn2njaML/XQcoWgKStS6F6Lflc7OBMSZoKj36oq82nCXO38ZYuSL2lDsxJcVd/seE/mDKhUr7UP/zoaW9O6k6lSo1gGpUs0ls7xwTTChFMgmlPDeVr2ORMkq7QylOHTs4kmASTRDAJJsEkEUyCSTCdob8CDABz94758xqZswAAAABJRU5ErkJggg=='
            },
            '14': {
                url: 'image/shape_14.png',
                warningurl: 'image/warning_14.png',
                // 原图
                // html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAspJREFUeNrsmk+uMUEUxW+LQUsIO8AKMDPDCtoOsAKMDLGCZgVYAWIBGBphBVgBEgOz/vpUUp335xuIdFVFv3sSeXiplv7VqXvr3mrL8zxihaMYI2CYDJNhshgmw2SYLIbJMBkmw2QxTIYZFcX914AxhCPL4x5cNJb5ZrOhZrNJxWKRLMuiRCJBh8PhpbHT6ZRSqZQYV61WqdPpvDxWmTwDWq/XXqFQwIr49er3+y9do1Kp/Hc8vt/v9yZuy9PuTDioVqvR8XikdDpNjUaDfLjU6/Xeut5qtaL5fC6uA223WyqVSsK5kXamf8OBg9rttne9XoP/wZHvOBMulzqdTp7jOMFvuK4bTWcOBgOazWbi/WQyodFoRJlMJtTfyOVytFgsyJ8Q8bnb7Wp1aExXohkOhwFIJB3VE+c7Pwgr5/M5OjAlPNygapBScL4fCuh+vwugkYCJZXe5XESygWN0Si7x5XKpxZ0xXTcEd4QdI1+JoTLLw6kfDxOu+LrUdaterwcrRHltjupBlW63m/jrb9CFS0zCRKgpl8tk27Y6mNjkqhbKRZNCIsJ97na7z8/mplz5pxoduqQylP05mCgaIgNTVwViWnFZx6qCiHrcdJ9RJllUYCr3unHVVQlgot0GsCYSkdxfZrNZ5Rt35cvccZxvlZApmHK/+dEwZeUDV8hNvC7JMCPL2Y+HCUegAtLZvfk5kVgdOkKMlmwuYxVcomu5Y+KQeNCt0tHk0AYTm2a5a2i1WsqBIqmOx+NgInUlPq3HFrIdBqBwTtgxFDESYUV29V3X1dqt0loBwZHyOAHOgWMAFRXK8/l865qPx0NkbEDL5/NByw/HI7pjtLFzc3/fF7lzcyMwv0LF8a98IMG27ZdB+M7zksmkGIfxODo2BVEKzxptiBWKLH5ui1twDJNhshgmw2SYLIbJMBkmw2QxTIbJMFm/9E+AAQB/opmytjLJlQAAAABJRU5ErkJggg==',
                // 边缘裁剪图
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAA6CAYAAADP/mu6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAm9JREFUeNrsmE2ywUAUhTupNzBjB0wMjCyBFWAH7ICZiSrZAVaAFfhZASvAyMAAA2PMzPr16VedCi+SdEJI1T1VqaCk+8tN33tPx+CcsyTKZAkVgRM4gRM4gRM4gRP4N+tHHFYSwQ2eUF+rvVQulwvr9/usXC6zTCbDDMOQRxBZlmX/H9e3Wi22Xq/DkfOAOp/PvNvt4um4HkH07PpSqcRXqxXXUaAZMWixWLybaDgcyt/DgLfbbT6ZTHi9Xr+7AYz5MnDApdNpOTDOmPBugBDgOCvt93sZCF145rc8stmsHBARx/d/A0QEV3JG/zE4bvJMTiTP8XhkAp4tFguZjO/SaDRiAl5+bjQasgiEqioAHY/H9qDvhHbCiyfLrterrEChwFHyIEQBpSsuqXkHg4Fn1M1ntXo2m9m1N04hSIi6egJa4NPpVJ4xQC6Xi70rIrecHL7g6GK4406nI7/XarWPtHO1NJfLpfzsFnnzcYngz6fT6W6AuOV8yuA5HA7JsbWiKdFGgsCDCGs7MDiSQvgIu46ie35CzmQEj2uRcDMwcGjKWPm6tBeZLLf54Rq1TJaq35vNxrUUxdX2vfqIKzgMVbVa/UjLx/JEwJRL1E5O1XbhEONc62reZrPp6UhNr7ar449fIcyDaIudVnhbq9YaNhHYTOBG3gkPaB3/7wmOi+HQEAFEAuXSy7GFLX0IioIWFSWYuYuyy8dG92t3+c6Ns0iYZL1XcQpR7vV6cjL12iIMOJ4gAqELrIR3h5Fq3Xw+l1lUqVR8M3e73aZ2u10qn8/fCoXCLepLT3KHBE7gBE7gBE7gBE7gBP6nXwEGAIxQc0ERGiO+AAAAAElFTkSuQmCC',
                // 原图
                // warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAz5JREFUeNrsmj9ME1Ecx3/VlgK1FQ2rsEoii4xaJxONZdFN0BVtJ4wxaY2JLEo3tqJuRlriogsaSRwM6KbGBBNcjAFWFGltoVQ53/dx70KwCU1z9867/r5J06RJ3/U+/f7+vN+7gGEYxLJHBxgBw2SYDJPFMBkmw2QxTIbJMBkmi2EyTL8oKF5jjMEeBQyewdnqTNf0dnGL8vObtLBUo8/LvykcCtDru0epv3f/n1WY36Bbj0tUrhp06nib/M5wvKOh7/rKmYCYnipJgHuVvhih9KVD+66RuLdG775s/fM5wGavRF2Bqr0AAeLg/TUJMtYZoMvCTTO3j9DoYKSp9Z7e7KL8aJdcBwLg+J3v0rm+DvPkoyJNmzd5/VwnZYQDDwugyq3NKBIO0Om+NkoMhMV6wtVPSvTyY5VS4lrrZYOS5zv958zss18WyNxITIaiAmmXeroPUuFGl0wVUCZf0upQLTDhuuzzsgVyyAxJx1KJcDycr9LK8uof/8BEeKvQdhqkFQnC+ShGxYohQ98XMF98qNKKcAaKTaaBKm2nJq/F5DtyqA53Og4zP7eTs1LClXbnyEZyqKryuVcV78OEK6ChMx3khgZFlVcR4nhrhObXKa1XtuX7iZ6gdIkbSpgwkWrOjv2QuyzHYNbbRdit/t6Qq3tmFCLc5/uvNe9X897u1pj0tcRdxvtCDNMuzS/W/ANzaXW7JcI8qPaxTgiNcsGcV7opVWSTDve6wbTDuxLAxLgNYN1oj1R/eUxce1xsMT0d5hdO7vR5hbkNV1w5Y8JU/aanYQ6bO5/cbEU08XqH+ogGNfZLaZhrOg4TjsAOSE5vpkpaYSYfFq3o0JFitFTzrJmr4BJdw1r8cSg8mFZlr0a1XFMLTBwrqK4BxwlOA8VU/8FsxfojdRU+bU07ugY1DgNQOMfuHIocOTTx05rqjw9HtQ2jZWukM4dNjsRknwfX4AWH4mYxJttsshXFuTnaH1Tt6V2O13E8sleunZvjKGOlzvTby+fmrjz+gBy6MNFd94mOxEB7gy1XO336VpPORLeANf+HJzreEMs2mEzBa9WcYbIYJsNkmCyGyTAZJsNkMUyGyTBZDNNp/RVgAKUVTEFrmaVlAAAAAElFTkSuQmCC'
                // 边缘裁剪图
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAA6CAYAAADP/mu6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxRJREFUeNrsmT1MU1EUx09fKzxapYgSjYk1cVETWWBUWP0oi2xSZyJMuBV1cEDpphNVVrUsBhequBnRTVhqoi4m1oSYgLWttrTQUt//tq9f1PfZPm1yT/Jym/Defb/7f+ece87FVigUqB1NoDY1Ds7BOTgH5+AcnINz8P/ZHNJ1px3BbYU2rWsdeh9IpAsUerNFS6tZikR3KJkurjv++Ijqs4HF3xR4nmK/z53uoP4TDvINdbGxZeAADi6nyi82a+8+bbPr4as0W0Tg2gFdC9AUnJGvOfLejdWoNTfeTSszhwxBT4246OlUD12V1JYXMXT7B4VWtpqnOIO+F2Mu0e20UXDcTd7BTlNqi/uIzYFretRFE4+SDH5yPsn+PlZakGHF4R5jD+IM+qzHQZH7faah681z2E7hWwfL6gM+LMWPKXD/k1/0bTNPx9nkveSWFG+VBSXXk+En5hNMNEPgbz9u00LJ5zBpK6Gr4fFl8YVnpQxkCHxuOc1GqHD+TIdl+RnZBYZso6S68DfffrFW9DMEj5UGkaA6DPuFLvDwaoaNmADBY7VNXnSycUkhSIW9+fonzTwr+tdIkzOIHtXl/A6eRvldqHWRXXbzemy3ZgKrrforgye6kW+fsha7M28kOLjG6lEzuKfPTv4rrnIexe75Lyy6WQlG8DRKEkJ9NPtH92vKo600WTAEKHhUwWXzDops/BDN1azeKpPLDaV9pCE4CqrLA8WHZhdTlqsNwVhdPtylPzhld0GFaKWvo5SGXb/gVKxIBaVtt1IfJ1Xr42YY3gO10WlNS75tOB2ixEQTgWYCPWcr4QFdqf/dqvW/IjgeDklNLRSAEv03NjS1VXpTHwopGRpNuJb2ULVZxpFB+GYva6cA75N6UKQp37BouAjL7BATAOl2oaryA7SWRlnXSVai1E6hM2lkeg+E6gsqvecqmu+E22ByZJvw++yekyy9ht0ZX8zoSRYUf23GR1+uZXswXhrojKvd+3k9J375nhdPHrVnTh1zZMy818b/l8/BOTgH5+AcnINzcA7Owcv2R4ABAFlBUULSa2kkAAAAAElFTkSuQmCC'
            },
            '15': {
                url: 'image/shape_15.png',
                warningurl: 'image/warning_15.png',
                // 原图
                // html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrsmr9OKkEUxvcSChMK7LCTktBgD4l20mnCA4BPgB0lJDZ2wBMIT4A8wWKBndFSjVHo7JTEAivv73KSDVnvXeHumWSMc4rNLuwc5pvzZ853GO/DpDw9PW1vb5+dnb28vKw10Pf9arXabDbNzc37MCzM3vO8dDrNzSr4Wabd3V2GsGTrrtda8usPeiWZTCatVotr6POrq6u3tze5x5K8k81mQ++8vr72er1OpzOdTuWTQqGwubkZvMCQ4+PjnZ0drdl6io6NYb/8Oew5GAz+OpxFiR6L/uvra+u8XeaNoQDmL8nJyYnMe29vj8doJbg3QZFKpXi/WCwGStrttig5ODiwDrkEZwgbSAhXFgWTrq6KUUQ7AwG8HP8S/N8GeZwsFfJt3fBMeiZlOUX9h2jms0+S8H6qOOQOuUPukDvkDvnXpMXQRGu1mtRwWgrVKhnK8ouLC+jUzc3NcgEzWUgikXh+fr68vIyobaBr5XI5n88/Pj7mcrmtra3gq9FohHL5Feu4GlWqFLAREt1pgI1ED4cOKTJ2NZtjTCxzfn6OzTEyN7PZTKgl1Ho+n9/d3UVrwOZcK5XKw8PD7e3t+/s7j5lM5vDwEPujRBzeOpuHSJXEJPfLnZlom4c4D2OF8OvS8kCUM1yv1zs6OpLeC8aPYyXG4jt4OL5DeKPN3tzORMlwApsliEnUJIIATPwDHp+XcLAROVZiijgtsHX9iMCZTqetVstG5MHGowtbLC86u92uYr2QULSM+PnnvqpKsSD5T3FZ1ZD3+32uug65LJJBFJEnVaoiyT1EowmDi5DhuBLtpVIpmVQoQ5ISnCpitG3mLXr1zHY8HluX200j/7ksVZOufC/kbJyWIlcvMI1KUrhE/LqVXc00cknGjUZjY2NDAbnWDgxythzAG8pz0F7ZOE9PT+3ydvkvtdPpGDK4aFak6GrIZU5Y3kQrLiAFNiIPSmvlzsmiQBSd9XpdsUbUzO0U1el0GuPogkcbGYQIt5SleoujLBKN+DzTjd9IQAOuNBwOWVAyXPxWh8FKBsDShwM8ST4OtWIsS4kHAZs4198yTBy48n0/OC2ElxKf+/v73modyOpCguGFQsFE+9HgeTg56xM6LbVWv50lM3oSUPM83L82JOT+/p4iZ5X/WHK5HE4OGzfN/Iwjt1YccofcIXfIHXKH3CF3yB1yh9whd8gdcvvktwADAMMIrTKxVPLwAAAAAElFTkSuQmCC',
                // 边缘裁剪图
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAA6CAYAAADP/mu6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAytJREFUeNrsWTtuKjEUvQ9FooQC8alAooAK2AHsAEqaiOwAynRQ0QIrSHYAURq6QJmKhCqpQrqkSqhTzJtjyfOcgfEHBhKefCTDwIyvj689vufa5OyAVqvFysvLi7MPUL/dbjv1et206ox2afDj48OJxWIOETnVatW5u7szqr9YLFjHUR8Fv02J/8EnBWAymdD19TV9fn5u3Ht7e6Pn52fvd7lcpk6nQxcXFySzNxwOaT6fe/9ls1nK5XLfnovH48xWrVYLMjUP9Hi32/U8olMwAqiD0ZDZdIlq2xyPx2ZTBY2LhGAA00Es+Xye3U+lUk6/35cS9uPq6srJZDJe/dvbW8/uYDDwpiE6aUQcBjjpbfMPnnOnBiOwD9AO3hG8oP53gDtuJ+IwGrQahIltzlERj9AO8L9M+6JSqRjXidCJwhK3xC1xS/wIxCFygIeHh60C69Do9XrKZ86CAgJU2+vrK1NojUbj2310ZrVase/lckmlUolms5myMTii2WxSJBKhZDJJ6XSaisXixjM3Nzfs2o3cwcZkYZiLHZ2iq01M1KZEp8/OZGEYXuV6fDqd0v39/YaOFrW1LlxlSYlEgp6enmi9XrP/otEoG1mMAOzimk9ZI4+LEhdKkHvCn7Lt4nFRvOE/0b6m4lSnbmhE1OWGKk5bdYqpnAZ5OXGeBcnmW1jERfKK+S0njumgkUKFSlwcYdkzUuK896qtg7CJw2F8NZPsHqhzTlW2EzZxAKmcwmnbMyBsI/Ath7CzHR1gawLggUgr5CNSXl5esmt/xDwW4CzECR5PeEekxBFQ3t/fvU78FHjbj4+PTAYYqcOfmCa6bf9a4nvpcWgVS9wQqrY3iLthni2DgI7GPhR4224g3L4DHLQpiVtQbSocIgCJcsMoAPH1G0vRT0wX7KEDbuQ0zzkxRGIUO+bcRvKibPu/U4cnq8dPOgM66ZzTr5F5gVYWD7hMiOP8CPbEg6ygEQ3lnJOf2YS5r6JzWme0rxIkNRHRsGTx79Fo5EVaFbDMFgoF+vr6ovPzc6a1d9X80gPaX4y53Wa2xC1xS9wSt8QtcUvcErfE/+GvAAMARo99zLHMtLMAAAAASUVORK5CYII=',
                // 原图
                // warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABIFJREFUeNrsml9MU1ccx2m5CL1lLSK4xMXy5JwJ+CBZYjK6NyOhS8zYkoXO14nwhG8wTFwyUeILJCYt8LyWF8WXlYGPXEx4wSzUDCNZttZElCK0yO0fetvu2x5WG91Kgd8J13BObm7KTc/h9zm/3/md3/f0GjKZTBm3FlxNOQbW+9rNjuYqq2wovePs4pZHiTfUGXvbqznZZuBKjjY4sTn4QLXIhu6LclereUd+rxLzzMQfPd06WVc+O3BsV/N1YOTw8O0JNRhKvfP897+SamL7v3TYTQgBW135O9+JRDPemZhrOvp8dbt7o02yysb8F2z15Zi7pgaJylqJELul//VGdId5xLz4A9p/kacXgloeG+1JUCv8wqOnZb75uO/HWip4Mp93jW2MKzE4qq+9ujBE554lb97bxIeWM0d6vzbjXmQQeN49pd6djCJGzn9acf3b7UWOyerzvMGHtnOV3ms1NL7KELW2m2vWyy+VPxKFD8NqurEndHU0EghppQ+FXp6ZKDq6flPzD/EE4+MhlcHcyXHtecyFv5OFf2J8XFQGS1wT+z4zM2E+e78Zyw5rE+SCXJALckEuyHeu3jkZiuoY95PvFfwHr1jsZyogLXt/ebMQ0GoKChjMRVa9GQ2hcPrhjdoitQ2K9m/urJ/+RAqsaKdOSB9b33pFWUxicFb8606lwm7nUJjZ938NiqXISQO6Tz5OFOkOOeTrr6VS7GQ+h0G+/qO++YQ/kISff51PMMVqkQ3QpIlkZmk5tePc4X7p88o/X6WWlrVEMvvwuNXoaK6E/6HPnXYT4fIhLoxhJZT24AOVrcm+djMzl53MlDLCDxdkFtJeJYa1sxJJ35+jlOW8MhzM7c6log67aXbg2H68hL7+oXpEOGLHcWsNEl2/5AhyeIlhu69Y9r8gMQKmr+1cJeCdw+FINKNT8q7RDZj4xWdHgE04rLvTioXzPHvIt6lH8tnFLZbY3Z0W2rCE59lUjkxHCesFMnKPEmdxbqMrNvINOQ+hlM0jMzHdkY8rWZuQzDnVcN2tcn5+aXY1x8A6RRmTZtsYD4fn90vcsdpbf14rNxIUM1LxqmtXrcnG91QPAQ9r554ldZfbzzbwJT+8KhWi6JCSQ7HplHyBusDk2iQoR5K61avE/UG+5CwZ93xlrqogISf6aR7k2HKgKzj9MAL9yzbOn76r1le0d+RkmWs6ysnhrqnsyN/bq3S3zplNqOR4HMXlRYHzS5PuyPOlNRQbLTbEKTt+vHpRJqwRKXM7VJpFNsA5zFA68RtBBsmd8FC+LURJDocMXv6IxTzg93+QgBEgKyYfJzCh3p4a2reFiCsZp93kymlpwLf0v/YqexeV6Nt0LYQIAjaPczj6HciZk+jO4TBCtHts4/aECpm19EIrHRhS1DcfZ0e3jTbJfcXKY6fksvci2/mH6t1TKnvLa6S0rY4Fs/dfBY6Fjf3iA34TEBsSrqWXqScBrZTfWE6dkBrqjI7mqibOyo87uW6bIBfkglyQC3JBLsgFuSAX5IJckAty/bV/BBgAbqry8nzckjsAAAAASUVORK5CYII='
                // 边缘裁剪图
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAA6CAYAAADP/mu6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABJFJREFUeNrsWUtME1EUvW35lCIU+RlNLHGh0QgudMln40IDbGSlgBtNUEhMdCXKzoiww8QIStwhmJgIG2s0cSGCiQtxAcZvjFoSP4BYykegtOM7D94AZTqdGUqLydxkaDvMe+/M/b1z77NITEin1Lb7+OelilRyZdvIqHjGAtT6eIY8owHqupChZ2ivxQjwiRmJCi6Mko99Fu5N4i9QtC9J8/ihbwvU+mSG7vX95b/7rmZRQV5C9IC7B+ao8/lfDjRURiaC9OnHgvw735VAdUcdVFmcQmrzQcMv3s/L93Yyi4Vazemw8LlUlNEb9jWbu6eouWdal9lhcrwkFlbWtJ8/t1KG2e/hkHuQR6+Z0s5nUNmhZMW5FDWOxfPOjPDv6QxEW41zDZhzd3z0ZSRAuU4rnT3ioNOHHWEBh0oXc5Er96fopzfIx984nU6pdovsRk09U9wNYY2hlmxFjZOkIH1v5yRn9U9pZ80vafCrf83/mx5MSoWXx6TO5zPSegTrlF4dly52+Fbdx5pYH1cYeaYaEQWuRMWgqSxJofqKLbRegQ+7G5K4lletqyFQrUYWXE8KVFSQvoxiHPhmEBO4CdwEbgKPAXCnY/H2kMevSLA2WsCTIklCuA0BPAHkp6xxnMpDiA5eBmRpYjpIbzwB2s+YobthqyY6e+qml6xWC+WkWSg3w0Z7tq/ezAbZMyBYEFBmXcA5EQIzuzbOgC3wS01W0lR1Hg8qvMgEP/C//rDPgtw1V6fpBw6tD7XkUBfn40F6OjhPrz77V/HovGwr9b/363aFXbk2ykqz0kfG531LrpicSIzC2rkFXDk2/l2NbaqSBAwEoYK7CK2fYIXCypIt4+Qv3cB3ZNpk1+p/N0/1dyf5/N0vZ6m1Jl21GNGcVSpbvHxSmA7Evo1NHE2SBYbY35jFFQKpY/Vs11JJZxg4ohv+C9Duy5lhq5FoCBQiwMMCoVRXM3BkDVG6oQIyQj2NgEcmgd8DvCHgTd2LoEsPJm+opteAP5POLQxLw/91AUeeFq2D5pNpMd18ED8iONER0AXcPTArtxyiXe1oEbQmRKWvOR2WNf6R+yXlMXSRUK2Lnbuo4TfPPKGbkVVpF0SzR6SqeIlYG6lYKcOopkPsYPES7MqG83g8/DsqfNyj0Br7P4CPxg/4t7GgPuD1x1J5GhQEKF4i1q4stlNViV0D8Iotch59ODAXF9CeFR3cVkY3lNiioquAC4tUFA8/Fzsm6IbOmtOyzNQ6JmOubUFrheV1BSeKBbHtumPoMrW3ffIRjdoGaFXL4QhUPln7RER+HBXQrIgQ/F+t3oyYDhGogh+jcN5IzQO0zEgZ6Ej8P2LphmM8pEeAr7ru5QtEM2CR9kCkBGitNWfEsgaBipoQFcmtpSM+XIj4Awarou/jAT4fLCjSnjhr0lq06DrnhHZQGSn1Ubwd2zSNL7/2Z03/pO6Ig2qPpmo+/CK148JwVBNnNnAVgAAlaGNWyHclahqP1t7u7TbyMyUfL7QzP040XBYaOlneBNJrtplN4CZwE7gJ3ARuAjeBm8BN4MvyT4ABAAIQlc4pYxcRAAAAAElFTkSuQmCC'
            },
            '16': {
                url: 'image/shape_16.png',
                warningurl: 'image/warning_16.png',
                // 原图
                // html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARNJREFUeNrs3NFphDAcB+BaOoAjOIIbxG7kBq7iJjk3cARHcIO0PlygL4UWSTz5fvCHPByBfJfkiMRrUkpvck7eEcCEefd8fJdN08yECbNmmqbJ9Xg8YJqZAhMmTIF5N8xhGHKt63pav+M45n7nea5ynCyeZVlye9/30/o9vphn3weoZW6ZC0yYMGEKTJgw5ecJ6OpPr/+bbduqPJlPNSvGmH7LXz4bQqg6FsvcngkTpsCsg3n8YJauEpmmqfi4zEzLHCZMgQkTpsCEefFUuR4TQsjttm1P67fv+9zuuq74uJp08ff9jrvsz8QYq9whssxhwhSYMGHCFJgwHSfL5JX+kOXA/DSnzjubU7Bnwrx1vgQYALzkXnZc+7jfAAAAAElFTkSuQmCC',
                // 边缘裁剪图
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA6CAYAAADcKStOAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAN1JREFUeNrs2fEJhCAYh+HP4wZolDaokWoD3aRNqg0coRHa4DsT+ucoLjiNovcHIgTpQ2qGGVWVK+YlFw0wYI+G6b9lGAY1xmhd15qivVAsQwkM2G1gTdNIWP7ivU/e6ZG2d2HLTeM4yjzPyWFH2maOAQMGDFimvL8vTNMUS443/tYOsGTZnn7Cuq4T59wpT6Vt21hvnQYwx4ABW2Otjaukqqrsnfd9L3vncwwlMGDAgJ31obimLMtYF0WRvNNDbWuChK0lnp2GbUwThTNYYMCAAcsVw896YE+FfQQYACzh9qiPC3suAAAAAElFTkSuQmCC',
                // 原图
                // warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAT5JREFUeNrs3LFqwkAcx/HTqlhbUQdxs2sz9AnaCM666Fj1PYLOSt+j4hO0T9D2CTroqptQiCKIBNu0EYxB6HZR+fv9QeCmi/l4/z85OBJxXVcRPYlCACaY0hP7u2iarEwwxZf5SSfbmvrjl3ZOPRgJViZlTsAEE0wCpqRXo0rX9sdPzbS6u9HzM6z+Qn2O15txo5RUj+alfMyPkeOP58sfbfN6kNu5TSNOmdMzCZhgggkmARNMMMneDuh96Ih8sMnXtzr0s8WqPVsk5uBttbkoc3omARNMMOW/Gs2eCwe/afBgQVixalfKql+zMilzAiaYYIJJwAQTTBLYAR3jpve3u6PUmZS+/zN4ZqmYvzgPzNdOLpR5vUNglDk9k4AJJphgEjDBBJP8m4jLF0+0bifLMOhbmSjQM8EUnV8BBgAkIzlI3eqxmgAAAABJRU5ErkJggg=='
                // 边缘裁剪图
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA6CAYAAADcKStOAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPFJREFUeNpi/P//P8NgBEwMgxSMOmzUYSPaYf8pxUeu//ovEPvyv3fr+//UMA+IG0ajctRhow4bMg6rWPKZAZj9GS4//EN1S4kxG6fDQJqO3vjF8PHbP6o7jBizR9PYqMNGHTbqsFGH0QiwoAs8evOX4dHrvzQp8bHVACBgo8lG2GHLDn1n6Fj/lS6hUrn0M5j+sFh8NI2NOmzUYTgdVhHEA84l1hpsNLd8S5Ug1hw5GpWjDht12KjDRh1Gz4YiDOjKQ6T4uajvdmLMxumwjhhemoUGMWaPprFRh406bNRhow6jEWAcnawfddhIdRhAgAEAnedrM5eCzgUAAAAASUVORK5CYII='
            },
            '17': {
                url: 'image/shape_17.png',
                warningurl: 'image/warning_17.png',
                // 原图
                // html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmDGSgjAUhrM7FnRY2ukN5AZiZ6c3cG+iN/AIjieQkg5ugJ5A7ey0tHP/2cxkGFhYIAmu+v+F42Tgz/vIm+S9iLsFLRaL6XQaRZEpQ1jBELYGgxR3O+r3+0KI0Wi0Xq91fPD6cDiEFX7NRmiAHMGB0HVdUSB8hdVqdblcqnviYayw/Hx5YS6kQJIkjyRHfKKC5vP54XCobouH8cqftjrwuuQygvySYk3k4uDT1FrtDD9el9kEw3SWyXnTg62SY+ORyZwZ3263GER8jZkzmQ8rGMJWDeJby32ksW1HaGswGORHjsejMKRut/v1o91upwY9z9O0/RQWpB9WC7ZWyJ9CnQfOHcexWkyk9BuRj8dj+Qc7pe/7Lc/+vtlOcpKTvEYNgwLjer22GTSmWy6Xj9zbQY6i8nQ64ViazWbpk+l8Podh2Ov1HMdRp1ddYcO/3W6wmkwmsFLjQRDs93v5QPPoNYtqdEsl/Wn5FOqBojuMclsU7Tp9ge55jtVGiY5VTRfVEAY3m42p9EbHmukOkGK6xaylOxnZxplac4MXW0rc20lOcpK/cH/euMwoV+aQ+1du7clSJcNsJznJSU7yIvIWOhZ9sWNhtpOc5CQnOclJ/mt/bsnX9339NtNqo8psJznJSU5ykpP8+fVh+1qb5CQnOclJTnKSW9e3AAMAtJy7MTufEsAAAAAASUVORK5CYII=',
                // 边缘裁剪图
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA6CAYAAADcKStOAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAetJREFUeNrsmL1uwjAQx0+IjYEszPAGIBgZMBsbjGwsrEh9Ax4B3oDwBuEJyMCM8gYwIjqESB0ruTkXU5MPN6WOGtH7SycSsC+/nJ27C8A5d3mKms0mn8/n3Pd9blKHw4FPJhNhKWKgA9tutxwAeLVaNQIogaRPjb9PMAQYDodiME5Ks0cBVaA0q9frYszVN4PNZuPpJkRNmZxZeOO9Xi+Tf9w+Aowx9iq/XK1WsTtVgfD8N1IBMUKq1IjOZrMXaLfbPp4sFouYI3RiAigNELeFKtxOyNLpdOwbGA5O2ht5KuofQSVYCTRqNBqQp3T+S1BQGQNzXVeYKZVNOer3++Iz3CrFilhhl5LACgNm2/afgnieB8vlUhxXKpW3crfbDfb7vbVer+FyuUCr1bqbcDqdRBoYDAa3iY8qrMvC33g8jv2GvoMgEMfT6XQH5/N5hxX9u6qPtU0nOS7LGJ1dGwlWrtVq7xhGx3FEOKM6Ho+A0TSpsCbGvrMsC0aj0VeZ0nWwahdrMmIZxChdENi/BbtrezDBRlNGUgox0bslJd9UMISQfVWeSrpGtI+jPUZgBCYfWXw6VAuLuPGLRq+R9GZFS0lgBEZgT9WPpb2kmvpr6Sd+aCkJjMAI7OkTbB7Jk5aSwAiMwAzqQ4ABADXUjyWyq7/gAAAAAElFTkSuQmCC',
                // 原图
                // warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAIAAABDK/LFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsmr9TE1EQxz24/BRNGINUJi3MAIWUJjQWMMSKMugfYCroRCwF7NJFxsbCSUqqqFBgkWCnFjlHbRMb0QA5NJef3Pl10JC5xJlw7x0Hmd25ybx5l/m+97nd7Nu9iaBp2iXe9mTjVzbXiM64g6N2LoI7n2vxTWUiID6YG+C1ScEMctj4YuFr4ejWiH1+yhkJuQzrJDNlMH/MN8b84s7KNY475ECOzSXSFSlfP1Q6S93w9Uen3ZEpl8ctdKkpK9rTzVIiU8Hja7971S0ER+xLcwPjAdHwtvvYAzv67PDtl9r/sGHYfTbfkBW1e1l8OVdQO2LDsNarD9XQoz0p17DM5957u/hcm7+ic2kkVsTm4Bx4+/7M5e693Wr5wlEyXY5vKUCdvelILnqbUYbHjUHr5KlNY7DMp6rn7rexhR+6+dS7CiYTaaVYUjVmgwikIAjZ5mT8dQlLzz7eNywrsqcKv6+/fUaK+XilIsQLciSu1thm+YXz+Z13TuwB8fzLmkJ+IUy0cG3UJ/+caTOWAi8q+Z3Vg+NB6uEgr2qPop3IiZzIOZH7h/7UMOhVZEU7y01jubWNkpW5HbUa+jD0FcHlvfCkw9tyMu3K6na2dt3T57AJL5cHjemHVw6qde27rN6esA97TpyUel9F34pBaNRm2amWXPCGV/cBv76ldGw5WMTRAh4Pnr8pt99F849eyDJyVJRSbAg1iZSr69usTIVXeEdCTl13EJ50MhazHCoZlF8IdVy6+owruYt7qUO5nciJnMh7uD9vNsl8jeWtqNlqf8mbTfJ5tqXET4p2IidyIify7nN78cWwGbo4LDmeGma8nKVoJ3IiJ3IiJ3Ii74FKxiRdFB7sNZJJVRZFO5ETOZETOZETea+YWf/sJ3IiJ3IiJ3IiJ/Kzs98CDADbAvFDhBw0vQAAAABJRU5ErkJggg=='
                // 边缘裁剪图
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA6CAYAAADcKStOAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAmxJREFUeNpi+P///4H/OIB11Zv/7Ws////w9d9/aoKHr//8z5j5EYxxAAcGfA47fO3nf/6YF/9l015SxYEwB8HMxGOeAyPIYUeu/7KftuMbw5Ebvxg+ffvPgAvwcTEyZLlzMWR6cDPwA9nEgkdv/jK0r/vKsPzwd5xqZEWYGWw02Rg6YnhBZjuybD/3UyCy/wNRFoAc/fDNPwZSwaPXf8EYH3gMdDzI4Zcf/mY40irMwODd+u41KGhBeOmhbxhBD5MDRQGITwkAJQ2vlndg83QKXqPIwaIYhMsWfSpgsKt5+x7Embb9K4ZBIEOo4SBcDgSlW2QQ2fce7DD72rcLWGBBqSvPghG809P5GOSAcU9tAEpLW6vZwGkPGegB3bDt3E8wmwmfAbRwFLHmMzEMUkA1hwGLHDCmFmChlkE+be/B9IfF4oMrxAZtVI46bNA4bOnhHwPqkMsP/zBM2/kNzOZiZ/zCYqHG+vHig98CoAr049d/4NIXGbz8+A9cDDjrsYNrfkqAd+t7hlcf/zIEW3BgyIEcBWvZxDlwHmEpDeB+cvTGL/krj/6AqwNYlYAOxPj/UBwqQHvAdMf6rzjVTEvjY4iw5njBIsLL9AfUzNh69ie4yYGtLbWMytFcEciNIcbPxcTgbcIOr6bg8eZtzA7G2Ep0qjssiGe0uBh12KjDiGr2fAQWcOhFBqhEpjbA1m4DNbdxOgzkKFi7ipYAmx3o7bjRNDbqsNHiApZl0XMHKGtTO6cS05MajcpRh406bNRhw6qAxQawFbq0LFhHo3LUYaMOG3XYiClgaVF4jkblqMNGHTbqMCoCgAADAHDZ324ISTbYAAAAAElFTkSuQmCC'
            },
            '18': {
                url: 'image/shape_18.png',
                warningurl: 'image/warning_18.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAC4jAAAuIwF4pT92AAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAKzSURBVHjavJbLTxNRFMY/pp0ClWCLGGO00EgwCptGY9KFC0IIoBtZ1MTowtHExKUd1ibsTIwW/wAXLNQFatJVoyZqFxiKklAeigaqmMICNMy0daZ0+jgumNuMWGiVDr/kJnPvJPe7r3POV0NEqBCP3tyGMRlAFEC40klARDs1t/Zaepzsns4o/kViKP5FklyRYtP/BYmoq8x84LZZhwPA0Mbw8jdF+HI5v5C2ac9+llv7BQBv9d26/2WHHiKKEhFJrgjJHR9I8S+S9mKdyiG5IpTsm6Hc7K8UEQmldlhKTKb/JB2IF485HYhTKVFjx5G+G9+QXBHaDbk5hZJ9M2SYZ6CkYPZ9clJyRSjhnaIqIxORe+ujGUjfXjoNAHXiEVQTuWViv3JzIcT6TPABJfKw3z8G28WDqDbZ0PrJ9J34WSboAdDaOO4xRYzvdW5Gw6p2jwkKqhiDWfB9m4LZV9IZAOC0pz96KgjqXQg2weZrBt/v5AC4rbnxZCdMpKbRAnugjXXdXPalBLNRxRjYtVnZGZsJuzJ7oA1Ww3b3BA7A9B7qyRyAqNwygY3hZdNUbL5m9hkFEQksw+fmFDKRIMulI3y3IwsA6mDMzOMcKeZSrr0+BACWDnvVw0FumQCA7wCCxorvIKKlap4f8z16uevaWp5kAIJeTpDqn0X+o1qV2KsbPPrc6OqMJioM4BoA5D+pSJ2b3fXL5c83zdt8zb4dTVTqynzQaAErITO6RgnvFCW8U5QZXWPDIxXZxIZHJwZqbxy+ZGmv1wzxA1WMIdE5CVWMwZh/VTEGdfArCisZFFYyyI0lNQB+dkV/JfMyzlsAMASgVX9tfwSzPdBWXADf49Qspxre1V49dB3A0rbVo0Kr79GerN3KvpH7c2OJA6QWrHyvc3Xfw+OfDVY/rD++Hfk9AMDqy5kSUIJDAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAmJJREFUeNpi/P//PwORQACIDaBYAEn8AhQ/IMoUkIX48N5LP0sK5328IZv28n/GzI//QQBE88e8gGOo+AMgLgBiAXzmseByyMGrv2zXHP+xbvHB7yJEhoA8EPcDcQMUTyDFhwUfvv4Dux7msy1nfvwnBoD0WFe9+X/85q8z2HyLzbIF/ykAyMFdtfTTC3RLMXzWvvYzWDG1LAWCC7gsNLj04DdyIqAmmIDNwgugsKe2ZTCfBna+iwDZwwRNOwFArK8rz8owPY2PgUagBUTALEwAEbSwzMuIHUyfuftbGVRggCwUyJz1yR+IaeItHxOIhZ++gUu0AFDGN1h++DsDrXzobczBEGn7G8Y1YIGWjTQD/FyMyB4BWyjAQAcAirKPX/9pgMvSSFtOmlq29exPBmi0ibPQKu6QwRaghSCgr8D6gQlal9HYhz/AtLESy0uwhaDwFYh9CfY6LQAopYKAmjTLHkZQcaOR9/rni/f/2EBxSePgNQSXNAU+3LORvU4jcBEcfdCCW6BkwacflFZLuKopaIWQALKLEakRVQBtIlAt38FKMHF+ph83p4hyIhfeDNA2yEFw8wyYgCgtW2GWgYC2HEsijM2Epi4AGtZgDdQo0OVEmJetKxNcga8RJQBqi6A1AfECUAMLpA65KQkEH0CtCHTzGXE1hLec+TmjY/2XdFilDPItKBWD8pSPMTuQZke0kIFRgAw+LBY/CK1jH5DaEFaAteJwNH7hqRHku9iJ799WL/s0CZ+ZjEQ29UE1SsDU7d+Cj974ZXrg6i9hB222t8sKBW6APATEB6CYYDEJEGAAcsTq1AHKcqUAAAAASUVORK5CYII='
            },
            '19': {
                url: 'image/shape_19.png',
                warningurl: 'image/warning_19.png',
                html: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJJJREFUeNrs1kEKACEMBEHH//85irD39Rah+gXStGRSVaM7Sc4j91vT+Z1zgMyWP+iFb65MMkEmmXfT6JtHZCoTppEyyYRrrkxlkgnTSJlkwjQiU5muOZRJJpkwjchUJkwjZZJJpmuuTDLJhGmkTDLJNI2USaZrDmWSSSaZppEyyTSNoEwyyXTNQSaZphH+sAQYAAmLMm3OKaFjAAAAAElFTkSuQmCC',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAA6CAYAAADMSWWSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJtJREFUeNrs1rEJwDAMBVErE7jLdJku07nzBgoY3CedAu8mMMcZ/cjMVp1+jfXIeZ9R+Z1HA5kViT98c2WSCTLJ/DaN9jwiU5kwjZRJJlxzZSqTTJhGyiQTphGZynTNoUwyyYRpRKYyYRopk0wyXXNlkkkmTCNlkkmmaaRMMl1zKJNMMsk0jZRJpmkEZZJJpmsOMsk0jfCGR4ABAPuuR50l0btYAAAAAElFTkSuQmCC'
            },
            '100': {
                url: 'image/icon_01.png',
                warningurl: 'image/icon_03.png',
                html: 'data:image/png;base64,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',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcNJREFUeNqsVDtMAkEQnbugxh+ojR1nqYlEE0s12kOBdhqMVCZ2lBhrDCWdsVLip5VCauOvJMFooiVQaTTyMSoaBOete3ieoHx8yebm9mbezrybWaVUKlE19CzcjuJh2EpktvsT1fwVMxkTINjHy8tLqxBzzivEpFu/kjGRmx9wsuHd2qGQw95S/n52/WYm9TJp/AcZEyGTTdjDdgutzHaRc6zt28nZ5xJFY3ny7zxSjm1FoRyHT+mEgoyJptk+xMbcZDutL1nLBHsnL5S6e6eJoVaxdFJn4IEuUwXxymuACTOqjNmqRATsHucpuP9Ep1dfJdq4/Ohqn6hAShKCoUqdNOgT9HRTrbB991/Ej0NmIKN5zgoO9QBly+wANyzoRS4p9kWywJoUDaJ/2sn7oqlUlRyaRcRJ7UYVm+dG/E4WUDg5A2lzC1TE+GAr69YrDnCtpbF1pNI/wiKbbwQnQAOcZoSeqX+mk/zce2YYSo8jM9FwB7HXhrIxxAmyiN6caMZ6gKyk+EBEZeFBlsR4LG9kaybCwRgriTAm4M9xqkakj5OcT61M9q+DbryC2CHMW9amrqAKl6NPv9cauhybvbY/BBgAr1D8W9suNQkAAAAASUVORK5CYII='
            },
            '101': {
                url: 'image/icon_02.png',
                warningurl: 'image/icon_04.png',
                html: 'data:image/png;base64,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',
                warninghtml: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAblJREFUeNpi/P//PwMuIBD70gBEIQk9+LBY/AEu9YzohgENAGkugGJ+LHouAvEEoKEL8BoGNCiAkZFhIVCID8Tn42Jk0JVjhcsfvfEL3dAEoKEXMAwDGpQApOaD2DpyLAyVQTwM3sbsKDZ//PafYdmh7wzt678wfAKygRZ/Amq3hxkINgwaNudBApG2nAzT0/gY8AGQod6t7xiuPPoD4j4EYgOggR+YoPJg/3sZsRM0CAT4gd7fWi3EICvCDOLKA3ED2GX8MS8CgPR6UPhc7hcFKyQWHLn+i8Gn7T2MKwhyGcgwhiig90gxCARsNNnA4QsFASCWAojlAw3syw//AMPkH0GD5ESZGeSA3gTpg4adAsgwexBLVx6SBCqWfEZPAlhBRSA3QwUwxmH6gMCBBV2RrjwLUV4EuQwdgHQeBLnu8sPf4DDoiOElKdxA+qDgACgCwHlty9mfDOQAJH0PQIZtALGWHf4OToykAFDSAAU+KCeAzGECplyQYRdB2SNz5keiDQJZnDnrE5gNzETzkXMAKF8ybDv3E66AmOz0+M1fWHZqoE1Gp3oRhKVwTIBmYvIKR0qLbYAAAwCGeNqdGbH26AAAAABJRU5ErkJggg=='
            }
        };

        $(function () {
            changePageStyle("../../.."); // 换肤
            // firstLogin(); // 判断是否是第一次登陆，第一次展示向导

            pageMeta.canvas = Raphael(pageMeta.container, pageMeta.canvasSize.width, pageMeta.canvasSize.height); // 创建Raphael画布
            pageMeta.canvasDiv = $('#' + pageMeta.container); // Raphael画布容器
            pageMeta.collection = new ShapeCollection(); // 创建图片连接的实例化对象

            for (var a in imageMeta) {
                if (a.length == 2) { // 为每个图形菜单对象添加属性
                    var image = $('#image' + a);
                    var td = $('#td' + a);
                    td.attr('url', imageMeta[a].url);
                    td.attr('warningurl', imageMeta[a].warningurl);
                    image.attr('src', imageMeta[a].url);
                }
            }
            resizeCanvas(); {
                $('#canvasWidth').val(pageMeta.canvasSize.width);
                $('#canvasHeight').val(pageMeta.canvasSize.height);
            };
            initChart(); // 初始化逻辑图页面
            createGeometrys(tempList1); // 创建几何图形
            {
                pageMeta.extent = new ShapeBean();
                pageMeta.extent.raphael = pageMeta.canvas;
                pageMeta.extent.shapeType = ShapeConfig.SHAPE_RECT;
                pageMeta.extent.x = -1000;
                pageMeta.extent.y = -1000;
                pageMeta.extent.width = 1;
                pageMeta.extent.height = 1;
                pageMeta.extent.border = 1;
                pageMeta.extent.radius = 2;
                pageMeta.extent.hasExtent = false;
                pageMeta.extent.fillColor = '#0000FF';
                pageMeta.extent.color = '#0000FF';
                pageMeta.extent.opacity = 0.1;
                pageMeta.extent.scope = pageMeta.canvasExtent;
                pageMeta.extent.moveFun = function () {
                    var dx = pageMeta.extent.x - pageMeta.panel_x;
                    var dy = pageMeta.extent.y - pageMeta.panel_y;
                    for (var i = 0; i < pageMeta.selectedShapeList.length; i++) {
                        var shape = pageMeta.selectedShapeList[i];
                        var locat = pageMeta.selectedShapeLocatList[i];
                        if (shape.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                            shape.x = locat.x + dx;
                            shape.y = locat.y + dy;
                            shape.moveTo();
                        } else {
                            if (shape.beginShape == null || shape.endShape == null) {
                                if (shape.beginShape == null) {
                                    shape.bx = locat.bx + dx;
                                    shape.by = locat.by + dy;
                                }
                                if (shape.endShape == null) {
                                    shape.ex = locat.ex + dx;
                                    shape.ey = locat.ey + dy;
                                }
                                if (shape.mShape) {
                                    shape.cx = locat.cx + dx;
                                    shape.cy = locat.cy + dy;
                                }
                                shape.moveTo();
                            } else {
                                if (shape.geometryType == ShapeConfig.GEOMETRY_CURVELINE) {
                                    shape.cx = locat.cx + dx;
                                    shape.cy = locat.cy + dy;
                                    shape.moveTo();
                                    shape.resetShape();
                                }
                            }
                        }
                    }
                };
                pageMeta.extent.upFun = function () {
                    saveView();
                };
                pageMeta.extent.createShape();
            };

            /**
             * @desc 画板的各种鼠标事件
             */
            var containerDiv = $('#' + pageMeta.container); // 画板
            containerDiv.css('cursor', 'default');
            containerDiv.mousedown(function (e) {
                shapeClick(pageMeta.selectedBean);
                if (pageMeta.editable) {
                    var offset = $(this).offset();
                    pageMeta.start_x = (pageMeta.mouse_x - offset.left);
                    pageMeta.start_y = (pageMeta.mouse_y - offset.top);
                    var remove = true;
                    var box = pageMeta.extent.shape.getBBox();
                    if (pageMeta.start_x >= box.x && pageMeta.start_x <= box.x + box.width && pageMeta.start_y >= box.y &&
                        pageMeta.start_y <= box.y + box.height) {
                        remove = false;
                    }
                    if (remove) {
                        hideExtent();
                        pageMeta.drawExtent = true;
                    }
                }
            });
            containerDiv.mousemove(function (e) {
                if (pageMeta.drawExtent) {
                    var offset = $(this).offset();
                    var relativeX = (e.pageX - offset.left);
                    var relativeY = (e.pageY - offset.top);
                    pageMeta.extent.shape.show();
                    var x = 0;
                    var y = 0;
                    var width = 0;
                    var height = 0;
                    if (relativeX > pageMeta.start_x) {
                        x = pageMeta.start_x;
                        width = relativeX - pageMeta.start_x;
                    } else {
                        x = relativeX;
                        width = pageMeta.start_x - relativeX;
                    }
                    if (relativeY > pageMeta.start_y) {
                        y = pageMeta.start_y;
                        height = relativeY - pageMeta.start_y;
                    } else {
                        y = relativeY;
                        height = pageMeta.start_y - relativeY;
                    }
                    pageMeta.extent.x = x + width / 2;
                    pageMeta.extent.y = y + height / 2;
                    pageMeta.extent.width = width;
                    pageMeta.extent.height = height;
                    pageMeta.extent.moveTo();
                }
            });
            containerDiv.mouseup(function (e) {
                if (pageMeta.drawExtent) {
                    pageMeta.drawExtent = false;
                    selectShape();
                    getSelectShapeLoact();
                }
            });

            /**
             * @desc 图形菜单栏的拖拽 
             */
            pageMeta.panel = $('#selectpanel');
            var mouseCurrentX;
            var mouseCurrentY;
            $(document).mousemove(function (e) {
                mouseCurrentX = e.pageX-120;
                mouseCurrentY = e.pageY-40;
                drawMouseMove(e);
            });
            $(document).mouseup(function (e) {
                drawMouseUp();
            });
        
           /**
             * @desc 键盘事件
             */   
            $(document).keydown(function (e) {
                if (pageMeta.keyState) {
                    e = window.event || e;
                    var keyCode = e.keyCode || e.which;
                    // e.preventDefault();
                    e.stopPropagation();
                    if (e.ctrlKey && keyCode == 89) { //ctrl+y
                        //	nextView();
                    }
                    if (e.ctrlKey && keyCode == 90) { //ctrl+z
                        //	previousView();
                    }
                    if (e.ctrlKey && keyCode == 67) { //ctrl+c
                        copyShape();
                    }
                    if (e.ctrlKey && keyCode == 86) { //ctrl+v
                        pasteShape(mouseCurrentX ,mouseCurrentY);
                    }
                    if (keyCode == 46) { //del
                        if (pageMeta.editable) {
                            isHaveMarker();
                            // clearShape(false);
                        }
                    }
                }
            });
            $(window).resize(function () {
                resizeWindow();
            });

            /**
             * @desc 属性悬浮窗的移动事件
             */
            pageMeta.attributetable = $('#attributepanel');
            pageMeta.attributetable.css({
                'left': $(window).width() - 230,
                'top': 70
            });
            $('#attributeheader').mousedown(function (e) {
                pageMeta.attributemove = true;
                pageMeta.attr_start_x = parseInt(pageMeta.attributetable.css('left').replace('px', ''));
                pageMeta.attr_start_y = parseInt(pageMeta.attributetable.css('top').replace('px', ''));
                pageMeta.attr_mouse_x = e.screenX;
                pageMeta.attr_mouse_y = e.screenY;
                pageMeta.attributeclick = true;
            });
            $(window).mousemove(function (e) {
                if (pageMeta.attributemove) {
                    pageMeta.attributeclick = false;
                    var x = e.screenX - pageMeta.attr_mouse_x + pageMeta.attr_start_x;
                    var y = e.screenY - pageMeta.attr_mouse_y + pageMeta.attr_start_y;
                    if (x < 0) {
                        x = 0;
                    }
                    if (y < 0) {
                        y = 0;
                    }
                    if (x > pageMeta.bodyWidth - 200) {
                        x = pageMeta.bodyWidth - 200;
                    }
                    if (y > pageMeta.bodyHeight - 40) {
                        y = pageMeta.bodyHeight - 40;
                    }
                    pageMeta.attributetable.css({
                        'left': x,
                        'top': y
                    });
                }
            });
            $(window).mouseup(function (e) {
                if (pageMeta.attributemove) {
                    pageMeta.attributemove = false;
                    if (pageMeta.attributeclick) {
                        var attributeview = $('#attributeview');
                        if (attributeview.is(':hidden')) {
                            attributeview.show();
                        } else {
                            attributeview.hide();
                        }
                    }
                }
            });
            resizeWindow();
            if (pageMeta.editable) {
                saveView();
            }
        });

        /**
         * @desc 重置画布
         */
        function resizeCanvas() {
            if ($('#canvasWidth').val()) {
                pageMeta.canvasSize.width = parseInt($('#canvasWidth').val());
            }
            if ($('#canvasHeight').val()) {
                pageMeta.canvasSize.height = parseInt($('#canvasHeight').val());
            }
            pageMeta.canvas.setSize(pageMeta.canvasSize.width, pageMeta.canvasSize.height);
            resizeWindow();
        }

        /*
         * @desc  重置窗口
         */
        function resizeWindow() {
            var win = $(window);
            var shapebar = $('#shapebar');
            var shapepanel = $('#shapepanel');
            shapebar.height(win.height() - 42);
            shapepanel.height(win.height() - 42);
            pageMeta.bodyWidth = win.width();
            pageMeta.bodyHeight = win.height();
            pageMeta.canvasPageExtent.minx = pageMeta.canvasDiv.offset().left;
            pageMeta.canvasPageExtent.maxx = pageMeta.canvasDiv.offset().left + pageMeta.canvasSize.width;
            pageMeta.canvasPageExtent.miny = pageMeta.canvasDiv.offset().top;
            pageMeta.canvasPageExtent.maxy = pageMeta.canvasDiv.offset().top + pageMeta.canvasSize.height;
            pageMeta.canvasExtent.minx = 0;
            pageMeta.canvasExtent.maxx = pageMeta.canvasSize.width;
            pageMeta.canvasExtent.miny = 0;
            pageMeta.canvasExtent.maxy = pageMeta.canvasSize.height;
        }


        /*
         * @desc 画板菜单栏的显隐
         */
        function visitPanel() {
            var left1 = 0;
            var left2 = 113;
            if (pageMeta.panelVisible) {
                left1 = -103;
                left2 = 10;
            }
            $('#shapepanel').animate({
                left: left1
            }, 500);
            $('#viewpanel').animate({
                left: left2
            }, 500, function () {
                resizeWindow();
            });
            pageMeta.panelVisible = !pageMeta.panelVisible;
        }

        function drawMouseDown(w, h, ft, url, warningurl) {
            pageMeta.facilityType = ft;
            pageMeta.start_x = pageMeta.mouse_x;
            pageMeta.start_y = pageMeta.mouse_y;
            pageMeta.panel_x = pageMeta.mouse_x - w / 2;
            pageMeta.panel_y = pageMeta.mouse_y - h / 2;
            pageMeta.panel.css({
                'top': pageMeta.panel_y,
                'left': pageMeta.panel_x,
                'height': h,
                'width': w
            });
            pageMeta.panel.attr('src', url);
            pageMeta.url = url;
            pageMeta.warningurl = warningurl;
            pageMeta.movePanel = true;
        }

        function drawMouseMove(e) {
            pageMeta.mouse_x = e.pageX;
            pageMeta.mouse_y = e.pageY;
            if (pageMeta.movePanel) {
                pageMeta.panel.css({
                    'top': pageMeta.panel_y + (pageMeta.mouse_y - pageMeta.start_y),
                    'left': pageMeta.panel_x + (pageMeta.mouse_x - pageMeta.start_x)
                });
            }
        }

        var defaultText = {};//临时保存各个元素必填项的默认值
        var defaultIndex = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1];//存放是否为第一次拖入该元素
        var radioSelectFlag = false;//是否选中默认按钮
        var firstTime = false;
        
        //补全数字为三位 1->001
        function makeUpWord(text){
            if(text.length == 1){
                return "00"+text;
            }else if(text.length == 2){
                return "0"+text;
            }else{
                return text;
            }
        }

        //复制元件
        var tempShapToCopy;
        var copyDefaultIndex;
        function copyShape(){
            tempShapToCopy = pageMeta.selectedBean;
            copyDefaultIndex = [1,1,1,1,1,1,1,1,1];
        }

        //元件复制粘贴
        function pasteShape(x,y){
            // console.log(pageMeta.selectedBean);
            var selectShape = tempShapToCopy;
            var x1 = x || selectShape.x+selectShape.width+30;
            var y1 = y || selectShape.y;
            var w = selectShape.width;
            var h = selectShape.height;
            var shape = null;
            var selectShapeFacilityType = selectShape.facilityType;
            if (selectShapeFacilityType == ShapeConfig.FACILITY_STATION ||
                selectShapeFacilityType == ShapeConfig.FACILITY_VALVE ||
                selectShapeFacilityType == ShapeConfig.FACILITY_ABOVEGROUNDPL ||
                selectShapeFacilityType == ShapeConfig.FACILITY_TEE ||
                selectShapeFacilityType == ShapeConfig.FACILITY_REDUCER ||
                selectShapeFacilityType == ShapeConfig.FACILITY_RECTIFIER ||
                selectShapeFacilityType == ShapeConfig.FACILITY_SHALLOWANODEBED ||
                selectShapeFacilityType == ShapeConfig.FACILITY_DEEPANODEBED ||
                selectShapeFacilityType == ShapeConfig.FACILITY_SPD ||
                selectShapeFacilityType == ShapeConfig.FACILITY_PROTECTION ||
                selectShapeFacilityType == ShapeConfig.FACILITY_FIKWITHOUTSPD ||
                selectShapeFacilityType == ShapeConfig.FACILITY_FIKWITHSPD ||
                selectShapeFacilityType == ShapeConfig.FACILITY_CABLECONNECTION) {
                shape = createShape(selectShape.color, selectShape.warningColor, x1, y1, w, h, selectShapeFacilityType);
            } else if (selectShapeFacilityType == ShapeConfig.LINE_3PE) {
                x1 = x || selectShape.bx;
                y1 = y || selectShape.by +40;
                shape = create3PELine(x1, y1, selectShapeFacilityType);
            } else if (selectShapeFacilityType == ShapeConfig.LINE_N3PE) {
                x1 = x || selectShape.bx;
                y1 = y || selectShape.by +40;
                shape = createN3PELine(x1, y1, selectShapeFacilityType);
            } else if (selectShapeFacilityType == ShapeConfig.LINE_CONNECTIONLINE) {
                x1 = x || selectShape.bx;
                y1 = y || selectShape.by +40;
                shape = createConnectLine(x1, y1, selectShapeFacilityType);
            } else if (selectShapeFacilityType == ShapeConfig.LINE_WIRE ||
                selectShapeFacilityType == ShapeConfig.LINE_ANODECABLE ||
                selectShapeFacilityType == ShapeConfig.LINE_CATHODECABLE) {
                x1 = x || selectShape.bx;
                y1 = y || selectShape.by +40;
                shape = createWireLine(x1, y1, selectShapeFacilityType);
            }
            if (shape) {
                shapeClick(shape);
                // var ft = shape.facilityType;
                copyShapeAttr(selectShape);
            }
        }

        function drawMouseUp(e) {
            if (pageMeta.movePanel) {
                pageMeta.movePanel = false;
                var offset = $('#' + pageMeta.container).offset();
                var x = pageMeta.panel_x + (pageMeta.mouse_x - pageMeta.start_x) - offset.left;
                var y = pageMeta.panel_y + (pageMeta.mouse_y - pageMeta.start_y) - offset.top;
                var w = pageMeta.panel.width();
                var h = pageMeta.panel.height();
                if (x >= 0 && y >= 0 && x + w <= pageMeta.canvasSize.width && y + h <= pageMeta.canvasSize.height) {
                    var x1 = x + w / 2 - 1;
                    var y1 = y + h / 2 - 1;
                    var x2 = x - 1;
                    var y2 = y + h / 2 - 1;
                    var shape = null;
                    if (pageMeta.facilityType == ShapeConfig.FACILITY_STATION ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_VALVE ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_ABOVEGROUNDPL ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_TEE ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_REDUCER ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_RECTIFIER ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_SHALLOWANODEBED ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_DEEPANODEBED ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_SPD ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_PROTECTION ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_FIKWITHOUTSPD ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_FIKWITHSPD ||
                        pageMeta.facilityType == ShapeConfig.FACILITY_CABLECONNECTION) {
                        shape = createShape(pageMeta.url, pageMeta.warningurl, x1, y1, w, h, pageMeta.facilityType);
                    } else if (pageMeta.facilityType == ShapeConfig.LINE_3PE) {
                        shape = create3PELine(x2, y2, pageMeta.facilityType);
                    } else if (pageMeta.facilityType == ShapeConfig.LINE_N3PE) {
                        shape = createN3PELine(x2, y2, pageMeta.facilityType);
                    } else if (pageMeta.facilityType == ShapeConfig.LINE_CONNECTIONLINE) {
                        shape = createConnectLine(x2, y2, pageMeta.facilityType);
                    } else if (pageMeta.facilityType == ShapeConfig.LINE_WIRE ||
                        pageMeta.facilityType == ShapeConfig.LINE_ANODECABLE ||
                        pageMeta.facilityType == ShapeConfig.LINE_CATHODECABLE) {
                        shape = createWireLine(x2, y2, pageMeta.facilityType);
                    }
                    if (shape) {
                        shapeClick(shape);
                        var ft = shape.facilityType;
                        setShapeAttrDefaultValue(ft);
                    }
                }
                pageMeta.panel.css({
                    'top': -100,
                    'left': -100
                });
                pageMeta.facilityType = '';
                pageMeta.url = '';
                pageMeta.warningurl = '';
            }
        }

        //设置元件属性默认值
        function setShapeAttrDefaultValue(ft){
            //第一次拖入某元素，设置为默认选中
            if (ft == "FACILITY_STATION") {//站场0
                // console.log(defaultText.station);
                if (defaultIndex[0] == 1 && defaultText.station== undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[0] = defaultIndex[0] + 1;
                    // $("#attributeTable input[name='text']").val("站场_001");
                    $("#attributeTable input[name='text']").val(_Station+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.station.name + "_" + makeUpWord(defaultIndex[0] + ""));
                    defaultIndex[0] = defaultIndex[0] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_VALVE") {//阀室1
                if (defaultIndex[1] == 1 && defaultText.valve== undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[1] = defaultIndex[1] + 1;
                    // $("#attributeTable input[name='text']").val("阀室_001");
                    $("#attributeTable input[name='text']").val(_ValveStation+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.valve.name + "_" + makeUpWord(defaultIndex[1] + ""));
                    defaultIndex[1] = defaultIndex[1] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "LINE_3PE") {//2
                if (defaultIndex[2] == 1 && defaultText.linePE== undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[2] = defaultIndex[2] + 1;
                    // $("#attributeTable input[name='text']").val("3PE管道_001");
                    $("#attributeTable input[name='text']").val(_3LPEPipeline+"_001");
                } else {
                    if ( defaultText.linePE.innerStation == 1) {
                        $("#attributeTable select[name='innerStation']").val(defaultText.linePE.innerStation);
                        $("#attributepanel input").attr("disabled", "disabled");
                        $("#attributepanel input[type='text']").val('');
                        $("#attributepanel input[name='sure']").removeAttr("disabled");
                    } else{
                        $("#attributeTable input[name='text']").val(defaultText.linePE.name + "_" + makeUpWord(defaultIndex[2] + ""));
                        $("#attributeTable select[name='innerStation']").val(defaultText.linePE.innerStation);
                        $("#attributeTable input[name='length']").val(defaultText.linePE.length_);
                        $("#attributeTable input[name='diameter']").val(defaultText.linePE.diameter);
                        $("#attributeTable input[name='wallThickness']").val(defaultText.linePE.wallThickness);
                    }
                    
                    defaultIndex[2] = defaultIndex[2] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "LINE_N3PE" && defaultText.lineNPE == undefined) {//3
                if (defaultIndex[3] == 1) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[3] = defaultIndex[3] + 1;
                    // $("#attributeTable input[name='text']").val("非3PE管道_001");
                    $("#attributeTable input[name='text']").val(_Non3LPEPipeline+"_001");
                } else {
                    if ( defaultText.lineNPE.innerStation == 1) {
                        $("#attributeTable select[name='innerStation']").val(defaultText.lineNPE.innerStation);
                        $("#attributepanel input").attr("disabled", "disabled");
                        $("#attributepanel input[type='text']").val('');
                        $("#attributepanel input[name='sure']").removeAttr("disabled");
                    } else{
                        $("#attributeTable input[name='text']").val(defaultText.lineNPE.name + "_" + makeUpWord(defaultIndex[3] + ""));
                        $("#attributeTable select[name='innerStation']").val(defaultText.lineNPE.innerStation);
                        $("#attributeTable input[name='length']").val(defaultText.lineNPE.length_);
                        $("#attributeTable input[name='diameter']").val(defaultText.lineNPE.diameter);
                        $("#attributeTable input[name='wallThickness']").val(defaultText.lineNPE.wallThickness);
                    }
                    defaultIndex[3] = defaultIndex[3] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_ABOVEGROUNDPL") {//架空线4
                if (defaultIndex[4] == 1 && defaultText.abovegroundpl == undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[4] = defaultIndex[4] + 1;
                    // $("#attributeTable input[name='text']").val("架空线_001");
                    $("#attributeTable input[name='text']").val(_AbovegroundPLs+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.abovegroundpl.name + "_" + makeUpWord(defaultIndex[4] + ""));
                    $("#attributeTable input[name='length']").val(defaultText.abovegroundpl.length_);
                    $("#attributeTable input[name='diameter']").val(defaultText.abovegroundpl.diameter);
                    $("#attributeTable input[name='wallThickness']").val(defaultText.abovegroundpl.wallThickness);
                    defaultIndex[4] = defaultIndex[4] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_TEE") {//三通5
                if (defaultIndex[5] == 1 && defaultText.tee == undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[5] = defaultIndex[5] + 1;
                    // $("#attributeTable input[name='text']").val("三通_001");
                    $("#attributeTable input[name='text']").val(Tee+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.tee.name + "_" + makeUpWord(defaultIndex[5] + ""));
                    defaultIndex[5] = defaultIndex[5] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_REDUCER") {//大小头6
                if (defaultIndex[6] == 1 && defaultText.reducer == undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[6] = defaultIndex[6] + 1;
                    // $("#attributeTable input[name='text']").val("大小头_001");
                    $("#attributeTable input[name='text']").val(_Reducer+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.reducer.name + "_" + makeUpWord(defaultIndex[6] + ""));
                    defaultIndex[6] = defaultIndex[6] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_RECTIFIER") {//恒电位仪7
                if (defaultIndex[7] == 1 && defaultText.rectifier == undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[7] = defaultIndex[7] + 1;
                    // $("#attributeTable input[name='text']").val("恒电位仪_001");
                    $("#attributeTable input[name='text']").val(_Rectifier+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.rectifier.name + "_" + makeUpWord(defaultIndex[7] + ""));
                    $("#attributeTable input[name='specifications']").val(defaultText.rectifier.specifications);
                    defaultIndex[7] = defaultIndex[7] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_SPD") {//无保护装置绝缘接头8
                if (defaultIndex[8] == 1 && defaultText.spd == undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[8] = defaultIndex[8] + 1;
                    // $("#attributeTable input[name='text']").val("无保护绝缘接头_001");
                    $("#attributeTable input[name='text']").val(_InsulationJoint+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.spd.name + "_" + makeUpWord(defaultIndex[8] + ""));
                    $("#attributeTable select[name='installType']").val(defaultText.spd.installType);
                    defaultIndex[8] = defaultIndex[8] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            } else if (ft == "FACILITY_PROTECTION") {//有保护装置绝缘接头9
                if (defaultIndex[9] == 1 && defaultText.protection == undefined) {
                    $("#radioBtn").prop("checked", "checked");
                    radioSelectFlag = true;
                    firstTime = true;
                    defaultIndex[9] = defaultIndex[9] + 1;
                    // $("#attributeTable input[name='text']").val("有保护绝缘接头_001");
                    $("#attributeTable input[name='text']").val(_InsulationJointwitharrester+"_001");
                } else {
                    $("#attributeTable input[name='text']").val(defaultText.protection.name + "_" + makeUpWord(defaultIndex[9] + ""));
                    $("#attributeTable select[name='installType']").val(defaultText.protection.installType);
                    defaultIndex[9] = defaultIndex[9] + 1;
                    radioSelectFlag = false;
                    firstTime = false;
                }
                setShapeAttr();
            }
        }

        //设置元件属性默认值
        function copyShapeAttr(shape){
            // console.log(shape);
            var ft = shape.facilityType;
            //第一次拖入某元素，设置为默认选中
            if (ft == "FACILITY_STATION") {//站场0
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[0] + ""));
                copyDefaultIndex[0] = copyDefaultIndex[0] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_VALVE") {//阀室1
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[1] + ""));
                copyDefaultIndex[1] = copyDefaultIndex[1] + 1;
                setShapeAttr();
            } else if (ft == "LINE_3PE") {//2
                if ( shape.innerStation == 1) {
                    $("#attributeTable select[name='innerStation']").val(shape.innerStation);
                    $("#attributepanel input").attr("disabled", "disabled");
                    $("#attributepanel input[type='text']").val('');
                    $("#attributepanel input[name='sure']").removeAttr("disabled");
                } else{
                    $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[2] + ""));
                    $("#attributeTable select[name='innerStation']").val(shape.innerStation);
                    $("#attributeTable input[name='length']").val(shape.length);
                    $("#attributeTable input[name='diameter']").val(shape.diameter);
                    $("#attributeTable input[name='wallThickness']").val(shape.wallThickness);
                }
                copyDefaultIndex[2] = copyDefaultIndex[2] + 1;
                setShapeAttr();
            } else if (ft == "LINE_N3PE") {//3
                 if ( shape.innerStation == 1) {
                    $("#attributeTable select[name='innerStation']").val(shape.innerStation);
                    $("#attributepanel input").attr("disabled", "disabled");
                    $("#attributepanel input[type='text']").val('');
                    $("#attributepanel input[name='sure']").removeAttr("disabled");
                } else{
                    $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[3] + ""));
                    $("#attributeTable select[name='innerStation']").val(shape.innerStation);
                    $("#attributeTable input[name='length']").val(shape.length);
                    $("#attributeTable input[name='diameter']").val(shape.diameter);
                    $("#attributeTable input[name='wallThickness']").val(shape.wallThickness);
                }
                copyDefaultIndex[3] = copyDefaultIndex[3] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_ABOVEGROUNDPL") {//架空线4
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[4] + ""));
                $("#attributeTable input[name='length']").val(shape.length);
                $("#attributeTable input[name='diameter']").val(shape.diameter);
                $("#attributeTable input[name='wallThickness']").val(shape.wallThickness);
                copyDefaultIndex[4] = copyDefaultIndex[4] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_TEE") {//三通5
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[5] + ""));
                copyDefaultIndex[5] = copyDefaultIndex[5] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_REDUCER") {//大小头6
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[6] + ""));
                copyDefaultIndex[6] = copyDefaultIndex[6] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_RECTIFIER") {//恒电位仪7
                    $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[7] + ""));
                    $("#attributeTable input[name='specifications']").val(shape.specifications);
                    copyDefaultIndex[7] = copyDefaultIndex[7] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_SPD") {//无保护装置绝缘接头8
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[8] + ""));
                $("#attributeTable select[name='installType']").val(shape.installType);
                copyDefaultIndex[8] = copyDefaultIndex[8] + 1;
                setShapeAttr();
            } else if (ft == "FACILITY_PROTECTION") {//有保护装置绝缘接头9
                $("#attributeTable input[name='text']").val(shape.text + "_" + makeUpWord(copyDefaultIndex[9] + ""));
                $("#attributeTable select[name='installType']").val(shape.installType);
                copyDefaultIndex[9] = copyDefaultIndex[9] + 1;
                setShapeAttr();
            }
        }

        // 选择图形
        function selectShape() {
            var box = pageMeta.extent.shape.getBBox();
            pageMeta.selectedShapeList = pageMeta.collection.getGeometry(box);
            if (pageMeta.selectedShapeList.length > 0) {
                var minx = 100000000;
                var miny = 100000000;
                var maxx = 0;
                var maxy = 0;
                var buffer = 10;
                for (var i = 0; i < pageMeta.selectedShapeList.length; i++) {
                    if (pageMeta.selectedShapeList[i].facilityType != ShapeConfig.FACILITY_PIPECABLECONNECTION) {
                        pageMeta.selectedShapeList[i].select();
                        var shapeBox = pageMeta.selectedShapeList[i].shape.getBBox();
                        if (shapeBox.x < minx) {
                            minx = shapeBox.x;
                        }
                        if (shapeBox.y < miny) {
                            miny = shapeBox.y;
                        }
                        if (shapeBox.x + shapeBox.width > maxx) {
                            maxx = shapeBox.x + shapeBox.width;
                        }
                        if (shapeBox.y + shapeBox.height > maxy) {
                            maxy = shapeBox.y + shapeBox.height;
                        }
                    }
                }
                minx -= buffer;
                miny -= buffer;
                maxx += buffer;
                maxy += buffer;
                pageMeta.extent.x = (minx + maxx) / 2;
                pageMeta.extent.y = (miny + maxy) / 2;
                pageMeta.extent.width = maxx - minx;
                pageMeta.extent.height = maxy - miny;
                pageMeta.extent.moveTo();
            } else {
                hideExtent();
            }
            pageMeta.panel_x = pageMeta.extent.x;
            pageMeta.panel_y = pageMeta.extent.y;
        }

        // 获取图形的位置
        function getSelectShapeLoact() {
            pageMeta.selectedShapeLocatList = [];
            for (var i = 0; i < pageMeta.selectedShapeList.length; i++) {
                pageMeta.selectedShapeLocatList.push({
                    x: pageMeta.selectedShapeList[i].x,
                    y: pageMeta.selectedShapeList[i].y,
                    bx: pageMeta.selectedShapeList[i].bx,
                    by: pageMeta.selectedShapeList[i].by,
                    cx: pageMeta.selectedShapeList[i].cx,
                    cy: pageMeta.selectedShapeList[i].cy,
                    ex: pageMeta.selectedShapeList[i].ex,
                    ey: pageMeta.selectedShapeList[i].ey
                });
            }
        }

        // 判断是否选中图形
        function unSelectShape() {
            for (var i = 0; i < pageMeta.selectedShapeList.length; i++) {
                pageMeta.selectedShapeList[i].unSelect();
            }
            pageMeta.selectedShapeList = [];
            pageMeta.selectedShapeLocatList = [];
        }

        // 隐藏属性列表
        function hideExtent() {
            unSelectShape();
            pageMeta.extent.x = -1000;
            pageMeta.extent.y = -1000;
            pageMeta.extent.width = 0;
            pageMeta.extent.height = 0;
            pageMeta.extent.moveTo();
            pageMeta.extent.shape.toFront();
        }

        // 创建几何图形
        function createGeometrys(list) {
            pageMeta.collection.clear();
            for (var a = 0; a < list.length; a++) {
                createGeometry(list[a]);
            }
            for (var b = 0; b < pageMeta.collection.shapeList.length; b++) {
                createConnection(pageMeta.collection.shapeList[b]);
            }
        }

        // 创建具体几何图形  画图
        function createGeometry(obj) {
            var shape = null;
            if (obj) {
                if (obj.facilityType != ShapeConfig.FACILITY_PIPECABLECONNECTION) {
                    if (obj.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                        shape = new ShapeBean();
                    } else if (obj.geometryType == ShapeConfig.GEOMETRY_POLYLINE) {
                        shape = new PolyLineBean();
                        shape.createConnectFun = saveView;
                        shape.deleteConnectFun = saveView;
                        shape.middleUp = saveView;
                    } else if (obj.geometryType == ShapeConfig.GEOMETRY_CURVELINE) {
                        shape = new CurveLineBean();
                    } else if (obj.geometryType == ShapeConfig.GEOMETRY_LINE) {
                        shape = new LineBean();
                        shape.createConnectFun = saveView;
                        shape.deleteConnectFun = saveView;
                        shape.middleUp = saveView;
                    }
                    for (var k in obj) {
                        shape[k] = obj[k];
                    }
                    if (obj.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                        shape.lineList = [];
                    }
                    shape.raphael = pageMeta.canvas;
                    shape.shapeCollection = pageMeta.collection;
                    pageMeta.addPointState,
                        shape.clickFun = shapeClick;
                    shape.textUpFun = saveView;
                    shape.upFun = saveView;
                    shape.canMove = pageMeta.editable;
                    shape.scope = pageMeta.canvasExtent;
                    shape.createShape();
                    shape.hasBackShape = pageMeta.addPointState;
                }
            }
            return shape;
        }

        // 建立连接
        function createConnection(obj) {
            if (obj) {
                if (obj.geometryType != ShapeConfig.GEOMETRY_POLYGON) {
                    var beginShape = pageMeta.collection.getGeometryById(obj.beginShape);
                    var endShape = pageMeta.collection.getGeometryById(obj.endShape);
                    obj.beginShape = beginShape;
                    obj.endShape = endShape;
                    if (obj.beginShape) {
                        obj.beginShape.addLine(obj);
                    }
                    if (obj.endShape) {
                        obj.endShape.addLine(obj);
                    }
                }
            }
        }

        // 创建图形
        function createShape(url, warningurl, x, y, w, h, ft) {
            var shape = createGeometry({
                geometryType: ShapeConfig.GEOMETRY_POLYGON,
                shapeType: ShapeConfig.SHAPE_IMAGE,
                facilityType: ft,
                color: url,
                warningColor: warningurl,
                textColor: '#000000',
                x: x,
                y: y,
                width: w,
                height: h
            });
            saveView();
            return shape;
        }

        function createPolyLine() {
            var shape = createGeometry({
                geometryType: ShapeConfig.GEOMETRY_POLYLINE,
                color: '#000000',
                fillColor: '#FFFFFF',
                warningColor: '#FF0000',
                warningFillColor: '#FFFFFF',
                border: 5,
                pointSize: 3
            });
            saveView();
            return shape;
        }

        function createWireLine(x, y, ft) {
            var shapeType = ShapeConfig.SHAPE_ELLIPSE;
            var url = '';
            var warningurl = '';
            var size = 3;
            if (ft == ShapeConfig.LINE_ANODECABLE) {
                shapeType = ShapeConfig.SHAPE_IMAGE;
                url = 'image/icon_01.png';
                warningurl = 'image/icon_03.png';
                size = 10;
            } else if (ft == ShapeConfig.LINE_CATHODECABLE) {
                shapeType = ShapeConfig.SHAPE_IMAGE;
                url = 'image/icon_02.png';
                warningurl = 'image/icon_04.png';
                size = 10;
            } else {
                shapeType = ShapeConfig.SHAPE_ELLIPSE;
                url = '';
                size = 3;
            }
            var shape = createGeometry({
                geometryType: ShapeConfig.GEOMETRY_CURVELINE,
                color: '#000000',
                fillColor: '#FFFFFF',
                warningColor: '#0000FF',
                warningFillColor: '#FFFFFF',
                middleShapeType: shapeType,
                facilityType: ft,
                middleColor: url ? url : '#000000',
                middleFillColor: '#FFFFFF',
                warningMiddleColor: warningurl ? warningurl : '#0000FF',
                warningMiddleFillColor: '#FFFFFF',
                bx: x,
                by: y,
                cx: x + 21,
                cy: y,
                ex: x + 42,
                ey: y,
                middleWidth: size,
                middleHeight: size,
                border: 1,
                pointSize: 3
            });
            saveView();
            return shape;
        }

        // 创建3PE管线
        function create3PELine(x, y, ft) {
            var shape = createGeometry({
                geometryType: ShapeConfig.GEOMETRY_POLYLINE,
                facilityType: ft,
                color: '#000000',
                fillColor: '#000000',
                warningColor: '#0000FF',
                warningFillColor: '#000000',
                bx: x,
                by: y,
                ex: x + 42,
                ey: y,
                border: 3,
                pointSize: 3
            });
            saveView();
            return shape;
        }

        // 创建非3PE管线
        function createN3PELine(x, y, ft) {
            var shape = createGeometry({
                geometryType: ShapeConfig.GEOMETRY_POLYLINE,
                facilityType: ft,
                color: '#3DFDFF',
                fillColor: '#3DFDFF',
                warningColor: '#0000FF',
                warningFillColor: '#3DFDFF',
                bx: x,
                by: y,
                ex: x + 42,
                ey: y,
                border: 3,
                pointSize: 3
            });
            saveView();
            return shape;
        }

        // 连接线
        function createConnectLine(x, y, ft) {
            var shape = createGeometry({
                geometryType: ShapeConfig.GEOMETRY_POLYLINE,
                facilityType: ft,
                color: '#000000',
                fillColor: '#000000',
                dasharray: ['-'],
                bx: x + 21,
                by: y - 14.5,
                ex: x + 21,
                ey: y + 14.5,
                border: 1,
                pointSize: 3
            });
            saveView();
            return shape;
        }

        var attributeList = ChartConfig.nodeAttributeConfig;

        // 设置input的鼠标事件  实时更改
        $('#attributeTable').on('keyup', 'input', function (event) {
            // if(event.keyCode == "13"){
            setShapeAttr();
            // }
        });
        // 设置select的鼠标事件  实时更改
        $('#attributeTable').on('change', 'select', function (event) {
            if ($(this).attr("name") == "innerStation" && $(this).val() == 1) {
                $("#attributepanel input").attr("disabled", "disabled");
                $("#attributepanel input[type='text']").val('');
                $("#attributepanel input[name='sure']").removeAttr("disabled");
            } else {
                $("#attributepanel input").removeAttr("disabled");
                // $("#attributepanel button[name='markerList']").removeAttr("disabled");
            }
            setShapeAttr();
        });

        // 属性设置悬浮窗头部名称的取值
        function attrHeaderName(name) {
            var attrName = '';
            switch (name) {
                case 'FACILITY_STATION':
                    // attrName = '站场';
                    attrName = _Station;
        // var _Reducer = getLanguageValue("Reducer");                      //管道连接点
                    break;
                case 'FACILITY_VALVE':
                    // attrName = '阀室';
                    attrName = _ValveStation;
                    break;
                case 'FACILITY_ABOVEGROUNDPL':
                    // attrName = '架空线';
                    attrName = _AbovegroundPLs;
                    break;
                case 'FACILITY_TEE':
                    // attrName = '三通';
                    attrName = _Tee;
                    break;
                case 'FACILITY_REDUCER':
                    // attrName = '大小头';
                    attrName = _Reducer;
                    break;
                case 'FACILITY_RECTIFIER':
                    // attrName = '恒电位仪';
                    attrName = _Rectifier;
                    break;
                case 'FACILITY_SHALLOWANODEBED':
                    // attrName = '浅埋阳极地床';
                    attrName = _ShallowGroundbed;
                    break;
                case 'FACILITY_DEEPANODEBED':
                    // attrName = '深井阳极地床';
                    attrName = _DeepGroundbed;
                    break;
                case 'FACILITY_SPD':
                    // attrName = '无保护装置绝缘接头';
                    attrName = _InsulationJoint;
                    break;
                case 'FACILITY_PROTECTION':
                    // attrName = '有保护装置绝缘接头';
                    attrName = _InsulationJointwitharrester;
                    break;
                case 'FACILITY_FIKWITHOUTSPD':
                    // attrName = '无保护装置绝缘法兰';
                    attrName = _FIK;
                    break;
                case 'FACILITY_FIKWITHSPD':
                    // attrName = '有保护装置绝缘法兰';
                    attrName = _FIKwitharrester;
                    break;
                case 'FACILITY_CABLECONNECTION':
                    // attrName = '连接点';
                    attrName = _ConnectingPoint;
                    break;
                // case 'FACILITY_PIPECABLECONNECTION':
                //     attrName = '管道连接点';
                //     // attrName = ;
                //     break;
                case 'LINE_3PE':
                    // attrName = '3PE管道';
                    attrName = _3LPEPipeline;
                    break;
                case 'LINE_N3PE':
                    // attrName = '非3PE管道';
                    attrName = _Non3LPEPipeline;
                    break;
                case 'LINE_ANODECABLE':
                    // attrName = '阳极电缆';
                    attrName = _AnodeCable;
                    break;
                case 'LINE_CATHODECABLE':
                    // attrName = '阴极电缆';
                    attrName = _CathodeCable;
                    break;
                case 'LINE_WIRE':
                    // attrName = '跨接电缆';
                    attrName = _BondingCable;
                    break;
                case 'LINE_CONNECTIONLINE':
                    // attrName = '连接线';
                    attrName = _ConnectionCable;
                    break;
            }
            return attrName;
        }


        //   关于默认值的规则：1. 第一次拖入元素时。设置为默认为选中状态
        //   2. 非第一次拖入为非选中状态

        // 点击图形加载属性悬浮框
        function shapeClick(shape) {
            // console.log(shape);
            var attributeview = $('#attributeview');
            var table = $('#attributeTable');
            hideExtent();
            if (pageMeta.selectedBean) {
                pageMeta.selectedBean.unSelect();
            }
            table.children().remove();
            if (pageMeta.selectedBean == shape) {
                pageMeta.selectedBean = null;
                attributeview.hide();
            } else {
                var textInput = pageMeta.textInput;
                shape.select();
                pageMeta.selectedBean = shape;
                var list = attributeList[shape.facilityType];
                var disabled = '';
                if (!pageMeta.editable) {
                    disabled = ' disabled="disabled"';
                }
                var attrName = attrHeaderName(shape.facilityType);
                $("#attributeheader").html(attrName +"&nbsp"+ _Property);
                var ft = shape.facilityType;
                for (var a = 0; a < list.length; a++) {
                    var input = textInput[list[a]];
                    // console.log(input);
                    if (input.name == 'defaultText') {
                        var defaultTr = '<tr style="line-height:20px;margin-bottom:5px;"><td colspan="2" style="text-align:left;"><input type="radio" name="' + input.name + '"  id="radioBtn" style="margin: 0px 5px 0px 10px"/><lable for="radioBtn" style="display: table-cell;width: 140px;float: right;margin-top: -2px;">设为' + attrName + '的默认属性</lable></td></tr>';
                        table.append(defaultTr);
                    } else {

                        var tr = $('<tr></tr>');
                        var td1 = '';
                        //设置input左侧label名称
                        if (input.name != 'material' && input.name != 'specifications' && input.name != 'wallThickness' && input.name !=
                            'textSize' && input.name != 'textFamily' && (ft == "FACILITY_STATION" || ft == "FACILITY_VALVE" || ft ==
                                "LINE_3PE" || ft == "LINE_N3PE" || ft == "FACILITY_ABOVEGROUNDPL" || ft == "FACILITY_TEE" || ft ==
                                "FACILITY_REDUCER" || ft == "FACILITY_RECTIFIER" || ft == "FACILITY_SPD" || ft == "FACILITY_PROTECTION")) {
                            /*
                            * @author lizhenzhen
                            * @desc 修改td的宽度，使小红星不换行
                            */
                            td1 = $('<td style="width: 76px;">' + input.label + '<span style="color:red">*</span></td>');
                            /*************************************************************/
                            // td1 = $('<td style="width: 72px;">' + input.label + '<span style="color:red">*</span></td>');
                        } else {
                            /*
                            * @author lizhenzhen
                            * @desc 修改td的宽度，使小红星不换行
                            */
                            td1 = $('<td style="width: 76px;">' + input.label + '<span style="color:red; visibility: hidden">*</span></td>');
                            /*************************************************************/
                            // td1 = $('<td style="width: 72px;">' + input.label + '</td>');
                        }

                        var td2 = $('<td style="text-align: left;"></td>');
                        var text = null;
                        var selectMarkerResult = "";
                        var defaultTr = "";
                        //设置input的值
                        if (input.inputtype == 'select') {
                            text = $('<select name="' + input.name + '" type="select-one"' + disabled +
                                ' style="width: 100%; height: 23px; font-size: 10px;" onfocus="pageMeta.keyState = false;" onblur="pageMeta.keyState = true;"></select>'
                            );
                            for (var b = 0; b < input.item.length; b++) {
                                text.append('<option value="' + input.item[b].value + '">' + input.item[b].label + '</option>');
                            }
                        } else if (input.inputtype == 'input') {
                            //设置input中的值
                            text = $('<input name="' + input.name + '" type="text"' + disabled +
                                ' style="width: 100%; height: 17px; font-size: 10px;" onfocus="pageMeta.keyState = false;" onblur="pageMeta.keyState = true;">'
                            );
                        } else if (input.inputtype == 'button') {
                            if (input.name == 'marker' || input.name == 'markerList') {
                                if (type != 'chart') {
                                    /*
                                    * @author lizhenzhen
                                    * @desc 调整按钮样式
                                    */
                                    text = $('<input name="' + input.name + '" type="button" style="width:94px;height: 22px; font-size: 12px;border:1px solid #169bd5;border-radius:4px;background:#fff;color:#169bd5" value="' +
                                        input.buttontextview + '">');
                                    /*************************************************************/

                                    // text = $('<input name="' + input.name + '" type="button" style="height: 22px; font-size: 12px;" value="' +
                                    //     input.buttontextview + '">');
                                    text.bind('click', {
                                        click: input.click
                                    }, function (e) {
                                        if (e.data.click) {
                                            e.data.click(pageMeta.selectedBean.id);
                                        }
                                    });
                                } else {
                                    if (judgePrivilege()) {
                                        /*
                                        * @author lizhenzhen
                                        * @desc 调整按钮样式
                                        */
                                        text = $('<input name="' + input.name + '" type="button" ' + disabled +
                                            'style="width:94px;height: 22px; font-size: 12px;border:1px solid #169bd5;border-radius:4px;background:#fff;color:#169bd5" value="' +
                                            input.buttontext + '">');

                                        /*************************************************************/
                                        // text = $('<input name="' + input.name + '" type="button" ' + disabled +
                                        //     ' style="height: 22px; font-size: 12px;" value="' + input.buttontext + '">');
                                    } else {
                                        /*
                                        * @author lizhenzhen
                                        * @desc 调整按钮样式
                                        */
                                        text = $('<input name="' + input.name + '" type="button" style="width:94px;height: 22px; font-size: 12px;border:1px solid #169bd5;border-radius:4px;background:#fff;color:#169bd5" value="' +
                                            input.buttontext + '">');
                                        selectMarkerResult = '<tr><div style=""></div>';
                                        /*************************************************************/
                                        // text = $('<input name="' + input.name + '" type="button" style="height: 22px; font-size: 12px;" value="' +
                                        //     input.buttontext + '">');
                                    }

                                    text.bind('click', {
                                        click: input.click
                                    }, function (e) {
                                        if (e.data.click) {
                                            e.data.click(pageMeta.selectedBean.id);
                                        }
                                    });
                                }
                            } else {
                                text = $('<input name="' + input.name + '" type="button"' + disabled +
                                    ' style="height: 22px; font-size: 12px;" value="' + input.buttontext + '">');
                                text.bind('click', {
                                    click: input.click
                                }, function (e) {
                                    if (e.data.click) {
                                        e.data.click(pageMeta.selectedBean.id);
                                    }
                                });
                            }
                        }

                        tr.append(td1);
                        tr.append(td2);
                        td2.append(text);
                        table.append(tr);
                    }
                }
                if (pageMeta.editable) {
                    /*
                     * @author lizhenzhen
                     * @desc 添加默认设置属性单选框
                     */
                    // if(ft == "FACILITY_STATION" || ft == "FACILITY_VALVE" || ft ==
                    //         "LINE_3PE" || ft == "LINE_N3PE" || ft == "FACILITY_ABOVEGROUNDPL" || ft == "FACILITY_TEE" || ft ==
                    //         "FACILITY_REDUCER" || ft == "FACILITY_RECTIFIER" || ft == "FACILITY_SPD" || ft == "FACILITY_PROTECTION"){
                    //             table.append('<tr style="line-height:20px;margin-bottom:5px;"><td colspan="2" style="text-align:left;"><input type="radio" id="radioBtn" style="margin: 0px 5px 0px 10px"/><lable for="radioBtn" style="display: table-cell;width: 140px;float: right;margin-top: -2px;">设为' + attrName + '的默认属性</lable></td></tr>');
                    //         }
                    /*
                     * @author lizhenzhen
                     * @desc 修改“确定”按钮为“保存”，调整按钮样式
                     * 取消保存按钮
                     */
                    // table.append('<tr><td colspan="2" style="text-align:center;"><input name="sure" type="button" style="width:100px;height:25px;background:#2e8ded;border-radius:6px;border:0;color:#fff" value="保存" onclick="setShapeAttr()"></td></tr>');
                    /*************************************************************/

                    // table.append('<tr><td colspan="2"><input name="sure" type="button" value="确定" onclick="setShapeAttr()"></td></tr>');
                }
                for (var c = 0; c < list.length; c++) {
                    var input = textInput[list[c]];
                    if (input.name != 'marker' && input.name != 'markerList') {
                        Tools.setValue(input.name, 0, shape[input.name]);
                    }
                    if (input.name == 'innerStation' && shape[input.name] == 1) {
                        $("#attributepanel input").attr("disabled", "disabled");
                        $("#attributepanel input[name='sure']").removeAttr("disabled");
                    }

                }

                attributeview.show();

                /*
                 * @author lizhenzhen
                 * @desc 设置默认属性
                 */
                // var radioSelectFalg = false;
                $("#radioBtn").on("click", function () {
                    if (radioSelectFlag == false) {
                        $(this).prop("checked", "checked");
                        this.value = 1;
                        radioSelectFlag = true;
                        // 设置为默认属性
                        // 调用设置默认属性的方法
                        setDefaultText(ft);
                    } else {
                        $(this).removeProp("checked");
                        radioSelectFlag = false;
                        unsetDefaultText(ft);
                    }
                });
                /*************************************************************/
            }
        }

        function unsetDefaultText(ft){
            if (ft == "FACILITY_STATION") {//站场
                defaultText.station = { "name": "站场" };
            } else if (ft == "FACILITY_VALVE") {//阀室
                defaultText.valve = { "name": "阀室" }
            } else if (ft == "LINE_3PE") {
                defaultText.linePE = { "name": "3PE管道", "innerStation":0, "length_": "", "diameter":"","wallThickness":"" }
            } else if (ft == "LINE_N3PE") {
                defaultText.lineNPE = { "name":"非3PE管道","innerStation":0, "length_": "", "diameter":"","wallThickness":"" }
            } else if (ft == "FACILITY_ABOVEGROUNDPL") {//架空线
                defaultText.abovegroundpl = { "name": "架空线", "length_": "", "diameter": "","wallThickness":"" }
            } else if (ft == "FACILITY_TEE") {//三通
                defaultText.tee = { "name": "三通" };
            } else if (ft == "FACILITY_REDUCER") {//大小头
                defaultText.reducer = { "name": "大小头" };
            } else if (ft == "FACILITY_RECTIFIER") {//恒电位仪
                defaultText.rectifier = { "name": "恒电位仪","specifications":"" };
            } else if (ft == "FACILITY_SPD") {//无保护装置绝缘接头
                defaultText.spd = { "name": "无保护绝缘接头", "installType":"地上" };
            } else if (ft == "FACILITY_PROTECTION") {//有保护装置绝缘接头
                defaultText.protection = { "name": "有保护绝缘接头", "installType":"地上" };
            }
        }

        //设置为默认属性
        function setDefaultText(ft) {
            if (ft == "FACILITY_STATION") {//站场
                defaultText.station = { "name": $("#attributeTable input[name='text']").val()||"" };
                if(firstTime == true){
                    defaultText.station.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_VALVE") {//阀室
                defaultText.valve = { "name": $("#attributeTable input[name='text']").val()||"" }
                if(firstTime == true){
                    defaultText.valve.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "LINE_3PE") {
                defaultText.linePE = { "name": $("#attributeTable input[name='text']").val()||"", "innerStation": $("#attributeTable select[name='innerStation']").val()||0, "length_": $("#attributeTable input[name='length']").val()||"", "diameter": $("#attributeTable input[name='diameter']").val()||"","wallThickness":$("#attributeTable input[name='wallThickness']").val()||"" }
                if(firstTime == true){
                    defaultText.linePE.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "LINE_N3PE") {
                defaultText.lineNPE = { "name": $("#attributeTable input[name='text']").val()||"", "innerStation": $("#attributeTable select[name='innerStation']").val()||0, "length_": $("#attributeTable input[name='length']").val()||"", "diameter": $("#attributeTable input[name='diameter']").val()||"","wallThickness":$("#attributeTable input[name='wallThickness']").val()||"" }
                if(firstTime == true){
                    defaultText.lineNPE.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_ABOVEGROUNDPL") {//架空线
                defaultText.abovegroundpl = { "name": $("#attributeTable input[name='text']").val()||"", "length_": $("#attributeTable input[name='length']").val()||"", "diameter": $("#attributeTable input[name='diameter']").val()||"","wallThickness":$("#attributeTable input[name='wallThickness']").val()||"" }
                if(firstTime == true){
                    defaultText.abovegroundpl.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_TEE") {//三通
                defaultText.tee = { "name": $("#attributeTable input[name='text']").val()||"" };
                if(firstTime == true){
                    defaultText.tee.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_REDUCER") {//大小头
                defaultText.reducer = { "name": $("#attributeTable input[name='text']").val()||"" };
                if(firstTime == true){
                    defaultText.reducer.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_RECTIFIER") {//恒电位仪
                defaultText.rectifier = { "name": $("#attributeTable input[name='text']").val()||"","specifications":$("#attributeTable input[name='specifications']").val()||"" };
                if(firstTime == true){
                    defaultText.rectifier.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_SPD") {//无保护装置绝缘接头
                defaultText.spd = { "name": $("#attributeTable input[name='text']").val()||"", "installType": $("#attributeTable select[name='installType']").val()||"地上" };
                if(firstTime == true){
                    defaultText.spd.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            } else if (ft == "FACILITY_PROTECTION") {//有保护装置绝缘接头
                defaultText.protection = { "name": $("#attributeTable input[name='text']").val()||"", "installType": $("#attributeTable select[name='installType']").val()||"地上" };
                if(firstTime == true){
                    defaultText.protection.name = $("#attributeTable input[name='text']").val().split("_")[0];
                }
            }
        }

        // 设置图片属性
        function setShapeAttr() {
            if (pageMeta.selectedBean) {
                var textInput = pageMeta.textInput;
                var list = attributeList[pageMeta.selectedBean.facilityType];
                for (var a = 0; a < list.length; a++) {
                    var input = textInput[list[a]];
                    pageMeta.selectedBean[input.name] = $($("[name='" + input.name + "']")[0]).val();
                }
                pageMeta.selectedBean['realtext'] = $($("[name='text']")[0]).val();
                //只显示站场和阀室的名字
                if (pageMeta.selectedBean.facilityType != 'FACILITY_VALVE' && pageMeta.selectedBean.facilityType !=
                    'FACILITY_STATION') {
                    pageMeta.selectedBean['realtext'] = '';
                }
                //3PE管和非3PE管显示 长度*管径
                if (pageMeta.selectedBean.facilityType == 'LINE_3PE' || pageMeta.selectedBean.facilityType == 'LINE_N3PE') {
                    //站内的管道不显示 长度和管径
                    if ($($("[name='innerStation']")[0]).val() == 0) {
                        pageMeta.selectedBean['realtext'] = $($("[name='length']")[0]).val() + "km * " + $($("[name='diameter']")[0]).val() +
                            "mm";
                    }
                }
                pageMeta.selectedBean.moveTo();
                saveView();
                if (radioSelectFlag == true) {
                    setDefaultText(pageMeta.selectedBean.facilityType);
                }
            }
        }

        // 保存视图
        function saveView() {
            // $(".previous").show();
            // $(".unprevious").hide();
            isHaveHistory();
            if (pageMeta.writeHistory) {
                var historyBean = new HistoryBean();
                historyBean.actions = pageMeta.collection.getGeometryAttribute();
                var historyLength = pageMeta.historyList.length;
                if (pageMeta.historyIndex == historyLength - 1) {
                    if (historyLength < pageMeta.maxHistoryLength) {
                        pageMeta.historyList.push(historyBean);
                        pageMeta.historyIndex++;
                    } else {
                        var list = [];
                        for (var a = 1; a < pageMeta.maxHistoryLength; a++) {
                            list.push(pageMeta.historyList[a]);
                        }
                        list.push(historyBean);
                        pageMeta.historyList = list;
                    }
                } else {
                    var list = [];
                    for (var b = 0; b <= pageMeta.historyIndex; b++) {
                        list.push(pageMeta.historyList[b]);
                    }
                    list.push(historyBean);
                    pageMeta.historyList = list;
                    pageMeta.historyIndex++;
                }
            }
        }

        // 判断是否有历史记录
        function isHaveHistory() {
            if (pageMeta.writeHistory && pageMeta.historyIndex >= 0) {
                $(".previous").show();
                $(".unprevious").hide();
            }
            if (pageMeta.writeHistory && pageMeta.historyIndex < pageMeta.historyList.length - 1) {
                $(".next").show();
                $(".unnext").hide();
            }
            if (pageMeta.writeHistory && pageMeta.historyIndex < 0) {
                $(".previous").hide();
                $(".unprevious").show();
                $(".next").hide();
                $(".unnext").show();
            }
            if (pageMeta.writeHistory && pageMeta.historyIndex > pageMeta.historyList.length - 1) {
                $(".next").hide();
                $(".unnext").show();
            }
        }

        // 撤销
        function previousView() {
            var arr1 = pageMeta.historyList[pageMeta.historyIndex].actions;
            var arr2 = pageMeta.historyList[pageMeta.historyIndex - 1].actions;

            var firstArr = [];
            var secondArr = [];
            for (var i = 0; i < arr1.length; i++) {
                firstArr.push({
                    "id": arr1[i].id,
                    "facilityType": arr1[i].facilityType
                });
            }
            for (var i = 0; i < arr2.length; i++) {
                secondArr.push({
                    "id": arr2[i].id,
                    "facilityType": arr2[i].facilityType
                });
            }
            var arr = compliteArray(firstArr, secondArr);
            if (arr != null && arr.length > 0) {
                if (arr[0].facilityType == "FACILITY_RECTIFIER") {
                    var idshd = arr[0].id;
                    var index = parent.layer.confirm("撤销将删除该恒电位仪关联的测试桩，是否确认撤销", {
                        title: "提示",
                        btn: ['确认', '取消'], //按钮 //按钮
                        skin: 'self',
                        yes: function () {
                            deleteDeviceRelationMarker(idshd, "");
                            forPrevousView();
                            layer.close(index);
                        }
                    });
                } else
                    if (arr[0].facilityType == "LINE_3PE") {
                        var idspe = arr[0].id;
                        var index = parent.layer.confirm("撤销将删除该管道关联的测试桩，是否确认撤销", {
                            title: "提示",
                            btn: ['确认', '取消'], //按钮 //按钮
                            skin: 'self',
                            yes: function () {
                                deleteDeviceRelationMarker("", idspe);
                                forPrevousView();
                                layer.close(index);
                            }
                        });
                    } else {
                        forPrevousView();
                    }
            } else {
                forPrevousView();
            }

        }

        // 回归前一视图
        function forPrevousView() {
            isHaveHistory();
            if (pageMeta.writeHistory && pageMeta.historyIndex > 0) {
                hideExtent();
                pageMeta.historyIndex--;
                createGeometrys(pageMeta.historyList[pageMeta.historyIndex].actions);
                if (pageMeta.historyIndex <= 0) {
                    $(".previous").hide();
                    $(".unprevious").show();
                }
                if (pageMeta.writeHistory && pageMeta.historyIndex < pageMeta.historyList.length - 1) {
                    $(".next").show();
                    $(".unnext").hide();
                }
            }
        }

        // 下一个视图
        function nextView() {
            isHaveHistory();
            if (pageMeta.writeHistory && pageMeta.historyIndex < pageMeta.historyList.length - 1) {
                hideExtent();
                pageMeta.historyIndex++;
                createGeometrys(pageMeta.historyList[pageMeta.historyIndex].actions);
                if (pageMeta.historyIndex >= pageMeta.historyList.length - 1) {
                    $(".next").hide();
                    $(".unnext").show();
                }
            }
        }

        // 保存草稿
        function clicksave() {
            var attr = JSON.stringify(pageMeta.collection.getGeometryAttribute());
            saveChartForLog(attr);
        }

        // 保存 
        function save() {
            var attr = JSON.stringify(pageMeta.collection.getGeometryAttribute());
            saveChart(attr);
        }

        // 下载  下载保存逻辑图
        function saveAsImage() {
            var panel = $('#' + pageMeta.container);
            var image = document.getElementById('exportImage');
            var chartName = decodeURI(getParameter("chartName"));
            image.width = panel.innerWidth();
            image.height = panel.innerHeight();
            var divContent = document.getElementById(pageMeta.container).innerHTML;
            for (var a in imageMeta) {
                divContent = divContent.replace(new RegExp(imageMeta[a].url, 'gm'), imageMeta[a].html);
                divContent = divContent.replace(new RegExp(imageMeta[a].warningurl, 'gm'), imageMeta[a].warninghtml);
            }
            var data = "data:image/svg+xml," + divContent;
            image.onload = function () {
                var canvas = document.getElementById('exportCanvas');
                canvas.width = panel.innerWidth();
                canvas.height = panel.innerHeight();
                var context = canvas.getContext('2d');
                context.fillStyle = '#58b6fc';
                context.drawImage(image, 0, 0);

                // 将canvas的透明背景设置成白色   
                var imageDataForColor = context.getImageData(0, 0, canvas.width, canvas.height);
                for (var i = 0; i < imageDataForColor.data.length; i += 4) {
                    // 当该像素是透明的，则设置成白色   
                    if (imageDataForColor.data[i + 3] == 0) {
                        imageDataForColor.data[i] = 255;
                        imageDataForColor.data[i + 1] = 255;
                        imageDataForColor.data[i + 2] = 255;
                        imageDataForColor.data[i + 3] = 255;
                    }
                }
                context.putImageData(imageDataForColor, 0, 0);

                var type = 'png';
                var imgData = canvas.toDataURL(type);
                var fixType = function (type) {
                    type = type.toLowerCase().replace(/jpg/i, 'jpeg');
                    var r = type.match(/png|jpeg|bmp|gif/)[0];
                    return 'image/' + r;
                };
                imgData = imgData.replace(fixType(type), 'image/octet-stream');
                var saveLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');
                saveLink.href = imgData;
                //获取当前时间字符串
                var now = new Date();
                var year = now.getFullYear();
                var month = (now.getMonth() + 1).toString();
                var day = (now.getDate()).toString();
                if (month.length == 1) {
                    month = "0" + month;
                }
                if (day.length == 1) {
                    day = "0" + day;
                }
                var dateTime = year + month + day;

                saveLink.download = chartName + "_" + dateTime + '.' + type;
                var event = document.createEvent('MouseEvents');
                event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
                saveLink.dispatchEvent(event);
                try {
                    if (zhugeSwitch == 1) {
                        zhuge.track('下载逻辑图');
                    }
                } catch (err) {
                    //在此处理错误
                }
            }
            image.src = data;
        }

        // 清除图形
        function clearShape(all) {
            if (pageMeta.editable) {
                var number = 0;
                if (all) {
                    number = pageMeta.collection.clear();
                } else {
                    pageMeta.selectShape = null;
                    number = pageMeta.collection.removeSelectShape();
                    pageMeta.selectedShapeList = [];
                    pageMeta.selectedShapeLocatList = [];
                }
                if (number > 0) {
                    saveView();
                }
                hideExtent();
            }
        }

        /*
         * 工具栏图片的鼠标事件 
         */
        function imageMouseOver(image) {
            image.src = image.src.replace('_01', '_02');
            image.src = image.src.replace('_03', '_02');
        }

        function imageMouseOut(image) {
            image.src = image.src.replace('_02', '_01');
            image.src = image.src.replace('_03', '_01');
        }

        function imageMouseDown(image) {
            image.src = image.src.replace('_01', '_03');
            image.src = image.src.replace('_02', '_03');
        }

        function imageMouseUp(image) {
            image.src = image.src.replace('_01', '_02');
            image.src = image.src.replace('_03', '_02');
        }

        function imageStateMouseOver(image) {
            image.src = image.src.replace('_01', '_02');
        }

        function imageStateMouseOut(image) {
            image.src = image.src.replace('_02', '_01');
        }

        function thickMouseDown(image) {
            if (pageMeta.thickState) {
                image.src = 'icon/thick_01.png';
            } else {
                image.src = 'icon/thick_03.png';
            }
            pageMeta.thickState = !pageMeta.thickState;
            setAllTextStyle(2);
        }

        function italicMouseDown(image) {
            if (pageMeta.italicState) {
                image.src = 'icon/italic_01.png';
            } else {
                image.src = 'icon/italic_03.png';
            }
            pageMeta.italicState = !pageMeta.italicState;
            setAllTextStyle(3);
        }

        function addMiddlePointMouseDown(image) {
            if (pageMeta.addPointState) {
                image.src = 'icon/addpoint_01.png';
            } else {
                image.src = 'icon/addpoint_03.png';
            }
            pageMeta.addPointState = !pageMeta.addPointState;
            var shapeList = pageMeta.collection.shapeList;
            for (var a = 0; a < shapeList.length; a++) {
                var shape = shapeList[a];
                if (shape.facilityType == ShapeConfig.LINE_3PE || shape.facilityType == ShapeConfig.LINE_N3PE) {
                    shape.hasBackShape = pageMeta.addPointState;
                }
            }
        }

        function alignShape(type) {
            var list = pageMeta.collection.getSelectShape();
            var topShape = null;
            var leftShape = null;
            var shapeNumber = 0;
            var minTop = 100000000;
            var minLeft = 100000000;
            for (var a = 0; a < list.length; a++) {
                var shape = list[a];
                if (shape.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                    var box = shape.shape.getBBox();
                    if (box.y < minTop) {
                        minTop = box.y;
                        topShape = shape;
                    }
                    if (box.x < minLeft) {
                        minLeft = box.x;
                        leftShape = shape;
                    }
                    shapeNumber++;
                }
            }
            var line = 0;
            if (shapeNumber > 1) {
                for (var b = 0; b < list.length; b++) {
                    var shape = list[b];
                    if (shape.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                        if (type == 'left') {
                            line = topShape.x - topShape.width / 2;
                            shape.x = line + shape.width / 2;
                        }
                        if (type == 'right') {
                            line = topShape.x + topShape.width / 2;
                            shape.x = line - shape.width / 2;
                        }
                        if (type == 'center') {
                            line = topShape.x;
                            shape.x = line;
                        }
                        if (type == 'top') {
                            line = leftShape.y - leftShape.height / 2;
                            shape.y = line + shape.height / 2;
                        }
                        if (type == 'middle') {
                            line = leftShape.y;
                            shape.y = line;
                        }
                        if (type == 'bottom') {
                            line = leftShape.y + leftShape.height / 2;
                            shape.y = line - shape.height / 2;
                        }
                        shape.moveTo();
                    }
                }
                getSelectShapeLoact();
                saveView();
            }
        }

        function setAllTextStyle(type) {
            var list = pageMeta.collection.shapeList;
            for (var a = 0; a < list.length; a++) {
                var shape = list[a];
                if (type == 1) {
                    shape.textSize = parseInt($('#alltextsize').val());
                }
                if (type == 2) {
                    if (pageMeta.thickState) {
                        shape.textWeight = 'bold';
                    } else {
                        shape.textWeight = 'normal';
                    }
                }
                if (type == 3) {
                    if (pageMeta.italicState) {
                        shape.textStyle = 'italic';
                    } else {
                        shape.textStyle = 'normal';
                    }
                }
                shape.setText();
            }
        }

        function rotateShape(angle) {
            var list = pageMeta.collection.getSelectShape();
            for (var a = 0; a < list.length; a++) {
                var shape = list[a];
                if (shape.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                    shape.rotate(angle);
                }
            }
        }

        function debug(str) {
            $('#textarea').val($('#textarea').val() + '\n' + str);
        }

        /************************************************************************************/

        // 图形对象的配置项
        ShapeConfig = {
            SHAPE_RECT: 'SHAPE_RECT',
            SHAPE_ELLIPSE: 'SHAPE_ELLIPSE',
            SHAPE_IMAGE: 'SHAPE_IMAGE',

            GEOMETRY_POLYGON: 'GEOMETRY_POLYGON',
            GEOMETRY_POLYLINE: 'GEOMETRY_POLYLINE',
            GEOMETRY_CURVELINE: 'GEOMETRY_CURVELINE',
            GEOMETRY_LINE: 'GEOMETRY_LINE',

            FACILITY_STATION: 'FACILITY_STATION', // 场站
            FACILITY_VALVE: 'FACILITY_VALVE', // 阀室
            FACILITY_ABOVEGROUNDPL: 'FACILITY_ABOVEGROUNDPL', // 架空线
            FACILITY_TEE: 'FACILITY_TEE', // 三通
            FACILITY_REDUCER: 'FACILITY_REDUCER', // 大小头
            FACILITY_RECTIFIER: 'FACILITY_RECTIFIER', // 恒电位仪
            FACILITY_SHALLOWANODEBED: 'FACILITY_SHALLOWANODEBED', // 浅埋阳极地床
            FACILITY_DEEPANODEBED: 'FACILITY_DEEPANODEBED', // 深井阳极地床
            FACILITY_SPD: 'FACILITY_SPD', // 无保护装置绝缘接头
            FACILITY_PROTECTION: 'FACILITY_PROTECTION', // 有保护装置绝缘接头
            FACILITY_FIKWITHOUTSPD: 'FACILITY_FIKWITHOUTSPD', // 无保护装置绝缘法兰
            FACILITY_FIKWITHSPD: 'FACILITY_FIKWITHSPD', // 有保护装置绝缘法兰
            FACILITY_CABLECONNECTION: 'FACILITY_CABLECONNECTION', // 连接点
            FACILITY_PIPECABLECONNECTION: 'FACILITY_PIPECABLECONNECTION', // 管道连接点
            LINE_3PE: 'LINE_3PE', // 3PE管道
            LINE_N3PE: 'LINE_N3PE', // 非3PE管道
            LINE_ANODECABLE: 'LINE_ANODECABLE', // 阳极电缆
            LINE_CATHODECABLE: 'LINE_CATHODECABLE', // 阴极电缆
            LINE_WIRE: 'LINE_WIRE', // 跨接电缆
            LINE_CONNECTIONLINE: 'LINE_CONNECTIONLINE' // 连接线
        };

        // 构造函数  定义图形的连接关系
        ShapeCollection = function () {
            this.relation = {
                LINE_3PE: {
                    FACILITY_STATION: 1,
                    FACILITY_VALVE: 1,
                    FACILITY_TEE: 1,
                    FACILITY_REDUCER: 1,
                    FACILITY_SPD: 1,
                    FACILITY_PROTECTION: 1,
                    FACILITY_FIKWITHOUTSPD: 1,
                    FACILITY_FIKWITHSPD: 1,
                    FACILITY_CABLECONNECTION: 1,
                    FACILITY_ABOVEGROUNDPL: 1
                },
                LINE_N3PE: {
                    FACILITY_STATION: 1,
                    FACILITY_VALVE: 1,
                    FACILITY_TEE: 1,
                    FACILITY_REDUCER: 1,
                    FACILITY_SPD: 1,
                    FACILITY_PROTECTION: 1,
                    FACILITY_FIKWITHOUTSPD: 1,
                    FACILITY_FIKWITHSPD: 1,
                    FACILITY_CABLECONNECTION: 1,
                    FACILITY_ABOVEGROUNDPL: 1
                },
                LINE_WIRE: {
                    FACILITY_ABOVEGROUNDPL: 1,
                    FACILITY_TEE: 1,
                    FACILITY_REDUCER: 1,
                    FACILITY_PIPECABLECONNECTION: 1
                },
                LINE_ANODECABLE: {
                    FACILITY_RECTIFIER: 1,
                    FACILITY_SHALLOWANODEBED: 1,
                    FACILITY_DEEPANODEBED: 1
                    // FACILITY_PIPECABLECONNECTION : 1,
                },
                LINE_CATHODECABLE: {
                    FACILITY_RECTIFIER: 1,
                    FACILITY_ABOVEGROUNDPL: 1,
                    FACILITY_TEE: 1,
                    FACILITY_REDUCER: 1,
                    FACILITY_PIPECABLECONNECTION: 1
                },
                LINE_CONNECTIONLINE: {
                    FACILITY_STATION: 1,
                    FACILITY_RECTIFIER: 1,
                    FACILITY_VALVE: 1
                }
            };
            this.clear = function () {
                var number = this.shapeList.length;
                var list = [];
                for (var i = 0; i < number; i++) {
                    if (this.shapeList[i].facilityType != ShapeConfig.FACILITY_PIPECABLECONNECTION) {
                        list.push(this.shapeList[i]);
                    }
                }
                for (var j = 0; j < list.length; j++) {
                    list[j].remove();
                }
                this.shapeList = [];
                return number;
            };
            this.shapeList = [];
            this.addShape = function (shape) {
                var add = true;
                for (var i = 0; i < this.shapeList.length; i++) {
                    if (this.shapeList[i].id == shape.id) {
                        add = false;
                        break;
                    }
                }
                if (add) {
                    this.shapeList.push(shape);
                }
                return this;
            };
            this.removeShape = function (shape) {
                var list = [];
                for (var i = 0; i < this.shapeList.length; i++) {
                    if (this.shapeList[i].id != shape.id) {
                        list.push(this.shapeList[i]);
                    }
                }
                this.shapeList = list;
                return this;
            };
            this.getShapeByLocat = function (x, y, facilityType) {
                var shapeBean = null;
                for (var i = 0; i < this.shapeList.length; i++) {
                    var shape = this.shapeList[i];
                    if (shape.geometryType == ShapeConfig.GEOMETRY_POLYGON) {
                        if (this.relation[facilityType][shape.facilityType]) {
                            var box = shape.shape.getBBox();
                            var minx = box.x-10;
                            var miny = box.y-10;
                            var maxx = box.x + box.width+10;
                            var maxy = box.y + box.height+10;
                            if (x >= minx && x <= maxx && y >= miny && y <= maxy) {
                                shapeBean = this.shapeList[i];
                                break;
                            }
                        }
                    }
                }
                return shapeBean;
            };
            this.getGeometry = function (box) {
                var x = box.x,
                    y = box.y,
                    width = box.width,
                    height = box.height;
                var list = [];
                for (var i = 0; i < this.shapeList.length; i++) {
                    var shape = this.shapeList[i];
                    var box = shape.shape.getBBox();
                    var minx = box.x;
                    var miny = box.y;
                    var maxx = box.x + box.width;
                    var maxy = box.y + box.height;
                    if (minx >= x && maxx <= x + width && miny >= y && maxy <= y + height) {
                        list.push(shape);
                    }
                }
                return list;
            };
            this.getGeometryById = function (id) {
                var shape = null;
                for (var i = 0; i < this.shapeList.length; i++) {
                    if (id == this.shapeList[i].id) {
                        shape = this.shapeList[i];
                        break;
                    }
                }
                return shape;
            };
            this.getSelectShape = function () {
                var list = [];
                for (var i = 0; i < this.shapeList.length; i++) {
                    var shape = this.shapeList[i];
                    if (shape.selected) {
                        list.push(shape);
                    }
                }
                return list;
            };
            this.removeSelectShape = function () {
                var list = this.getSelectShape();
                var number = list.length;
                for (var i = 0; i < number; i++) {
                    var shape = list[i];
                    shape.remove();
                }
                return number;
            };
            this.getGeometryAttribute = function () {
                var list = [];
                for (var i = 0; i < this.shapeList.length; i++) {
                    list.push(this.shapeList[i].getAttribute());
                }
                return list;
            };
            this.setWarning = function (id, state) {
                var shape = this.getGeometryById(id);
                if (shape) {
                    shape.setWarning(state);
                }
                return this;
            };
            this.setAllWarning = function (state) {
                for (var i = 0; i < this.shapeList.length; i++) {
                    var shape = this.shapeList[i];
                    shape.setWarning(state);
                }
            };
        };

        // 构造函数  几何图形的属性和方法
        GeometryBean = function () {
            var _this = this;
            this.id = Tools.getUUID();
            this.geometryType = '';
            this.facilityType = '';
            this.x = 0;
            this.y = 0;
            this.width = 0;
            this.height = 0;
            this.bx = 0;
            this.by = 0;
            this.cx = 0;
            this.cy = 0;
            this.ex = 0;
            this.ey = 0;
            this.direction = {};
            this.extentBorder = 5;
            this.hasExtent = true;
            this.extent = null;
            this.selected = false;
            this.scope = null;
            this.color = '#000000';
            this.warningColor = '#FF0000';
            this.fillColor = '#FFFFFF';
            this.warningFillColor = '#FFFFFF';
            this.path = [];
            this.shape = null;
            this.realtext = '';
            this.text = '';
            this.textSize = 0;
            this.textShape = null;
            this.textFamily = '微软雅黑';
            this.textWeight = 'normal';
            this.textStyle = 'normal';
            this.textTop = 0;
            this.textLeft = 0;
            this.textColor = '#000000';
            this.raphael = null;
            this.shapeCollection = null;
            this.createShape = function () { };
            this.moveTo = function () { };
            this.disconnect = function () { };
            this.remove = function () { };
            this.setWarning = function (state) { };
            this.textMoveFun = null;
            this.textUpFun = null;
            this.moveFun = null;
            this.upFun = null;
            this.clickFun = null;
            this.dbClickFun = null;
            this.overFun = null;
            this.outFun = null;
            this.canMove = true;
            this.setText = function () {
                if (this.textSize == 0) {
                    if (this.facilityType == 'LINE_3PE' || this.facilityType == 'LINE_N3PE') {
                        this.textSize = 9;
                    } else {
                        this.textSize = 12;
                    }
                }
                if (this.raphael) {
                    if (this.textShape) {
                        this.textShape.attr({
                            x: this.cx + this.textLeft,
                            y: this.cy - this.textTop,
                            text: this.realtext,
                            fill: this.textColor,
                            'font-size': this.textSize,
                            cursor: 'default',
                            'font-family': this.textFamily,
                            'font-style': this.textStyle,
                            'font-weight': this.textWeight
                        });
                    } else {
                        // alert(this.realtext);
                        this.textShape = this.raphael.text(this.cx + this.textLeft, this.cy - this.textTop, this.realtext).attr({
                            fill: this.textColor,
                            'font-size': this.textSize,
                            cursor: 'default',
                            'font-family': this.textFamily,
                            'font-style': this.textStyle,
                            'font-weight': this.textWeight
                        });
                        this.textShape.drag(textMove, textDragger, textUp);
                    }
                }
                return this;
            };
            this.panTo = function (x, y) {
                this.x += x;
                this.y += y;
                this.cx += x;
                this.cy += y;
                this.bx += x;
                this.by += y;
                this.ex += x;
                this.ey += y;
                this.moveTo();
            };
            this.select = function () {
                if (this.extent) {
                    this.extent.show();
                }
                this.selected = true;
                return this;
            };
            this.unSelect = function () {
                if (this.extent) {
                    this.extent.hide();
                }
                this.selected = false;
                return this;
            };
            this.reverseSelect = function () {
                if (this.selected) {
                    this.unSelect();
                } else {
                    this.select();
                }
                return this;
            };
            this.setExtent = function () {
                if (this.hasExtent) {
                    var box = this.shape.getBBox();
                    if (this.extent) {
                        this.extent.attr({
                            x: box.x - this.extentBorder,
                            y: box.y - this.extentBorder,
                            width: box.width + this.extentBorder * 2,
                            height: box.height + this.extentBorder * 2
                        });
                    } else {
                        this.extent = this.raphael.rect(box.x - this.extentBorder, box.y - this.extentBorder, box.width + this.extentBorder *
                            2, box.height + this.extentBorder * 2, 4);
                        this.extent.attr({
                            'stroke-dasharray': ['-'],
                            stroke: '#FF00FF'
                        });
                        this.extent.toBack();
                    }
                }
                return this;
            };
            this.getAttribute = function () {
                var obj = this;
                var attr = {};
                for (var k in obj) {
                    if (Tools.isString(obj[k]) || Tools.isNumber(obj[k]) || Tools.isBoolean(obj[k])) {
                        attr[k] = obj[k];
                    }
                }
                if (obj.beginShape) {
                    attr.beginShape = obj.beginShape.id;
                }
                if (obj.endShape) {
                    attr.endShape = obj.endShape.id;
                }
                if (obj.lineList) {
                    var list1 = [];
                    for (var a = 0; a < obj.lineList.length; a++) {
                        list1.push(obj.lineList[a].id);
                    }
                    attr.lineList = list1;
                }
                if (obj.shapeList) {
                    var list2 = [];
                    for (var b = 0; b < obj.shapeList.length; b++) {
                        var shape = obj.shapeList[b];
                        list2.push({
                            shape: shape.shape.id,
                            x: shape.shape.x,
                            y: shape.shape.y
                        });
                    }
                    attr.shapeList = list2;
                }
                if (obj.direction) {
                    attr.direction = obj.direction;
                }
                if (obj.dasharray) {
                    attr.dasharray = obj.dasharray;
                }
                return attr;
            };
            this.getDirection = function (box) {
                var pointList = [];
                pointList.push({
                    x: box.x + box.width / 2,
                    y: box.y
                });
                pointList.push({
                    x: box.x + box.width,
                    y: box.y + box.height / 2
                });
                pointList.push({
                    x: box.x + box.width / 2,
                    y: box.y + box.height
                });
                pointList.push({
                    x: box.x,
                    y: box.y + box.height / 2
                });
                return pointList;
            };

            var tox = 0;
            var toy = 0;
            var textHasMove = false;
            var textDragger = function (x, y, e) {
                e.stopPropagation();
                if (_this.canMove) {
                    textHasMove = false;
                    tox = _this.cx + _this.textLeft;
                    toy = _this.cy - _this.textTop;
                }
            };
            var textMove = function (dx, dy, x, y, e) {
                e.stopPropagation();
                if (_this.canMove) {
                    textHasMove = true;
                    _this.textLeft = tox + dx - _this.cx;
                    _this.textTop = _this.cy - toy - dy;
                    _this.setText();
                    if (_this.textMoveFun) {
                        _this.textMoveFun(_this);
                    }
                }
            };
            var textUp = function () {
                if (textHasMove == true && _this.textUpFun) {
                    _this.textUpFun(_this);
                } else if (textHasMove == false && _this.clickFun) {
                    _this.clickFun(_this);
                }
            };
        };

        // 构造函数  历史对象的属性和方法
        HistoryBean = function () {
            var _this = this;
            this.type = '';
            this.datetime = new Date();
            this.actions = [];
        };

        // 构造函数  图形对象的属性方法
        ShapeBean = function () {
            var _this = this;
            GeometryBean.call(this); // ShapeBean 继承 GeometryBean
            this.geometryType = ShapeConfig.GEOMETRY_POLYGON;
            this.lineList = [];
            this.shapeType = ShapeConfig.SHAPE_RECT;
            this.border = 2;
            this.radius = 5;
            this.angle = 0;
            this.autoLine = false;
            this.opacity = 1;
            this.toTop = false;

            // 画图形形状
            this.createShape = function () {
                if (this.raphael) {
                    this.angle = this.angle % 360;
                    if (this.shapeType == ShapeConfig.SHAPE_RECT) {
                        this.shape = this.raphael.rect(this.x - getHalfWidth(), this.y - getHalfHeight(), this.width, this.height, this
                            .radius);
                    }
                    if (this.shapeType == ShapeConfig.SHAPE_ELLIPSE) {
                        this.shape = this.raphael.ellipse(this.x, this.y, this.width, this.height);
                    }
                    if (this.shapeType == ShapeConfig.SHAPE_IMAGE) {
                        this.shape = this.raphael.image(this.color, this.x - getHalfWidth(), this.y - getHalfHeight(), this.width, this
                            .height);
                    }
                    if (this.toTop) {
                        this.shape.toFront();
                    } else {
                        this.shape.toBack();
                    }
                    if (this.shapeType == ShapeConfig.SHAPE_IMAGE) {
                        this.shape.attr({
                            cursor: 'default',
                            src: this.color
                        });
                    } else {
                        this.shape.attr({
                            fill: this.fillColor,
                            stroke: this.color,
                            'stroke-width': this.border,
                            'fill-opacity': this.opacity,
                            cursor: 'default'
                        });
                    }
                    this.textTop = -this.height;
                    this.setCenter().setText();
                    this.shape.drag(shapeMove, shapeDragger, shapeUp);
                    this.shape.dblclick(shapeDbclick);
                    this.shape.mouseover(function () {
                        if (_this.overFun) {
                            _this.overFun(_this);
                        }
                    });
                    this.shape.mouseout(function () {
                        if (_this.outFun) {
                            _this.outFun(_this);
                        }
                    });
                    if (this.angle != 0) {
                        this.shape.rotate(this.angle);
                    }
                    this.setExtent().unSelect();
                    if (this.shapeCollection) {
                        this.shapeCollection.addShape(this);
                    }
                }
                return this;
            };
            // 移动
            this.moveTo = function () {
                if (this.angle != 0) {
                    this.shape.rotate(-this.angle);
                }
                var x = this.x - getHalfWidth();
                var y = this.y - getHalfHeight();
                var att = this.shapeType == ShapeConfig.SHAPE_ELLIPSE ? {
                    cx: x,
                    cy: y,
                    rx: this.width,
                    ry: this.height
                } : {
                        x: x,
                        y: y,
                        width: this.width,
                        height: this.height
                    };
                this.shape.attr(att);
                if (this.angle != 0) {
                    this.shape.rotate(this.angle);
                }
                this.setCenter();
                this.resetLine();
                this.setText();
                this.setExtent();
                return this;
            };
            // 设置警告图片
            this.setWarning = function (state) {
                if (state) {
                    if (this.shapeType == ShapeConfig.SHAPE_IMAGE) {
                        this.shape.attr({
                            src: this.warningColor
                        });
                    } else {
                        this.shape.attr({
                            fill: this.warningFillColor,
                            stroke: this.warningColor
                        });
                    }
                } else {
                    if (this.shapeType == ShapeConfig.SHAPE_IMAGE) {
                        this.shape.attr({
                            src: this.color
                        });
                    } else {
                        this.shape.attr({
                            fill: this.fillColor,
                            stroke: this.color
                        });
                    }
                }
            };
            // 旋转
            this.rotate = function (angle) {
                angle = angle % 360;
                if (this.angle != 0) {
                    this.shape.rotate(-this.angle);
                }
                if (angle != 0) {
                    this.shape.rotate(angle);
                }
                this.angle = angle;
                this.setExtent();
                this.resetLine();
                return this;
            };
            // 设置中心
            this.setCenter = function () {
                this.cx = this.x;
                this.cy = this.y;
                return this;
            };
            // 重置画线
            this.resetSingleLine = function (line) {
                if (this.autoLine) {
                    this.autoResetSingleLine(line);
                } else {
                    this.fixedResetSingleLine(line);
                }
                return this;
            };
            // 自动重置画线
            this.autoResetSingleLine = function (line) {
                var box1 = null;
                var box2 = null;
                var p1 = [];
                var p2 = [];
                var resetBegin = true;
                var resetEnd = true;
                if (line.beginShape == this) {
                    box1 = line.beginShape.shape.getBBox();
                    if (line.geometryType == ShapeConfig.GEOMETRY_CURVELINE) {
                        p2 = [{
                            x: line.mShape.x,
                            y: line.mShape.y
                        }];
                        resetEnd = false;
                    } else if (line.endShape) {
                        box2 = line.endShape.shape.getBBox();
                    } else {
                        p2 = [{
                            x: line.ex,
                            y: line.ey
                        }];
                    }
                } else if (line.endShape == this) {
                    box2 = line.endShape.shape.getBBox();
                    if (line.geometryType == ShapeConfig.GEOMETRY_CURVELINE) {
                        p1 = [{
                            x: line.mShape.x,
                            y: line.mShape.y
                        }];
                        resetBegin = false;
                    } else if (line.beginShape) {
                        box1 = line.beginShape.shape.getBBox();
                    } else {
                        p1 = [{
                            x: line.bx,
                            y: line.by
                        }];
                    }
                }
                if (box1) {
                    p1 = [];
                    p1.push({
                        x: box1.x + box1.width / 2,
                        y: box1.y
                    });
                    p1.push({
                        x: box1.x + box1.width / 2,
                        y: box1.y + box1.height
                    });
                    p1.push({
                        x: box1.x,
                        y: box1.y + box1.height / 2
                    });
                    p1.push({
                        x: box1.x + box1.width,
                        y: box1.y + box1.height / 2
                    });
                }
                if (box2) {
                    p2 = [];
                    p2.push({
                        x: box2.x + box2.width / 2,
                        y: box2.y
                    });
                    p2.push({
                        x: box2.x + box2.width / 2,
                        y: box2.y + box2.height
                    });
                    p2.push({
                        x: box2.x,
                        y: box2.y + box2.height / 2
                    });
                    p2.push({
                        x: box2.x + box2.width,
                        y: box2.y + box2.height / 2
                    });
                }
                var dis = 100000000;
                var bx = 0;
                var by = 0;
                var ex = 0;
                var ey = 0;
                for (var b = 0; b < p1.length; b++) {
                    for (var c = 0; c < p2.length; c++) {
                        var dx = Math.abs(p1[b].x - p2[c].x);
                        var dy = Math.abs(p1[b].y - p2[c].y);
                        if (dis > dx * dx + dy * dy) {
                            dis = dx * dx + dy * dy;
                            bx = p1[b].x;
                            by = p1[b].y;
                            ex = p2[c].x;
                            ey = p2[c].y;
                        }
                    }
                }
                if (resetBegin) {
                    line.bx = bx;
                    line.by = by;
                    line.bShape.x = bx;
                    line.bShape.y = by;
                }
                if (resetEnd) {
                    line.ex = ex;
                    line.ey = ey;
                    line.eShape.x = ex;
                    line.eShape.y = ey;
                }
                line.moveTo();
                return this;
            };
            // 固定重置画线
            this.fixedResetSingleLine = function (line) {
                var box = null;
                var resetBegin = false;
                var resetEnd = false;
                if (line.beginShape == this) {
                    box = line.beginShape.shape.getBBox();
                    resetBegin = true;
                } else if (line.endShape == this) {
                    box = line.endShape.shape.getBBox();
                    resetEnd = true;
                }
                var point = this.getDirection(box)[this.direction[line.id]];
                var x = point.x;
                var y = point.y;
                if (resetBegin) {
                    line.bx = x;
                    line.by = y;
                }
                if (resetEnd) {
                    line.ex = x;
                    line.ey = y;
                }
                line.moveTo();
                return this;
            };
            // 重线条
            this.resetLine = function () {
                for (var a = 0; a < this.lineList.length; a++) {
                    this.resetSingleLine(this.lineList[a]);
                }
                return this;
            };
            // 添加线
            this.addLine = function (lineBean) {
                var x = 0;
                var y = 0;
                var dir = 0;
                if (lineBean.beginShape == this) {
                    x = lineBean.bx;
                    y = lineBean.by;
                }
                if (lineBean.endShape == this) {
                    x = lineBean.ex;
                    y = lineBean.ey;
                }
                var box = this.shape.getBBox();
                var pointList = this.getDirection(box);
                var dis = 100000000;
                for (var b = 0; b < pointList.length; b++) {
                    var dx = Math.abs(pointList[b].x - x);
                    var dy = Math.abs(pointList[b].y - y);
                    var dxy = dx * dx + dy * dy;
                    if (dis > dxy) {
                        dis = dxy;
                        dir = b;
                    }
                }
                var add = true;
                for (var i = 0; i < this.lineList.length; i++) {
                    if (this.lineList[i].id == lineBean.id) {
                        add = false;
                        break;
                    }
                }
                if (add) {
                    this.lineList.push(lineBean);
                    this.direction[lineBean.id] = dir;
                }
                this.resetSingleLine(lineBean);
                return this;
            };
            // 删除线
            this.removeLine = function (lineBean) {
                var list = [];
                var dir = {};
                for (var i = 0; i < this.lineList.length; i++) {
                    if (this.lineList[i].id != lineBean.id) {
                        list.push(this.lineList[i]);
                        dir[this.lineList[i].id] = this.direction[this.lineList[i].id];
                    }
                }
                this.lineList = list;
                this.direction = dir;
                return this;
            };
            // 连接线
            this.disconnect = function () {
                for (var a = 0; a < this.lineList.length; a++) {
                    var line = this.lineList[a];
                    if (line.beginShape == this) {
                        line.beginShape = null;
                    }
                    if (line.endShape == this) {
                        line.endShape = null;
                    }
                }
                this.lineList = [];
            };
            this.remove = function () {
                this.disconnect();
                this.textShape.remove();
                this.shape.remove();
                if (this.extent) {
                    this.extent.remove();
                }
                if (this.shapeCollection) {
                    this.shapeCollection.removeShape(this);
                }
                return this;
            };
            var ox = 0;
            var oy = 0;
            var hasMove = false;
            var shapeDragger = function (x, y, e) {
                e.stopPropagation();
                hasMove = false;
                if (_this.canMove) {
                    ox = _this.x;
                    oy = _this.y;
                }
            };
            var shapeMove = function (dx, dy, x, y, e) {
                if (_this.canMove) {
                    e.stopPropagation();
                    if (dx != 0 || dy != 0) {
                        hasMove = true;
                    } else {
                        hasMove = false;
                    }
                    if (_this.path && _this.path.length > 0) {
                        var point = Tools.getNearlyPointToLine(_this.path, ox + dx, oy + dy);
                        _this.x = point[0];
                        _this.y = point[1];
                    } else if (_this.scope) {
                        _this.x = ox + dx;
                        _this.y = oy + dy;
                        var minx = _this.scope.minx;
                        var miny = _this.scope.miny;
                        var maxx = _this.scope.maxx;
                        var maxy = _this.scope.maxy;
                        if (_this.x - getHalfWidth() < minx) {
                            _this.x = minx + getHalfWidth();
                        }
                        if (_this.y - getHalfHeight() < miny) {
                            _this.y = miny + getHalfHeight();
                        }
                        if (_this.x + getHalfWidth() > maxx) {
                            _this.x = maxx - getHalfWidth();
                        }
                        if (_this.y + getHalfHeight() > maxy) {
                            _this.y = maxy - getHalfHeight();
                        }
                    } else {
                        _this.x = ox + dx;
                        _this.y = oy + dy;
                    }
                    _this.moveTo();
                    if (_this.moveFun) {
                        _this.moveFun(_this);
                    }
                }
            };
            var shapeUp = function () {
                if (_this.canMove) {
                    if (hasMove && _this.upFun) {
                        _this.upFun(_this);
                    }
                }
                if (hasMove == false && _this.clickFun) {
                    _this.clickFun(_this);
                }
            };
            var shapeDbclick = function () {
                if (hasMove == false && _this.dbClickFun) {
                    _this.dbClickFun(_this);
                }
            };
            var getHalfWidth = function () {
                if (_this.shapeType == ShapeConfig.SHAPE_ELLIPSE) {
                    return 0;
                } else {
                    return _this.width / 2;
                }
            };
            var getHalfHeight = function () {
                if (_this.shapeType == ShapeConfig.SHAPE_ELLIPSE) {
                    return 0;
                } else {
                    return _this.height / 2;
                }
            };
        };

        // 构造函数 线的属性和方法
        PolyLineBean = function () {
            var _this = this;
            GeometryBean.call(this); // PolyLineBean 继承 GeometryBean
            this.geometryType = ShapeConfig.GEOMETRY_POLYLINE;
            this.border = 5;
            this.pointSize = 4;
            this.bShape = null;
            this.eShape = null;
            this.beginShape = null;
            this.endShape = null;
            this.middleShapeType = ShapeConfig.SHAPE_RECT;
            this.middleWidth = 12;
            this.middleHeight = 12;
            this.middleColor = '#999999';
            this.middleFillColor = '#999999';
            this.warningMiddleColor = '#999999';
            this.warningMiddleFillColor = '#999999';
            this.middleFacilityType = ShapeConfig.FACILITY_PIPECABLECONNECTION;
            this.backShape = null;
            this.hasBackShape = false;
            this.shapeList = [];
            this.createConnectFun = null;
            this.deleteConnectFun = null;
            this.middleUp = null;
            this.dasharray = [''];
            var lastSelectShape = null;
            this.createShape = function () {
                if (this.raphael) {
                    this.setPath();
                    var path = this.getPath();
                    this.shape = this.raphael.path(path).attr({
                        stroke: this.color,
                        fill: "none",
                        "stroke-width": this.border,
                        'stroke-dasharray': this.dasharray
                    });
                    this.shape.toFront();
                    this.shape.mousedown(function (e) {
                        e.stopPropagation();
                    });
                    this.shape.click(function (e) {
                        e.stopPropagation();
                        console.log("PolyLineBean");
                        shapeClick(_this);
                    });
                    this.shape.mouseover(function (e) {
                        if (_this.hasBackShape && _this.canMove) {
                            var offset = $('#holder').offset();
                            var x = (e.pageX - offset.left);
                            var y = (e.pageY - offset.top);
                            _this.visitBashShape(true, x, y);
                        }
                        if (_this.overFun) {
                            _this.overFun(_this);
                        }
                    });
                    this.shape.mouseout(function (e) {
                        if (_this.outFun) {
                            _this.outFun(_this);
                        }
                    });

                    this.bShape = new ShapeBean();
                    this.bShape.shapeType = ShapeConfig.SHAPE_ELLIPSE;
                    this.bShape.x = this.bx;
                    this.bShape.y = this.by;
                    this.bShape.hasExtent = false;
                    this.bShape.raphael = this.raphael;
                    this.bShape.width = this.pointSize;
                    this.bShape.height = this.pointSize;
                    this.bShape.canMove = this.canMove;
                    this.bShape.border = 1;
                    this.bShape.scope = this.scope;
                    this.bShape.color = this.color;
                    this.bShape.fillColor = this.fillColor;
                    this.bShape.warningColor = this.warningColor;
                    this.bShape.warningFillColor = this.warningFillColor;
                    this.bShape.toTop = true;
                    this.bShape.overFun = shapeOver;
                    this.bShape.outFun = shapeOut;
                    this.bShape.moveFun = function (shape) {
                        _this.bx = _this.bShape.x;
                        _this.by = _this.bShape.y;
                        _this.moveTo();
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.bx, _this.by, _this.facilityType);
                            if (shapeBean == _this.endShape) {
                                shapeBean = null;
                            }
                        }
                        if (lastSelectShape != shapeBean && lastSelectShape) {
                            lastSelectShape.unSelect();
                        }
                        if (shapeBean) {
                            shapeBean.select();
                            lastSelectShape = shapeBean;
                        }
                        if (_this.beginShape) {
                            _this.beginShape.removeLine(_this);
                        }
                        _this.beginShape = null;
                        _this.resetShape();
                        if (_this.moveFun) {
                            _this.moveFun(this, -1);
                        }
                    };
                    this.bShape.upFun = function (shape) {
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.bx, _this.by, _this.facilityType);
                            if (shapeBean == _this.endShape) {
                                shapeBean = null;
                            }
                        }
                        if (_this.beginShape) {
                            _this.beginShape.removeLine(_this);
                        }
                        _this.beginShape = shapeBean;
                        if (shapeBean) {
                            shapeBean.addLine(_this);
                            shapeBean.unSelect();
                        }
                        if (_this.upFun) {
                            _this.upFun(this, -1);
                        }
                    };
                    this.bShape.clickFun = shapeClick;
                    this.bShape.createShape();

                    this.eShape = new ShapeBean();
                    this.eShape.shapeType = ShapeConfig.SHAPE_ELLIPSE;
                    this.eShape.x = this.ex;
                    this.eShape.y = this.ey;
                    this.eShape.hasExtent = false;
                    this.eShape.raphael = this.raphael;
                    this.eShape.width = this.pointSize;
                    this.eShape.height = this.pointSize;
                    this.eShape.border = 1;
                    this.eShape.scope = this.scope;
                    this.eShape.canMove = this.canMove;
                    this.eShape.color = this.color;
                    this.eShape.fillColor = this.fillColor;
                    this.eShape.warningColor = this.warningColor;
                    this.eShape.warningFillColor = this.warningFillColor;
                    this.eShape.toTop = true;
                    this.eShape.overFun = shapeOver;
                    this.eShape.outFun = shapeOut;
                    this.eShape.moveFun = function (shape) {
                        _this.ex = _this.eShape.x;
                        _this.ey = _this.eShape.y;
                        _this.moveTo();
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.ex, _this.ey, _this.facilityType);
                            if (shapeBean == _this.beginShape) {
                                shapeBean = null;
                            }
                        }
                        if (lastSelectShape != shapeBean && lastSelectShape) {
                            lastSelectShape.unSelect();
                        }
                        if (shapeBean) {
                            shapeBean.select();
                            lastSelectShape = shapeBean;
                        }
                        if (_this.endShape) {
                            _this.endShape.removeLine(_this);
                        }
                        _this.endShape = null;
                        _this.resetShape();
                        if (_this.moveFun) {
                            _this.moveFun(this, 1);
                        }
                    };
                    this.eShape.upFun = function (shape) {
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.ex, _this.ey, _this.facilityType);
                            if (shapeBean == _this.beginShape) {
                                shapeBean = null;
                            }
                        }
                        if (_this.endShape) {
                            _this.endShape.removeLine(_this);
                        }
                        _this.endShape = shapeBean;
                        if (shapeBean) {
                            shapeBean.addLine(_this);
                            shapeBean.unSelect();
                        }
                        if (_this.upFun) {
                            _this.upFun(this, -1);
                        }
                    };
                    this.eShape.clickFun = shapeClick;
                    this.eShape.createShape();
                    this.textTop = -10;
                    this.setCenter().setText().setExtent().unSelect().setBackShape().visitBashShape(false);
                    if (this.shapeCollection) {
                        this.shapeCollection.addShape(this);
                    }
                    this.initMiddleShape();
                }
                return this;
            };
            var canHideBackShape = true;
            this.setBackShape = function () {
                this.backShape = new ShapeBean();
                this.backShape.shapeType = this.middleShapeType;
                this.backShape.x = -1000;
                this.backShape.y = -1000;
                this.backShape.hasExtent = false;
                this.backShape.raphael = this.raphael;
                this.backShape.width = this.middleWidth;
                this.backShape.height = this.middleWidth;
                this.backShape.canMove = false;
                this.backShape.border = 1;
                this.backShape.opacity = 0.2;
                this.backShape.radius = 0;
                this.backShape.color = this.middleColor;
                this.backShape.fillColor = this.middleFillColor;
                this.backShape.toTop = true;
                this.backShape.overFun = function (e) {
                    canHideBackShape = false;
                };
                this.backShape.outFun = function (e) {
                    canHideBackShape = true;
                    _this.visitBashShape(false);
                };
                this.backShape.clickFun = function (shape) {
                    var shp = createMiddelShape(null, _this.backShape.x, _this.backShape.y, true);
                };
                this.backShape.createShape();
                return this;
            };
            var createMiddelShape = function (id, x, y, init) {
                var shape = new ShapeBean();
                shape.shapeType = _this.middleShapeType;
                shape.x = x;
                shape.y = y;
                if (id) {
                    shape.id = id;
                }
                shape.hasExtent = true;
                shape.facilityType = _this.middleFacilityType;
                shape.raphael = _this.raphael;
                shape.width = _this.middleWidth;
                shape.height = _this.middleWidth;
                shape.shapeCollection = _this.shapeCollection;
                shape.border = 1;
                shape.opacity = 0.9;
                shape.radius = 0;
                shape.autoLine = true;
                shape.path = _this.path;
                shape.color = _this.middleColor;
                shape.fillColor = _this.middleFillColor;
                shape.canMove = _this.canMove;
                //	shape.clickFun = shapeClick;
                shape.toTop = true;
                shape.dbClickFun = function (shape) {
                    if (_this.canMove) {
                        _this.removeMiddleShape(shape);
                        shape.remove();
                        if (_this.deleteConnectFun) {
                            _this.deleteConnectFun(_this);
                        }
                    }
                };
                shape.moveFun = function (shape) {
                    _this.updateMiddleShape(shape);
                };
                shape.upFun = function (shape) {
                    if (_this.middleUp) {
                        _this.middleUp(shape);
                    }
                };
                shape.createShape();
                _this.updateMiddleShape(shape);
                if (init && _this.createConnectFun) {
                    _this.createConnectFun(_this);
                }
                return shape;
            };
            this.initMiddleShape = function () {
                if (this.shapeList && this.shapeList.length > 0) {
                    var list = [];
                    for (var a = 0; a < this.shapeList.length; a++) {
                        var shape = this.shapeList[a];
                        if (Tools.isString(shape.shape)) {
                            list.push({
                                shape: shape.shape,
                                x: shape.x,
                                y: shape.y
                            });
                        }
                    }
                    this.shapeList = [];
                    for (var b = 0; b < list.length; b++) {
                        createMiddelShape(list[b].shape, list[b].x, list[b].y, false);
                    }
                }
            };
            this.updateMiddleShape = function (shape) {
                var percent = this.getShapePercent(shape);
                var add = true;
                for (var a = 0; a < this.shapeList.length; a++) {
                    if (this.shapeList[a].shape.id == shape.id) {
                        add = false;
                        this.shapeList[a].percent = percent;
                        break;
                    }
                }
                if (add) {
                    this.shapeList.push({
                        shape: shape,
                        percent: percent
                    });
                }
                return this;
            };
            this.removeMiddleShape = function (shape) {
                var list = [];
                for (var a = 0; a < this.shapeList.length; a++) {
                    if (this.shapeList[a].shape.id != shape.id) {
                        list.push(this.shapeList[a]);
                    }
                }
                this.shapeList = list;
                return this;
            };
            this.getShapePercent = function (shape) {
                var length = this.shape.getTotalLength();
                var x = shape.x;
                var y = shape.y;
                var point = Tools.getNearlyPointToLine(this.path, x, y);
                var l = 0;
                var i = parseInt(point[2]);
                for (var a = 0; a < i; a++) {
                    l += Math.sqrt((this.path[a].x - this.path[a + 1].x) * (this.path[a].x - this.path[a + 1].x) + (this.path[a].y -
                        this.path[a + 1].y) * (this.path[a].y - this.path[a + 1].y));
                }
                l += Math.sqrt((this.path[i].x - x) * (this.path[i].x - x) + (this.path[i].y - y) * (this.path[i].y - y));
                var percent = l / length;
                return percent;
            };
            this.visitBashShape = function (visible, x, y) {
                if (this.hasBackShape) {
                    if (visible) {
                        var point = Tools.getNearlyPointToLine(this.path, x, y);
                        this.backShape.x = point[0];
                        this.backShape.y = point[1];
                        this.backShape.shape.show();
                        this.backShape.moveTo();
                    } else {
                        if (this.backShape) {
                            this.backShape.shape.hide();
                        }
                    }
                }
                return this;
            };
            this.moveTo = function () {
                this.setPath();
                this.shape.attr({
                    path: this.getPath()
                });
                this.bShape.x = this.bx;
                this.bShape.y = this.by;
                this.eShape.x = this.ex;
                this.eShape.y = this.ey;
                this.bShape.moveTo();
                this.eShape.moveTo();
                this.setCenter();
                this.setText();
                this.setExtent();
                var length = this.shape.getTotalLength();
                for (var a = 0; a < this.shapeList.length; a++) {
                    var percent = this.shapeList[a].percent;
                    var shape = this.shapeList[a].shape;
                    var point = this.shape.getPointAtLength(length * percent);
                    shape.x = point.x;
                    shape.y = point.y;
                    shape.moveTo();

                }
                return this;
            };
            this.setWarning = function (state) {
                if (state) {
                    this.shape.attr({
                        stroke: this.warningColor
                    });
                } else {
                    this.shape.attr({
                        stroke: this.color
                    });
                }
                this.bShape.setWarning(state);
                this.eShape.setWarning(state);
            };
            this.setCenter = function () {
                this.cx = (this.bx + this.ex) / 2;
                this.cy = (this.by + this.ey) / 2;
                return this;
            };
            this.setPath = function () {
                var cx1 = 0;
                var cy1 = 0;
                var cx2 = 0;
                var cy2 = 0;
                if (Math.abs(_this.ex - _this.bx) > Math.abs(_this.ey - _this.by)) {
                    cx1 = (_this.ex + _this.bx) / 2;
                    cy1 = _this.by;
                    cx2 = (_this.ex + _this.bx) / 2;
                    cy2 = _this.ey;
                } else {
                    cx1 = _this.bx;
                    cy1 = (_this.ey + _this.by) / 2;
                    cx2 = _this.ex;
                    cy2 = (_this.ey + _this.by) / 2;
                }
                this.path[0] = {
                    x: this.bx,
                    y: this.by
                };
                this.path[1] = {
                    x: cx1,
                    y: cy1
                };
                this.path[2] = {
                    x: cx2,
                    y: cy2
                };
                this.path[3] = {
                    x: this.ex,
                    y: this.ey
                };
            };
            this.getPath = function () {
                var path = ['M', this.path[0].x, this.path[0].y, 'L', this.path[1].x, this.path[1].y, 'L', this.path[2].x, this.path[
                    2].y, 'L', this.path[3].x, this.path[3].y].join(',');
                return path;
            };
            this.disconnect = function () {
                if (this.beginShape) {
                    this.beginShape.removeLine(this);
                }
                if (this.endShape) {
                    this.endShape.removeLine(this);
                }
                this.beginShape = null;
                this.endShape = null;
                return this;
            };
            this.remove = function () {
                this.disconnect();
                this.shape.remove();
                this.bShape.remove();
                this.eShape.remove();
                this.textShape.remove();
                if (this.backShape) {
                    this.backShape.remove();
                }
                for (var a = 0; a < this.shapeList.length; a++) {
                    this.shapeList[a].shape.remove();
                }
                if (this.extent) {
                    this.extent.remove();
                }
                if (this.shapeCollection) {
                    this.shapeCollection.removeShape(this);
                }
                return this;
            };
            this.resetShape = function () {
                if (this.beginShape) {
                    this.beginShape.resetSingleLine(_this);
                }
                if (this.endShape) {
                    this.endShape.resetSingleLine(_this);
                }
                return this;
            };
            var shapeClick = function (shape) {
                _this.shape.toFront();
                _this.bShape.shape.toFront();
                _this.eShape.shape.toFront();
                if (_this.backShape) {
                    _this.backShape.shape.toFront();
                }
                for (var a = 0; a < _this.shapeList.length; a++) {
                    _this.shapeList[a].shape.shape.toFront();
                }
                _this.textShape.toFront();
                if (_this.clickFun) {
                    _this.clickFun(_this);
                }
            };
            var shapeOver = function (shape) {
                shape.width = _this.pointSize * 2;
                shape.height = _this.pointSize * 2;
                shape.moveTo();
                if (_this.overFun) {
                    _this.overFun(shape);
                }
            };
            var shapeOut = function (shape) {
                shape.width = _this.pointSize;
                shape.height = _this.pointSize;
                shape.moveTo();
                if (_this.outFun) {
                    _this.outFun(shape);
                }
            };
        };

        // 构造函数 曲线的属性和方法
        CurveLineBean = function () {
            var _this = this;
            PolyLineBean.call(this); // CurveLineBean 继承 PolyLineBean
            this.geometryType = ShapeConfig.GEOMETRY_CURVELINE;
            this.mShape = null;
            var lastSelectShape = null;
            this.createShape = function () {
                if (this.raphael) {
                    this.setPath();
                    var path = this.getPath();
                    this.shape = this.raphael.path(path).attr({
                        stroke: this.color,
                        fill: "none",
                        "stroke-width": this.border
                    });
                    this.shape.toFront();
                    this.shape.mousedown(function (e) {
                        e.stopPropagation();
                    });
                    this.shape.click(function (e) {
                        e.stopPropagation();
                        console.log("CurveLineBean");
                        shapeClick(_this);
                    });
                    this.shape.mouseover(function (e) {
                        if (_this.overFun) {
                            _this.overFun(_this);
                        }
                    });
                    this.shape.mouseout(function (e) {
                        if (_this.outFun) {
                            _this.outFun(_this);
                        }
                    });

                    this.bShape = new ShapeBean();
                    this.bShape.shapeType = ShapeConfig.SHAPE_ELLIPSE;
                    this.bShape.x = this.bx;
                    this.bShape.y = this.by;
                    this.bShape.hasExtent = false;
                    this.bShape.raphael = this.raphael;
                    this.bShape.width = this.pointSize;
                    this.bShape.height = this.pointSize;
                    this.bShape.border = 1;
                    this.bShape.scope = this.scope;
                    this.bShape.canMove = this.canMove;
                    this.bShape.color = this.color;
                    this.bShape.fillColor = this.fillColor;
                    this.bShape.warningColor = this.warningColor;
                    this.bShape.warningFillColor = this.warningFillColor;
                    this.bShape.toTop = true;
                    this.bShape.overFun = shapeOver;
                    this.bShape.outFun = shapeOut;
                    this.bShape.moveFun = function (shape) {
                        _this.bx = _this.bShape.x;
                        _this.by = _this.bShape.y;
                        _this.moveTo();
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.bx, _this.by, _this.facilityType);
                            if (shapeBean == _this.endShape) {
                                shapeBean = null;
                            }
                        }
                        if (lastSelectShape != shapeBean && lastSelectShape) {
                            lastSelectShape.unSelect();
                        }
                        if (shapeBean) {
                            shapeBean.select();
                            lastSelectShape = shapeBean;
                        }
                        if (_this.moveFun) {
                            _this.moveFun(this, -1);
                        }
                    };
                    this.bShape.upFun = function (shape) {
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.bx, _this.by, _this.facilityType);
                            if (shapeBean == _this.endShape) {
                                shapeBean = null;
                            }
                        }
                        if (_this.beginShape) {
                            _this.beginShape.removeLine(_this);
                        }
                        _this.beginShape = shapeBean;
                        if (shapeBean) {
                            shapeBean.addLine(_this);
                            shapeBean.unSelect();
                        }
                        if (_this.upFun) {
                            _this.upFun(this, -1);
                        }
                    };
                    this.bShape.clickFun = shapeClick;
                    this.bShape.createShape();

                    this.mShape = new ShapeBean();
                    this.mShape.shapeType = this.middleShapeType;
                    this.mShape.x = this.cx;
                    this.mShape.y = this.cy;
                    this.mShape.hasExtent = false;
                    this.mShape.raphael = this.raphael;
                    this.mShape.width = this.middleWidth;
                    this.mShape.height = this.middleHeight;
                    this.mShape.border = 1;
                    this.mShape.scope = this.scope;
                    this.mShape.canMove = this.canMove;
                    this.mShape.color = this.middleColor;
                    this.mShape.fillColor = this.middleFillColor;
                    this.mShape.warningColor = this.warningMiddleColor;
                    this.mShape.warningFillColor = this.warningMiddleFillColor;
                    this.mShape.toTop = true;
                    this.mShape.overFun = shapeOver;
                    this.mShape.outFun = shapeOut;
                    this.mShape.moveFun = function (shape) {
                        _this.cx = shape.x;
                        _this.cy = shape.y;
                        _this.moveTo();
                        _this.resetShape();
                        if (_this.moveFun) {
                            _this.moveFun(this, 0);
                        }
                    };
                    this.mShape.upFun = function (shape) {
                        if (_this.upFun) {
                            _this.upFun(this, 0);
                        }
                    };
                    this.mShape.clickFun = shapeClick;
                    this.mShape.createShape();

                    this.eShape = new ShapeBean();
                    this.eShape.shapeType = ShapeConfig.SHAPE_ELLIPSE;
                    this.eShape.x = this.ex;
                    this.eShape.y = this.ey;
                    this.eShape.hasExtent = false;
                    this.eShape.raphael = this.raphael;
                    this.eShape.width = this.pointSize;
                    this.eShape.height = this.pointSize;
                    this.eShape.border = 1;
                    this.eShape.scope = this.scope;
                    this.eShape.canMove = this.canMove;
                    this.eShape.color = this.color;
                    this.eShape.fillColor = this.fillColor;
                    this.eShape.warningColor = this.warningColor;
                    this.eShape.warningFillColor = this.warningFillColor;
                    this.eShape.toTop = true;
                    this.eShape.overFun = shapeOver;
                    this.eShape.outFun = shapeOut;
                    this.eShape.moveFun = function (shape) {
                        _this.ex = _this.eShape.x;
                        _this.ey = _this.eShape.y;
                        _this.moveTo();
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.ex, _this.ey, _this.facilityType);
                            if (shapeBean == _this.beginShape) {
                                shapeBean = null;
                            }
                        }
                        if (lastSelectShape != shapeBean && lastSelectShape) {
                            lastSelectShape.unSelect();
                        }
                        if (shapeBean) {
                            shapeBean.select();
                            lastSelectShape = shapeBean;
                        }
                        if (_this.moveFun) {
                            _this.moveFun(this, 1);
                        }
                    };
                    this.eShape.upFun = function (shape) {
                        var shapeBean = null;
                        if (_this.shapeCollection) {
                            shapeBean = _this.shapeCollection.getShapeByLocat(_this.ex, _this.ey, _this.facilityType);
                            if (shapeBean == _this.beginShape) {
                                shapeBean = null;
                            }
                        }
                        if (_this.endShape) {
                            _this.endShape.removeLine(_this);
                        }
                        _this.endShape = shapeBean;
                        if (shapeBean) {
                            shapeBean.addLine(_this);
                            shapeBean.unSelect();
                        }
                        if (_this.upFun) {
                            _this.upFun(this, -1);
                        }
                    };
                    this.eShape.clickFun = shapeClick;
                    this.eShape.createShape();
                    this.textTop = 20;
                    this.setText();
                    this.setExtent().unSelect();
                    if (this.shapeCollection) {
                        this.shapeCollection.addShape(this);
                    }
                }
                return this;
            };
            this.moveTo = function () {
                this.setPath();
                this.shape.attr({
                    path: this.getPath()
                });
                this.bShape.x = this.bx;
                this.bShape.y = this.by;
                this.mShape.x = this.cx;
                this.mShape.y = this.cy;
                this.eShape.x = this.ex;
                this.eShape.y = this.ey;
                this.bShape.moveTo();
                this.mShape.moveTo();
                this.eShape.moveTo();
                this.setText();
                this.setExtent();
                return this;
            };
            this.setWarning = function (state) {
                if (state) {
                    this.shape.attr({
                        stroke: this.warningColor
                    });
                } else {
                    this.shape.attr({
                        stroke: this.color
                    });
                }
                this.bShape.setWarning(state);
                this.mShape.setWarning(state);
                this.eShape.setWarning(state);
            };
            this.setPath = function () {
                this.path[0] = {
                    x: this.bx,
                    y: this.by
                };
                this.path[1] = {
                    x: this.cx,
                    y: this.cy
                };
                this.path[2] = {
                    x: this.ex,
                    y: this.ey
                };
            };
            this.getPath = function () {
                var path = ['M', this.path[0].x, this.path[0].y, 'R', this.path[1].x, this.path[1].y, this.path[2].x, this.path[2]
                    .y
                ].join(',');
                return path;
            };
            this.remove = function () {
                this.disconnect();
                this.shape.remove();
                this.bShape.remove();
                this.mShape.remove();
                this.eShape.remove();
                this.textShape.remove();
                if (this.extent) {
                    this.extent.remove();
                }
                if (this.shapeCollection) {
                    this.shapeCollection.removeShape(this);
                }
                return this;
            };
            var shapeClick = function (shape) {
                _this.shape.toFront();
                _this.bShape.shape.toFront();
                _this.mShape.shape.toFront();
                _this.eShape.shape.toFront();
                _this.textShape.toFront();
                if (_this.clickFun) {
                    _this.clickFun(_this);
                }
            };
            var shapeOver = function (shape) {
                if (_this.mShape != shape) {
                    shape.width = _this.pointSize * 2;
                    shape.height = _this.pointSize * 2;
                } else {
                    shape.width = _this.middleWidth * 2;
                    shape.height = _this.middleHeight * 2;
                }
                shape.moveTo();
                if (_this.overFun) {
                    _this.overFun(shape);
                }
            };
            var shapeOut = function (shape) {
                if (_this.mShape != shape) {
                    shape.width = _this.pointSize;
                    shape.height = _this.pointSize;
                } else {
                    shape.width = _this.middleWidth;
                    shape.height = _this.middleHeight;
                }
                shape.moveTo();
                if (_this.outFun) {
                    _this.outFun(shape);
                }
            };
        };

        // 构造函数 直线的属性和方法
        LineBean = function () {
            var _this = this;
            PolyLineBean.call(this); // LineBean 继承 PolyLineBean
            this.geometryType = ShapeConfig.GEOMETRY_LINE;
            this.setPath = function () {
                this.path[0] = {
                    x: this.bx,
                    y: this.by
                };
                this.path[1] = {
                    x: this.ex,
                    y: this.ey
                };
            };
            this.getPath = function () {
                var path = ['M', this.path[0].x, this.path[0].y, 'L', this.path[1].x, this.path[1].y].join(',');
                return path;
            };
        };

        // 工具类
        Tools = {
            isArray: function (obj) {
                return Object.prototype.toString.call(obj) === '[object Array]';
            },
            isObject: function (obj) {
                return Object.prototype.toString.call(obj) === '[object Object]';
            },
            isNumber: function (obj) {
                return Object.prototype.toString.call(obj) === '[object Number]';
            },
            isString: function (obj) {
                return Object.prototype.toString.call(obj) === '[object String]';
            },
            isFunction: function (obj) {
                return Object.prototype.toString.call(obj) === '[object Function]';
            },
            isBoolean: function (obj) {
                return Object.prototype.toString.call(obj) === '[object Boolean]';
            },
            isNull: function (obj) {
                return obj == null || obj == '' || obj == undefined;
            },
            isNotNull: function (obj) {
                return !this.isNull(obj);
            },
            getUUID: function () {
                var s = [];
                var hexDigits = '0123456789abcdefghijklmnopqrstuvwxyz';
                for (var i = 0; i < 36; i++) {
                    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
                }
                s[8] = s[13] = s[18] = s[23] = '-';
                var uuid = s.join('');
                return uuid;
            },
            setValue: function (name, index, val) {
                // console.log(name, index, val);
                if (val != null && val != undefined) {
                    // console.log(val)
                    try {
                        var htmlType = $($("[name='" + name + "']")[index]).attr("type");
                        if (htmlType == "text" || htmlType == "double" || htmlType == "textarea" || htmlType == "select-one" ||
                            htmlType == "hidden" || htmlType == "button") {
                            $($("[name='" + name + "']")[index]).val(val);
                        } else if (htmlType == "radio") {
                            $($("input[type=radio][name='" + name + "'][value='" + val + "']")[index]).attr("checked", true);
                        } else if (htmlType == "checkbox") {
                            var vals = val.split(",");
                            for (var i = 0; i < vals.length; i++) {
                                $($("input[type=checkbox][name='" + name + "'][value='" + vals[i] + "']")[index]).attr("checked", true);
                            }
                        } else {
                            $($("[name='" + name + "']")[index]).html(val);
                        }
                    } catch (e) { }
                }
            },
            getNearlyPointToLine: function (path, oX, oY) {
                var pointToPoint = -1;
                var pointToLine = -1;
                var point1 = [];
                var point2 = [];
                for (var i = 0; i < path.length; i++) {
                    var tm1 = Math.sqrt((path[i].x - oX) * (path[i].x - oX) + (path[i].y - oY) * (path[i].y - oY));
                    if (i == 0) {
                        pointToPoint = tm1;
                        point1[0] = path[i].x;
                        point1[1] = path[i].y;
                        point1[2] = i;
                        point1[3] = pointToPoint;
                    }
                    if (tm1 < pointToPoint) {
                        pointToPoint = tm1;
                        point1[0] = path[i].x;
                        point1[1] = path[i].y;
                        point1[2] = i;
                        point1[3] = pointToPoint;
                    }
                    if (i > 0 && (path[i].x - path[i - 1].x != 0 || path[i].y - path[i - 1].y != 0)) {
                        var a = (path[i - 1].x - oX) * (path[i - 1].x - oX) + (path[i - 1].y - oY) * (path[i - 1].y - oY);
                        var b = (path[i].x - oX) * (path[i].x - oX) + (path[i].y - oY) * (path[i].y - oY);
                        var c = (path[i].x - path[i - 1].x) * (path[i].x - path[i - 1].x) + (path[i].y - path[i - 1].y) * (path[i].y -
                            path[i - 1].y);
                        if (a + c >= b && b + c >= a) {
                            var x0 = 0;
                            var y0 = 0;
                            if (path[i].x - path[i - 1].x == 0) {
                                x0 = path[i].x;
                                y0 = oY;
                            } else if (path[i].y - path[i - 1].y == 0) {
                                x0 = oX;
                                y0 = path[i].y;
                            } else {
                                var k1 = 0.0;
                                if (path[i].x - path[i - 1].x == 0) {
                                    k1 = 1.0;
                                } else {
                                    k1 = (path[i].y - path[i - 1].y) / (path[i].x - path[i - 1].x);
                                }
                                var k2 = 0.0;
                                if (k1 == 0.0) {
                                    k2 = 1.0;
                                } else if (k1 == 1.0) {
                                    k2 = 0.0;
                                } else {
                                    k2 = -1 / k1;
                                }
                                var b1 = path[i].y - k1 * path[i].x;
                                var b2 = oY - k2 * oX;
                                x0 = (b2 - b1) / (k1 - k2);
                                y0 = k1 * x0 + b1;
                            }
                            var tm2 = Math.sqrt((x0 - oX) * (x0 - oX) + (y0 - oY) * (y0 - oY));
                            if (pointToLine == -1) {
                                pointToLine = tm2;
                                point2[0] = x0;
                                point2[1] = y0;
                                point2[2] = i - 1;
                                point2[3] = i;
                                point2[4] = pointToLine;
                            }
                            if (tm2 < pointToLine) {
                                pointToLine = tm2;
                                point2[0] = x0;
                                point2[1] = y0;
                                point2[2] = i - 1;
                                point2[3] = i;
                                point2[4] = pointToLine;
                            }
                        }
                    }
                }
                if (pointToPoint < pointToLine && pointToLine != -1) {
                    return point1;
                } else if (pointToPoint > pointToLine && pointToLine != -1) {
                    return point2;
                } else {
                    return point1;
                }
            }
        };

        /*
         *  设备列表的显隐 与 鼠标事件
         */
        var hasMove = false;
        var o = document.getElementById("equipmentlist");
        $("#equipmentlist").off('mousedown');
        $("#equipmentlist").on('mousedown', function (e) {
            // equipmentMove = true;
            // equipmentClick = true;
            hasMove = false;
            var offsetStart = {
                x: this.offsetLeft,
                y: this.offsetTop
            };
            var mouseStart = {
                x: e.pageX,
                y: e.pageY
            };

            function mv(e) {
                hasMove = true;
                if (mouseStart.x == e.pageX && mouseStart.y == e.pageY) {
                    hasMove = false;
                }
                var divleft = offsetStart.x + e.pageX - mouseStart.x;
                var divtop = offsetStart.y + e.pageY - mouseStart.y;
                //left  当小于等于零时，设置为零 防止div拖出document之外
                if (divleft <= 0) {
                    divleft = 0;
                }
                //当left 超过文档右边界  设置为右边界
                else if (divleft >= document.documentElement.clientWidth - o.offsetWidth) {
                    divleft = document.documentElement.clientWidth - o.offsetWidth;
                }
                if (divtop <= 0) {
                    divtop = 0;
                } else if (divtop >= document.documentElement.clientHeight - o.offsetHeight) {
                    divtop = document.documentElement.clientHeight - o.offsetHeight;
                }

                o.style.left = divleft + 'px';
                o.style.top = divtop + 'px';
            }
            $(document).off('dragstart');
            $(document).on('dragstart', function (e) {
                e.preventDefault()
            });
            $(document).off('mousemove');
            $(document).on('mousemove', mv);
            $(document).off('mouseup');
            $(document).on('mouseup', function (e) {
                $(document).off('mousemove', mv);
            });
        });

        // equpmentlist
        $("#equipmentheader").off('click');
        $("#equipmentheader").on('click', function () {
            if (!hasMove) {
                if ($("#equipmentview").css("display") == 'none') {
                    $("#equipmentview").show();
                } else {
                    $("#equipmentview").hide();
                }
            }
        });
    </script>
</body>

</html>